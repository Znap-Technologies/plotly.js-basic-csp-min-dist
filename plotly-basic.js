(cspnonce=process.env.VUE_APP_CSPNONCE,function webpackUniversalModuleDefinition(e,t){if(typeof exports==="object"&&typeof module==="object")module.exports=t();else if(typeof define==="function"&&define.amd)define([],t);else if(typeof exports==="object")exports["Plotly"]=t();else e["Plotly"]=t()})(self,function(){return function(){var a={8847:function(e,t,r){"use strict";var a=r(1828);var n={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in n){var o=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");a.addStyleRule(o,n[i])}},8222:function(e,t,r){"use strict";e.exports=r(2887)},7206:function(e,t,r){"use strict";e.exports=r(822)},9509:function(e,t,r){"use strict";e.exports=r(2201)},9548:function(e,t,r){"use strict";e.exports=r(8729)},1039:function(e,t,r){"use strict";e.exports=r(4382)},4296:function(e,t,r){"use strict";e.exports=r(3102)},2576:function(e,t,r){"use strict";var a=r(9548);a.register([r(7206),r(4201),r(8222),r(1039),r(4296),r(6398),r(9509)]);e.exports=a},4201:function(e,t,r){"use strict";e.exports=r(8810)},6398:function(e,t,r){"use strict";e.exports=r(2275)},2884:function(e){"use strict";e.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:true},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:true}]},215:function(e,t,r){"use strict";var a=r(2884);var n=r(1940);var i=r(5555);var o=r(4467).templatedArray;var l=r(4695);function arrowAxisRefDescription(e){return["In order for absolute positioning of the arrow to work, *a"+e+"ref* must be exactly the same as *"+e+"ref*, otherwise *a"+e+"ref* will revert to *pixel* (explained next).","For relative positioning, *a"+e+"ref* can be set to *pixel*,","in which case the *a"+e+"* value is specified in pixels","relative to *"+e+"*.","Absolute positioning is useful","for trendline annotations which should continue to indicate","the correct trend when zoomed. Relative positioning is useful","for specifying the text offset for an annotated point."].join(" ")}function arrowCoordinateDescription(e,t,r){return["Sets the",e,"component of the arrow tail about the arrow head.","If `a"+e+"ref` is `pixel`, a positive (negative)","component corresponds to an arrow pointing","from",r,"to",t,"("+t,"to",r+").","If `a"+e+"ref` is not `pixel` and is exactly the same as `"+e+"ref`,","this is an absolute value on that axis,","like `"+e+"`, specified in the same coordinates as `"+e+"ref`."].join(" ")}e.exports=o("annotation",{visible:{valType:"boolean",dflt:true,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:n({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:true,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:a.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:a.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[false,"onoff","onout"],dflt:false,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:n({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(e,t,r){"use strict";var a=r(1828);var _=r(9298);var n=r(2605).draw;e.exports=function calcAutorange(e){var t=e._fullLayout;var r=a.filterVisible(t.annotations);if(r.length&&e._fullData.length){return a.syncOrAsync([n,annAutorange],e)}};function annAutorange(i){var e=i._fullLayout;a.filterVisible(e.annotations).forEach(function(e){var t=_.getFromId(i,e.xref);var r=_.getFromId(i,e.yref);var a=_.getRefType(e.xref);var n=_.getRefType(e.yref);e._extremes={};if(a==="range")calcAxisExpansion(e,t);if(n==="range")calcAxisExpansion(e,r)})}function calcAxisExpansion(e,t){var r=t._id;var a=r.charAt(0);var n=e[a];var i=e["a"+a];var o=e[a+"ref"];var l=e["a"+a+"ref"];var s=e["_"+a+"padplus"];var c=e["_"+a+"padminus"];var u={x:1,y:-1}[a]*e[a+"shift"];var f=3*e.arrowsize*e.arrowwidth||0;var d=f+u;var v=f-u;var h=3*e.startarrowsize*e.arrowwidth||0;var p=h+u;var g=h-u;var m;if(l===o){var y=_.findExtremes(t,[t.r2c(n)],{ppadplus:d,ppadminus:v});var x=_.findExtremes(t,[t.r2c(i)],{ppadplus:Math.max(s,p),ppadminus:Math.max(c,g)});m={min:[y.min[0],x.min[0]],max:[y.max[0],x.max[0]]}}else{p=i?p+i:p;g=i?g-i:g;m=_.findExtremes(t,[t.r2c(n)],{ppadplus:Math.max(s,d,p),ppadminus:Math.max(c,v,g)})}e._extremes[r]=m}},4317:function(e,t,r){"use strict";var c=r(1828);var u=r(3972);var f=r(4467).arrayEditor;e.exports={hasClickToShow:hasClickToShow,onClick:onClick};function hasClickToShow(e,t){var r=getToggleSets(e,t);return r.on.length>0||r.explicitOff.length>0}function onClick(e,t){var r=getToggleSets(e,t);var a=r.on;var n=r.off.concat(r.explicitOff);var i={};var o=e._fullLayout.annotations;var l,s;if(!(a.length||n.length))return;for(l=0;l<a.length;l++){s=f(e.layout,"annotations",o[a[l]]);s.modifyItem("visible",true);c.extendFlat(i,s.getUpdateObj())}for(l=0;l<n.length;l++){s=f(e.layout,"annotations",o[n[l]]);s.modifyItem("visible",false);c.extendFlat(i,s.getUpdateObj())}return u.call("update",e,{},i)}function getToggleSets(e,t){var r=e._fullLayout.annotations;var a=[];var n=[];var i=[];var o=(t||[]).length;var l,s,c,u,f,d,v,h;for(l=0;l<r.length;l++){c=r[l];u=c.clicktoshow;if(u){for(s=0;s<o;s++){f=t[s];d=f.xaxis;v=f.yaxis;if(d._id===c.xref&&v._id===c.yref&&d.d2r(f.x)===clickData2r(c._xclick,d)&&v.d2r(f.y)===clickData2r(c._yclick,v)){if(c.visible){if(u==="onout")h=n;else h=i}else{h=a}h.push(l);break}}if(s===o){if(c.visible&&u==="onout")n.push(l)}}}return{on:a,off:n,explicitOff:i}}function clickData2r(e,t){return t.type==="log"?t.l2r(e):t.d2r(e)}},5625:function(e,t,r){"use strict";var m=r(1828);var y=r(7901);e.exports=function handleAnnotationCommonDefaults(e,t,r,a){a("opacity");var n=a("bgcolor");var i=a("bordercolor");var o=y.opacity(i);a("borderpad");var l=a("borderwidth");var s=a("showarrow");a("text",s?" ":r._dfltTitle.annotation);a("textangle");m.coerceFont(a,"font",r.font);a("width");a("align");var c=a("height");if(c)a("valign");if(s){var u=a("arrowside");var f;var d;if(u.indexOf("end")!==-1){f=a("arrowhead");d=a("arrowsize")}if(u.indexOf("start")!==-1){a("startarrowhead",f);a("startarrowsize",d)}a("arrowcolor",o?t.bordercolor:y.defaultLine);a("arrowwidth",(o&&l||1)*2);a("standoff");a("startstandoff")}var v=a("hovertext");var h=r.hoverlabel||{};if(v){var p=a("hoverlabel.bgcolor",h.bgcolor||(y.opacity(n)?y.rgb(n):y.defaultLine));var g=a("hoverlabel.bordercolor",h.bordercolor||y.contrast(p));m.coerceFont(a,"hoverlabel.font",{family:h.font.family,size:h.font.size,color:h.font.color||g})}a("captureevents",!!v)}},4128:function(e,t,r){"use strict";var f=r(2770);var d=r(8163);e.exports=function convertCoords(e,a,t,n){a=a||{};var i=t==="log"&&a.type==="linear";var r=t==="linear"&&a.type==="log";if(!(i||r))return;var o=e._fullLayout.annotations;var l=a._id.charAt(0);var s;var c;function convert(e){var t=s[e];var r=null;if(i)r=d(t,a.range);else r=Math.pow(10,t);if(!f(r))r=null;n(c+e,r)}for(var u=0;u<o.length;u++){s=o[u];c="annotations["+u+"].";if(s[l+"ref"]===a._id)convert(l);if(s["a"+l+"ref"]===a._id)convert("a"+l)}}},4046:function(e,t,r){"use strict";var y=r(1828);var x=r(9298);var a=r(5501);var _=r(5625);var b=r(215);e.exports=function supplyLayoutDefaults(e,t){a(e,t,{name:"annotations",handleItemDefaults:handleAnnotationDefaults})};function handleAnnotationDefaults(r,a,e){function coerce(e,t){return y.coerce(r,a,b,e,t)}var t=coerce("visible");var n=coerce("clicktoshow");if(!(t||n))return;_(r,a,e,coerce);var i=a.showarrow;var o=["x","y"];var l=[-10,-30];var s={_fullLayout:e};for(var c=0;c<2;c++){var u=o[c];var f=x.coerceRef(r,a,s,u,"","paper");if(f!=="paper"){var d=x.getFromId(s,f);d._annIndices.push(a._index)}x.coercePosition(a,s,coerce,f,u,.5);if(i){var v="a"+u;var h=x.coerceRef(r,a,s,v,"pixel",["pixel","paper"]);if(h!=="pixel"&&h!==f){h=a[v]="pixel"}var p=h==="pixel"?l[c]:.4;x.coercePosition(a,s,coerce,h,v,p)}coerce(u+"anchor");coerce(u+"shift")}y.noneOrAll(r,a,["x","y"]);if(i){y.noneOrAll(r,a,["ax","ay"])}if(n){var g=coerce("xclick");var m=coerce("yclick");a._xclick=g===undefined?a.x:x.cleanPosition(g,s,a.xref);a._yclick=m===undefined?a.y:x.cleanPosition(m,s,a.yref)}}},2605:function(e,t,r){"use strict";var s=r(9898);var he=r(3972);var a=r(4875);var pe=r(1828);var ge=pe.strTranslate;var me=r(9298);var ye=r(7901);var xe=r(1424);var c=r(211);var _e=r(3893);var be=r(6964);var we=r(8569);var u=r(4467).arrayEditor;var Te=r(3011);e.exports={draw:draw,drawOne:drawOne,drawRaw:drawRaw};function draw(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var r=0;r<t.annotations.length;r++){if(t.annotations[r].visible){drawOne(e,r)}}return a.previousPromises(e)}function drawOne(e,t){var r=e._fullLayout;var a=r.annotations[t]||{};var n=me.getFromId(e,a.xref);var i=me.getFromId(e,a.yref);if(n)n.setScale();if(i)i.setScale();drawRaw(e,a,t,false,n,i)}function shiftPosition(e,t,r,a,n){var i=n[r];var o=n[r+"ref"];var l=r.indexOf("y")!==-1;var s=me.getRefType(o)==="domain";var c=l?a.h:a.w;if(e){if(s){return i+(l?-t:t)/e._length}else{return e.p2r(e.r2p(i)+t)}}else{return i+(l?-t:t)/c}}function drawRaw(U,G,r,q,Z,W){var X=U._fullLayout;var J=U._fullLayout._size;var K=U._context.edits;var e,t;if(q){e="annotation-"+q;t=q+".annotations"}else{e="annotation";t="annotations"}var a=u(U.layout,t,G);var Q=a.modifyBase;var $=a.modifyItem;var ee=a.getUpdateObj;X._infolayer.selectAll("."+e+'[data-index="'+r+'"]').remove();var te="clip"+X._uid+"_ann"+r;if(!G._input||G.visible===false){s.selectAll("#"+te).remove();return}var re={x:{},y:{}};var ae=+G.textangle||0;var ne=X._infolayer.append("g").classed(e,true).attr("data-index",String(r)).style("opacity",G.opacity);var ie=ne.append("g").classed("annotation-text-g",true);var oe=K[G.showarrow?"annotationTail":"annotationPosition"];var n=G.captureevents||K.annotationText||oe;function makeEventData(e){var t={index:r,annotation:G._input,fullAnnotation:G,event:e};if(q){t.subplotId=q}return t}var le=ie.append("g").style("pointer-events",n?"all":null).call(be,"pointer").on("click",function(){U._dragging=false;U.emit("plotly_clickannotation",makeEventData(s.event))});if(G.hovertext){le.on("mouseover",function(){var e=G.hoverlabel;var t=e.font;var r=this.getBoundingClientRect();var a=U.getBoundingClientRect();c.loneHover({x0:r.left-a.left,x1:r.right-a.left,y:(r.top+r.bottom)/2-a.top,text:G.hovertext,color:e.bgcolor,borderColor:e.bordercolor,fontFamily:t.family,fontSize:t.size,fontColor:t.color},{container:X._hoverlayer.node(),outerContainer:X._paper.node(),gd:U})}).on("mouseout",function(){c.loneUnhover(X._hoverlayer.node())})}var se=G.borderwidth;var i=G.borderpad;var ce=se+i;var ue=le.append("rect").attr("class","bg").style("stroke-width",se+"px").call(ye.stroke,G.bordercolor).call(ye.fill,G.bgcolor);var fe=G.width||G.height;var de=X._topclips.selectAll("#"+te).data(fe?[0]:[]);de.enter().append("clipPath").classed("annclip",true).attr("id",te).append("rect");de.exit().remove();var o=G.font;var l=X._meta?pe.templateString(G.text,X._meta):G.text;var ve=le.append("text").classed("annotation-text",true).text(l);function textLayout(e){e.call(xe.font,o).attr({"text-anchor":{left:"start",right:"end"}[G.align]||"middle"});_e.convertToTspans(e,U,drawGraphicalElements);return e}function drawGraphicalElements(){var e=ve.selectAll("a");if(e.size()===1&&e.text()===ve.text()){var F=le.insert("a",":first-child").attr({"xlink:xlink:href":e.attr("xlink:href"),"xlink:xlink:show":e.attr("xlink:show")}).style({cursor:"pointer"});F.node().appendChild(ue.node())}var t=le.select(".annotation-text-math-group");var r=!t.empty();var a=xe.bBox((r?t:ve).node());var n=a.width;var i=a.height;var o=G.width||n;var l=G.height||i;var s=Math.round(o+2*ce);var c=Math.round(l+2*ce);function shiftFraction(e,t){if(t==="auto"){if(e<1/3)t="left";else if(e>2/3)t="right";else t="center"}return{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}var u=false;var f=["x","y"];for(var d=0;d<f.length;d++){var v=f[d];var h=G[v+"ref"]||v;var p=G["a"+v+"ref"];var g={x:Z,y:W}[v];var m=(ae+(v==="x"?0:-90))*Math.PI/180;var y=s*Math.cos(m);var x=c*Math.sin(m);var _=Math.abs(y)+Math.abs(x);var N=G[v+"anchor"];var b=G[v+"shift"]*(v==="x"?1:-1);var w=re[v];var T;var k;var A;var M;var S;var C=me.getRefType(h);if(g&&C!=="domain"){var L=g.r2fraction(G[v]);if(L<0||L>1){if(p===h){L=g.r2fraction(G["a"+v]);if(L<0||L>1){u=true}}else{u=true}}T=g._offset+g.r2p(G[v]);M=.5}else{var E=C==="domain";if(v==="x"){A=G[v];T=E?g._offset+g._length*A:T=J.l+J.w*A}else{A=1-G[v];T=E?g._offset+g._length*A:T=J.t+J.h*A}M=G.showarrow?.5:A}if(G.showarrow){w.head=T;var D=G["a"+v];S=y*shiftFraction(.5,G.xanchor)-x*shiftFraction(.5,G.yanchor);if(p===h){var z=me.getRefType(p);if(z==="domain"){if(v==="y"){D=1-D}w.tail=g._offset+g._length*D}else if(z==="paper"){if(v==="y"){D=1-D;w.tail=J.t+J.h*D}else{w.tail=J.l+J.w*D}}else{w.tail=g._offset+g.r2p(D)}k=S}else{w.tail=T+D;k=S+D}w.text=w.tail+S;var B=X[v==="x"?"width":"height"];if(h==="paper"){w.head=pe.constrain(w.head,1,B-1)}if(p==="pixel"){var O=-Math.max(w.tail-3,w.text);var P=Math.min(w.tail+3,w.text)-B;if(O>0){w.tail+=O;w.text+=O}else if(P>0){w.tail-=P;w.text-=P}}w.tail+=b;w.head+=b}else{S=_*shiftFraction(M,N);k=S;w.text=T+S}w.text+=b;S+=b;k+=b;G["_"+v+"padplus"]=_/2+k;G["_"+v+"padminus"]=_/2-k;G["_"+v+"size"]=_;G["_"+v+"shift"]=S}if(u){le.remove();return}var I=0;var R=0;if(G.align!=="left"){I=(o-n)*(G.align==="center"?.5:1)}if(G.valign!=="top"){R=(l-i)*(G.valign==="middle"?.5:1)}if(r){t.select("svg").attr({x:ce+I-1,y:ce+R}).call(xe.setClipUrl,fe?te:null,U)}else{var H=ce+R-a.top;var j=ce+I-a.left;ve.call(_e.positionText,j,H).call(xe.setClipUrl,fe?te:null,U)}de.select("rect").call(xe.setRect,ce,ce,o,l);ue.call(xe.setRect,se/2,se/2,s-se,c-se);le.call(xe.setTranslate,Math.round(re.x.text-s/2),Math.round(re.y.text-c/2));ie.attr({transform:"rotate("+ae+","+re.x.text+","+re.y.text+")"});var V=function(e,t){ne.selectAll(".annotation-arrow-g").remove();var r=re.x.head;var a=re.y.head;var n=re.x.tail+e;var i=re.y.tail+t;var o=re.x.text+e;var l=re.y.text+t;var s=pe.rotationXYMatrix(ae,o,l);var c=pe.apply2DTransform(s);var u=pe.apply2DTransform2(s);var f=+ue.attr("width");var d=+ue.attr("height");var v=o-.5*f;var h=v+f;var p=l-.5*d;var g=p+d;var m=[[v,p,v,g],[v,g,h,g],[h,g,h,p],[h,p,v,p]].map(u);if(m.reduce(function(e,t){return e^!!pe.segmentsIntersect(r,a,r+1e6,a+1e6,t[0],t[1],t[2],t[3])},false)){return}m.forEach(function(e){var t=pe.segmentsIntersect(n,i,r,a,e[0],e[1],e[2],e[3]);if(t){n=t.x;i=t.y}});var y=G.arrowwidth;var x=G.arrowcolor;var _=G.arrowside;var b=ne.append("g").style({opacity:ye.opacity(x)}).classed("annotation-arrow-g",true);var w=b.append("path").attr("d","M"+n+","+i+"L"+r+","+a).style("stroke-width",y+"px").call(ye.stroke,ye.rgb(x));Te(w,_,G);if(K.annotationPosition&&w.node().parentNode&&!q){var T=r;var k=a;if(G.standoff){var A=Math.sqrt(Math.pow(r-n,2)+Math.pow(a-i,2));T+=G.standoff*(n-r)/A;k+=G.standoff*(i-a)/A}var M=b.append("path").classed("annotation-arrow",true).classed("anndrag",true).classed("cursor-move",true).attr({d:"M3,3H-3V-3H3ZM0,0L"+(n-T)+","+(i-k),transform:ge(T,k)}).style("stroke-width",y+6+"px").call(ye.stroke,"rgba(0,0,0,0)").call(ye.fill,"rgba(0,0,0,0)");var S,C;we.init({element:M.node(),gd:U,prepFn:function(){var e=xe.getTranslate(le);S=e.x;C=e.y;if(Z&&Z.autorange){Q(Z._name+".autorange",true)}if(W&&W.autorange){Q(W._name+".autorange",true)}},moveFn:function(e,t){var r=c(S,C);var a=r[0]+e;var n=r[1]+t;le.call(xe.setTranslate,a,n);$("x",shiftPosition(Z,e,"x",J,G));$("y",shiftPosition(W,t,"y",J,G));if(G.axref===G.xref){$("ax",shiftPosition(Z,e,"ax",J,G))}if(G.ayref===G.yref){$("ay",shiftPosition(W,t,"ay",J,G))}b.attr("transform",ge(e,t));ie.attr({transform:"rotate("+ae+","+a+","+n+")"})},doneFn:function(){he.call("_guiRelayout",U,ee());var e=document.querySelector(".js-notes-box-panel");if(e)e.redraw(e.selectedObj)}})}};if(G.showarrow)V(0,0);if(oe){var Y;we.init({element:le.node(),gd:U,prepFn:function(){Y=ie.attr("transform")},moveFn:function(e,t){var r="pointer";if(G.showarrow){if(G.axref===G.xref){$("ax",shiftPosition(Z,e,"ax",J,G))}else{$("ax",G.ax+e)}if(G.ayref===G.yref){$("ay",shiftPosition(W,t,"ay",J.w,G))}else{$("ay",G.ay+t)}V(e,t)}else if(!q){var a,n;if(Z){a=shiftPosition(Z,e,"x",J,G)}else{var i=G._xsize/J.w;var o=G.x+(G._xshift-G.xshift)/J.w-i/2;a=we.align(o+e/J.w,i,0,1,G.xanchor)}if(W){n=shiftPosition(W,t,"y",J,G)}else{var l=G._ysize/J.h;var s=G.y-(G._yshift+G.yshift)/J.h-l/2;n=we.align(s-t/J.h,l,0,1,G.yanchor)}$("x",a);$("y",n);if(!Z||!W){r=we.getCursor(Z?.5:a,W?.5:n,G.xanchor,G.yanchor)}}else return;ie.attr({transform:ge(e,t)+Y});be(le,r)},clickFn:function(e,t){if(G.captureevents){U.emit("plotly_clickannotation",makeEventData(t))}},doneFn:function(){be(le);he.call("_guiRelayout",U,ee());var e=document.querySelector(".js-notes-box-panel");if(e)e.redraw(e.selectedObj)}})}}if(K.annotationText){ve.call(_e.makeEditable,{delegate:le,gd:U}).call(textLayout).on("edit",function(e){G.text=e;this.call(textLayout);$("text",e);if(Z&&Z.autorange){Q(Z._name+".autorange",true)}if(W&&W.autorange){Q(W._name+".autorange",true)}he.call("_guiRelayout",U,ee())})}else ve.call(textLayout)}},3011:function(e,t,r){"use strict";var L=r(9898);var D=r(7901);var O=r(2884);var a=r(1828);var P=a.strScale;var I=a.strRotate;var R=a.strTranslate;e.exports=function drawArrowHead(n,e,i){var o=n.node();var t=O[i.arrowhead||0];var r=O[i.startarrowhead||0];var a=(i.arrowwidth||1)*(i.arrowsize||1);var l=(i.arrowwidth||1)*(i.startarrowsize||1);var s=e.indexOf("start")>=0;var c=e.indexOf("end")>=0;var u=t.backoff*a+i.standoff;var f=r.backoff*l+i.startstandoff;var d,v,h,p;if(o.nodeName==="line"){d={x:+n.attr("x1"),y:+n.attr("y1")};v={x:+n.attr("x2"),y:+n.attr("y2")};var g=d.x-v.x;var m=d.y-v.y;h=Math.atan2(m,g);p=h+Math.PI;if(u&&f){if(u+f>Math.sqrt(g*g+m*m)){hideLine();return}}if(u){if(u*u>g*g+m*m){hideLine();return}var y=u*Math.cos(h);var x=u*Math.sin(h);v.x+=y;v.y+=x;n.attr({x2:v.x,y2:v.y})}if(f){if(f*f>g*g+m*m){hideLine();return}var _=f*Math.cos(h);var b=f*Math.sin(h);d.x-=_;d.y-=b;n.attr({x1:d.x,y1:d.y})}}else if(o.nodeName==="path"){var w=o.getTotalLength();var T="";if(w<u+f){hideLine();return}var k=o.getPointAtLength(0);var A=o.getPointAtLength(.1);h=Math.atan2(k.y-A.y,k.x-A.x);d=o.getPointAtLength(Math.min(f,w));T="0px,"+f+"px,";var M=o.getPointAtLength(w);var S=o.getPointAtLength(w-.1);p=Math.atan2(M.y-S.y,M.x-S.x);v=o.getPointAtLength(Math.max(0,w-u));var C=T?f+u:u;T+=w-C+"px,"+w+"px";n.style("stroke-dasharray",T)}function hideLine(){n.style("stroke-dasharray","0px,100px")}function drawhead(e,t,r,a){if(!e.path)return;if(e.noRotate)r=0;L.select(o.parentNode).append("path").attr({"class":n.attr("class"),d:e.path,transform:R(t.x,t.y)+I(r*180/Math.PI)+P(a)}).style({fill:D.rgb(i.arrowcolor),"stroke-width":0})}if(s)drawhead(r,d,h,l);if(c)drawhead(t,v,p,a)}},2745:function(e,t,r){"use strict";var a=r(2605);var n=r(4317);e.exports={moduleType:"component",name:"annotations",layoutAttributes:r(215),supplyLayoutDefaults:r(4046),includeBasePlot:r(6325)("annotations"),calcAutorange:r(3749),draw:a.draw,drawOne:a.drawOne,drawRaw:a.drawRaw,hasClickToShow:n.hasClickToShow,onClick:n.onClick,convertCoords:r(4128)}},6997:function(e,t,r){"use strict";var a=r(215);var n=r(962).overrideAll;var i=r(4467).templatedArray;e.exports=n(i("annotation",{visible:a.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:a.xanchor,xshift:a.xshift,yanchor:a.yanchor,yshift:a.yshift,text:a.text,textangle:a.textangle,font:a.font,width:a.width,height:a.height,opacity:a.opacity,align:a.align,valign:a.valign,bgcolor:a.bgcolor,bordercolor:a.bordercolor,borderpad:a.borderpad,borderwidth:a.borderwidth,showarrow:a.showarrow,arrowcolor:a.arrowcolor,arrowhead:a.arrowhead,startarrowhead:a.startarrowhead,arrowside:a.arrowside,arrowsize:a.arrowsize,startarrowsize:a.startarrowsize,arrowwidth:a.arrowwidth,standoff:a.standoff,startstandoff:a.startstandoff,hovertext:a.hovertext,hoverlabel:a.hoverlabel,captureevents:a.captureevents}),"calc","from-root")},5485:function(e,t,r){"use strict";var o=r(1828);var l=r(9298);e.exports=function convert(e){var t=e.fullSceneLayout;var r=t.annotations;for(var a=0;a<r.length;a++){mockAnnAxes(r[a],e)}e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()};function mockAnnAxes(e,t){var r=t.fullSceneLayout;var a=r.domain;var n=t.fullLayout._size;var i={pdata:null,type:"linear",autorange:false,range:[-Infinity,Infinity]};e._xa={};o.extendFlat(e._xa,i);l.setConvert(e._xa);e._xa._offset=n.l+a.x[0]*n.w;e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*n.w*(a.x[1]-a.x[0])};e._ya={};o.extendFlat(e._ya,i);l.setConvert(e._ya);e._ya._offset=n.t+(1-a.y[1])*n.h;e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*n.h*(a.y[1]-a.y[0])}}},226:function(e,t,r){"use strict";var i=r(1828);var o=r(9298);var a=r(5501);var l=r(5625);var s=r(6997);e.exports=function handleDefaults(e,t,r){a(e,t,{name:"annotations",handleItemDefaults:handleAnnotationDefaults,fullLayout:r.fullLayout})};function handleAnnotationDefaults(r,a,n,e){function coerce(e,t){return i.coerce(r,a,s,e,t)}function coercePosition(e){var t=e+"axis";var r={_fullLayout:{}};r._fullLayout[t]=n[t];return o.coercePosition(a,r,coerce,e,e,.5)}var t=coerce("visible");if(!t)return;l(r,a,e.fullLayout,coerce);coercePosition("x");coercePosition("y");coercePosition("z");i.noneOrAll(r,a,["x","y","z"]);a.xref="x";a.yref="y";a.zref="z";coerce("xanchor");coerce("yanchor");coerce("xshift");coerce("yshift");if(a.showarrow){a.axref="pixel";a.ayref="pixel";coerce("ax",-10);coerce("ay",-30);i.noneOrAll(r,a,["ax","ay"])}}},2188:function(e,t,r){"use strict";var d=r(2605).drawRaw;var v=r(3538);var h=["x","y","z"];e.exports=function draw(e){var t=e.fullSceneLayout;var r=e.dataScale;var a=t.annotations;for(var n=0;n<a.length;n++){var i=a[n];var o=false;for(var l=0;l<3;l++){var s=h[l];var c=i[s];var u=t[s+"axis"];var f=u.r2fraction(c);if(f<0||f>1){o=true;break}}if(o){e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+n+'"]').remove()}else{i._pdata=v(e.glplot.cameraParams,[t.xaxis.r2l(i.x)*r[0],t.yaxis.r2l(i.y)*r[1],t.zaxis.r2l(i.z)*r[2]]);d(e.graphDiv,i,n,e.id,i._xa,i._ya)}}}},2468:function(e,t,r){"use strict";var l=r(3972);var s=r(1828);e.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r(6997)}}},layoutAttributes:r(6997),handleDefaults:r(226),includeBasePlot:includeGL3D,convert:r(5485),draw:r(2188)};function includeGL3D(e,t){var r=l.subplotsRegistry.gl3d;if(!r)return;var a=r.attrRegex;var n=Object.keys(e);for(var i=0;i<n.length;i++){var o=n[i];if(a.test(o)&&(e[o].annotations||[]).length){s.pushUnique(t._basePlotModules,r);s.pushUnique(t._subplots.gl3d,o)}}}},7561:function(e,t,r){"use strict";e.exports=r(3489);r(4338);r(3961);r(8751);r(6825);r(7715);r(9384);r(3805);r(8874);r(3290);r(9108);r(5422);r(4320);r(1320);r(1367);r(1457)},2201:function(e,t,r){"use strict";var a=r(7561);var i=r(1828);var n=r(606);var f=n.EPOCHJD;var d=n.ONEDAY;var o={valType:"enumerated",values:i.sortObjectKeys(a.calendars),editType:"calc",dflt:"gregorian"};var l=function(e,t,r,a){var n={};n[r]=o;return i.coerce(e,t,n,r,a)};var s=function(e,t,r,a){for(var n=0;n<r.length;n++){l(e,t,r[n]+"calendar",a.calendar)}};var c={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"};var u={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"};var v={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]};var h="##";var p={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:h,w:h,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function worldCalFmt(e,t,r){var a=Math.floor((t+.05)/d)+f;var n=getCal(r).fromJD(a);var i=0;var o,l,s,c,u;while((i=e.indexOf("%",i))!==-1){o=e.charAt(i+1);if(o==="0"||o==="-"||o==="_"){s=3;l=e.charAt(i+2);if(o==="_")o="-"}else{l=o;o="0";s=2}c=p[l];if(!c){i+=s}else{if(c===h)u=h;else u=n.formatDate(c[o]);e=e.substr(0,i)+u+e.substr(i+s);i+=u.length}}return e}var g={};function getCal(e){var t=g[e];if(t)return t;t=g[e]=a.instance(e);return t}function makeAttrs(e){return i.extendFlat({},o,{description:e})}function makeTraceAttrsDescription(e){return"Sets the calendar system to use with `"+e+"` date data."}var m={xcalendar:makeAttrs(makeTraceAttrsDescription("x"))};var y=i.extendFlat({},m,{ycalendar:makeAttrs(makeTraceAttrsDescription("y"))});var x=i.extendFlat({},y,{zcalendar:makeAttrs(makeTraceAttrsDescription("z"))});var _=makeAttrs(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));e.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:y,bar:y,box:y,heatmap:y,contour:y,histogram:y,histogram2d:y,histogram2dcontour:y,scatter3d:x,surface:x,mesh3d:x,scattergl:y,ohlc:m,candlestick:m},layout:{calendar:makeAttrs(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:_},yaxis:{calendar:_},scene:{xaxis:{calendar:_},yaxis:{calendar:_},zaxis:{calendar:_}},polar:{radialaxis:{calendar:_}}},transforms:{filter:{valuecalendar:makeAttrs(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:makeAttrs(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:o,handleDefaults:l,handleTraceDefaults:s,CANONICAL_SUNDAY:u,CANONICAL_TICK:c,DFLTRANGE:v,getCal:getCal,worldCalFmt:worldCalFmt}},2399:function(e,t){"use strict";t.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];t.defaultLine="#444";t.lightLine="#eee";t.background="#fff";t.borderLine="#BEC8D9";t.lightFraction=100*(14-4)/(15-4)},7901:function(e,t,r){"use strict";var o=r(4267);var l=r(2770);var s=r(3627).isTypedArray;var c=e.exports={};var a=r(2399);c.defaults=a.defaults;var i=c.defaultLine=a.defaultLine;c.lightLine=a.lightLine;var u=c.background=a.background;c.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"};c.rgb=function(e){return c.tinyRGB(o(e))};c.opacity=function(e){return e?o(e).getAlpha():0};c.addOpacity=function(e,t){var r=o(e).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+t+")"};c.combine=function(e,t){var r=o(e).toRgb();if(r.a===1)return o(e).toRgbString();var a=o(t||u).toRgb();var n=a.a===1?a:{r:255*(1-a.a)+a.r*a.a,g:255*(1-a.a)+a.g*a.a,b:255*(1-a.a)+a.b*a.a};var i={r:n.r*(1-r.a)+r.r*r.a,g:n.g*(1-r.a)+r.g*r.a,b:n.b*(1-r.a)+r.b*r.a};return o(i).toRgbString()};c.contrast=function(e,t,r){var a=o(e);if(a.getAlpha()!==1)a=o(c.combine(e,u));var n=a.isDark()?t?a.lighten(t):u:r?a.darken(r):i;return n.toString()};c.stroke=function(e,t){var r=o(t);e.style({stroke:c.tinyRGB(r),"stroke-opacity":r.getAlpha()})};c.fill=function(e,t){var r=o(t);e.style({fill:c.tinyRGB(r),"fill-opacity":r.getAlpha()})};c.clean=function(e){if(!e||typeof e!=="object")return;var t=Object.keys(e);var r,a,n,i;for(r=0;r<t.length;r++){n=t[r];i=e[n];if(n.substr(n.length-5)==="color"){if(Array.isArray(i)){for(a=0;a<i.length;a++)i[a]=cleanOne(i[a])}else e[n]=cleanOne(i)}else if(n.substr(n.length-10)==="colorscale"&&Array.isArray(i)){for(a=0;a<i.length;a++){if(Array.isArray(i[a]))i[a][1]=cleanOne(i[a][1])}}else if(Array.isArray(i)){var o=i[0];if(!Array.isArray(o)&&o&&typeof o==="object"){for(a=0;a<i.length;a++)c.clean(i[a])}}else if(i&&typeof i==="object"&&!s(i))c.clean(i)}};function cleanOne(e){if(l(e)||typeof e!=="string")return e;var t=e.trim();if(t.substr(0,3)!=="rgb")return e;var r=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return e;var a=r[1].trim().split(/\s*[\s,]\s*/);var n=t.charAt(3)==="a"&&a.length===4;if(!n&&a.length!==3)return e;for(var i=0;i<a.length;i++){if(!a[i].length)return e;a[i]=Number(a[i]);if(!(a[i]>=0)){return e}if(i===3){if(a[i]>1)a[i]=1}else if(a[i]>=1){return e}}var o=Math.round(a[0]*255)+", "+Math.round(a[1]*255)+", "+Math.round(a[2]*255);if(n)return"rgba("+o+", "+a[3]+")";return"rgb("+o+")"}},3583:function(e,t,r){"use strict";var a=r(3838);var n=r(1940);var i=r(1426).extendFlat;var o=r(962).overrideAll;e.exports=o({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:a.linecolor,outlinewidth:a.linewidth,bordercolor:a.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:a.minor.tickmode,nticks:a.nticks,tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:i({},a.ticks,{dflt:""}),ticklabeloverflow:i({},a.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,tickfont:n({}),tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,tickprefix:a.tickprefix,showtickprefix:a.showtickprefix,ticksuffix:a.ticksuffix,showticksuffix:a.showticksuffix,separatethousands:a.separatethousands,exponentformat:a.exponentformat,minexponent:a.minexponent,showexponent:a.showexponent,title:{text:{valType:"string"},font:n({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:n({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},939:function(e){"use strict";e.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},2499:function(e,t,r){"use strict";var m=r(1828);var y=r(4467);var x=r(6218);var _=r(8701);var b=r(6115);var w=r(9426);var T=r(3583);e.exports=function colorbarDefaults(e,t,r){var a=y.newContainer(t,"colorbar");var n=e.colorbar||{};function coerce(e,t){return m.coerce(n,a,T,e,t)}var i=r.margin||{t:0,b:0,l:0,r:0};var o=r.width-i.l-i.r;var l=r.height-i.t-i.b;var s=coerce("orientation");var c=s==="v";var u=coerce("thicknessmode");coerce("thickness",u==="fraction"?30/(c?o:l):30);var f=coerce("lenmode");coerce("len",f==="fraction"?1:c?l:o);coerce("x",c?1.02:.5);coerce("xanchor",c?"left":"center");coerce("xpad");coerce("y",c?.5:1.02);coerce("yanchor",c?"middle":"bottom");coerce("ypad");m.noneOrAll(n,a,["x","y"]);coerce("outlinecolor");coerce("outlinewidth");coerce("bordercolor");coerce("borderwidth");coerce("bgcolor");var d=m.coerce(n,a,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:c?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");coerce("ticklabeloverflow",d.indexOf("inside")!==-1?"hide past domain":"hide past div");x(n,a,coerce,"linear");var v=r.font;var h={outerTicks:false,font:v};if(d.indexOf("inside")!==-1){h.bgColor="black"}w(n,a,coerce,"linear",h);b(n,a,coerce,"linear",h);_(n,a,coerce,"linear",h);coerce("title.text",r._dfltTitle.colorbar);var p=a.tickfont;var g=m.extendFlat({},p,{color:v.color,size:m.bigFont(p.size)});m.coerceFont(coerce,"title.font",g);coerce("title.side",c?"top":"right")}},8981:function(e,t,r){"use strict";var _=r(9898);var ie=r(4267);var oe=r(4875);var u=r(3972);var b=r(9298);var f=r(8569);var w=r(1828);var le=w.strTranslate;var T=r(1426).extendFlat;var d=r(6964);var se=r(1424);var ce=r(7901);var ue=r(2998);var fe=r(3893);var m=r(2869).flipScale;var c=r(1453);var v=r(2830);var h=r(3838);var a=r(8783);var de=a.LINE_SPACING;var ve=a.FROM_TL;var he=a.FROM_BR;var pe=r(939).cn;function draw(a){var e=a._fullLayout;var t=e._infolayer.selectAll("g."+pe.colorbar).data(makeColorBarData(a),function(e){return e._id});t.enter().append("g").attr("class",function(e){return e._id}).classed(pe.colorbar,true);t.each(function(e){var t=_.select(this);w.ensureSingle(t,"rect",pe.cbbg);w.ensureSingle(t,"g",pe.cbfills);w.ensureSingle(t,"g",pe.cblines);w.ensureSingle(t,"g",pe.cbaxis,function(e){e.classed(pe.crisp,true)});w.ensureSingle(t,"g",pe.cbtitleunshift,function(e){e.append("g").classed(pe.cbtitle,true)});w.ensureSingle(t,"rect",pe.cboutline);var r=drawColorBar(t,e,a);if(r&&r.then)(a._promises||[]).push(r);if(a._context.edits.colorbarPosition){makeEditable(t,e,a)}});t.exit().each(function(e){oe.autoMargin(a,e._id)}).remove();t.order()}function makeColorBarData(e){var t=e._fullLayout;var r=e.calcdata;var a=[];var n;var i;var o;var l;function initOpts(e){return T(e,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function calcOpts(){if(typeof l.calc==="function"){l.calc(e,o,n)}else{n._fillgradient=i.reversescale?m(i.colorscale):i.colorscale;n._zrange=[i[l.min],i[l.max]]}}for(var s=0;s<r.length;s++){var c=r[s];o=c[0].trace;var u=o._module.colorbar;if(o.visible===true&&u){var f=Array.isArray(u);var d=f?u:[u];for(var v=0;v<d.length;v++){l=d[v];var h=l.container;i=h?o[h]:o;if(i&&i.showscale){n=initOpts(i.colorbar);n._id="cb"+o.uid+(f&&h?"-"+h:"");n._traceIndex=o.index;n._propPrefix=(h?h+".":"")+"colorbar.";n._meta=o._meta;calcOpts();a.push(n)}}}}for(var p in t._colorAxes){i=t[p];if(i.showscale){var g=t._colorAxes[p];n=initOpts(i.colorbar);n._id="cb"+p;n._propPrefix=p+".colorbar.";n._meta=t._meta;l={min:"cmin",max:"cmax"};if(g[0]!=="heatmap"){o=g[1];l.calc=o._module.colorbar.calc}calcOpts();a.push(n)}}return a}function drawColorBar(k,A,M){var S=A.orientation==="v";var C=A.len;var K=A.lenmode;var L=A.thickness;var Q=A.thicknessmode;var D=A.outlinewidth;var O=A.borderwidth;var $=A.bgcolor;var ee=A.xanchor;var P=A.yanchor;var I=A.xpad;var R=A.ypad;var F=A.x;var N=S?A.y:1-A.y;var E=M._fullLayout;var z=E._size;var e=A._fillcolor;var v=A._line;var B=A.title;var H=B.side;var h=A._zrange||_.extent((typeof e==="function"?e:v.color).domain());var m=typeof v.color==="function"?v.color:function(){return v.color};var y=typeof e==="function"?e:function(){return e};var t=A._levels;var i=calcLevels(M,A,h);var p=i.fill;var x=i.line;var j=Math.round(L*(Q==="fraction"?S?z.w:z.h:1));var r=j/(S?z.w:z.h);var V=Math.round(C*(K==="fraction"?S?z.h:z.w:1));var a=V/(S?z.h:z.w);var Y=Math.round(S?F*z.w+I:N*z.h+R);var te={center:.5,right:1}[ee]||0;var re={top:1,middle:.5}[P]||0;var o=S?F-te*r:N-re*r;var n=S?N-re*a:F-te*a;var U=Math.round(S?z.h*(1-n):z.w*n);A._lenFrac=a;A._thickFrac=r;A._uFrac=o;A._vFrac=n;var G=A._axis=mockColorBarAxis(M,A,h);G.position=r+(S?F+I/z.w:N+R/z.h);var q=["top","bottom"].indexOf(H)!==-1;if(S&&q){G.title.side=H;G.titlex=F+I/z.w;G.titley=n+(B.side==="top"?a-R/z.h:R/z.h)}if(!S&&!q){G.title.side=H;G.titley=N+R/z.h;G.titlex=n+I/z.w}if(v.color&&A.tickmode==="auto"){G.tickmode="linear";G.tick0=t.start;var l=t.size;var s=w.constrain(V/50,4,15)+1;var c=(h[1]-h[0])/((A.nticks||s)*l);if(c>1){var u=Math.pow(10,Math.floor(Math.log(c)/Math.LN10));l*=u*w.roundUp(c/u,[2,5,10]);if((Math.abs(t.start)/t.size+1e-6)%1<2e-6){G.tick0=0}}G.dtick=l}G.domain=S?[n+R/z.h,n+a-R/z.h]:[n+I/z.w,n+a-I/z.w];G.setScale();k.attr("transform",le(Math.round(z.l),Math.round(z.t)));var ae=k.select("."+pe.cbtitleunshift).attr("transform",le(-Math.round(z.l),-Math.round(z.t)));var ne=G.ticklabelposition;var Z=G.title.font.size;var W=k.select("."+pe.cbaxis);var X;var J=0;var g=0;function drawTitle(e,t){var r={propContainer:G,propName:A._propPrefix+"title",traceIndex:A._traceIndex,_meta:A._meta,placeholder:E._dfltTitle.colorbar,containerGroup:k.select("."+pe.cbtitle)};var a=e.charAt(0)==="h"?e.substr(1):"h"+e;k.selectAll("."+a+",."+a+"-math-group").remove();ue.draw(M,e,T(r,t||{}))}function drawDummyTitle(){if(S&&q||!S&&!q){var e,t;if(H==="top"){e=I+z.l+z.w*F;t=R+z.t+z.h*(1-n-a)+3+Z*.75}if(H==="bottom"){e=I+z.l+z.w*F;t=R+z.t+z.h*(1-n)-3-Z*.25}if(H==="right"){t=R+z.t+z.h*N+3+Z*.75;e=I+z.l+z.w*n}drawTitle(G._id+"title",{attributes:{x:e,y:t,"text-anchor":S?"start":"middle"}})}}function drawCbTitle(){if(S&&!q||!S&&q){var e=G.position||0;var t=G._offset+G._length/2;var r,a;if(H==="right"){a=t;r=z.l+z.w*e+10+Z*(G.showticklabels?1:.5)}else{r=t;if(H==="bottom"){a=z.t+z.h*e+10+(ne.indexOf("inside")===-1?G.tickfont.size:0)+(G.ticks!=="intside"?A.ticklen||0:0)}if(H==="top"){var n=B.text.split("<br>").length;a=z.t+z.h*e+10-j-de*Z*n}}drawTitle((S?"h":"v")+G._id+"title",{avoid:{selection:_.select(M).selectAll("g."+G._id+"tick"),side:H,offsetTop:S?0:z.t,offsetLeft:S?z.l:0,maxShift:S?E.width:E.height},attributes:{x:r,y:a,"text-anchor":"middle"},transform:{rotate:S?-90:0,offset:0}})}}function drawAxis(){if(!S&&!q||S&&q){var e=k.select("."+pe.cbtitle);var t=e.select("text");var r=[-D/2,D/2];var a=e.select(".h"+G._id+"title-math-group").node();var n=15.6;if(t.node()){n=parseInt(t.node().style.fontSize,10)*de}var i;if(a){i=se.bBox(a);g=i.width;J=i.height;if(J>n){r[1]-=(J-n)/2}}else if(t.node()&&!t.classed(pe.jsPlaceholder)){i=se.bBox(t.node());g=i.width;J=i.height}if(S){if(J){J+=5;if(H==="top"){G.domain[1]-=J/z.h;r[1]*=-1}else{G.domain[0]+=J/z.h;var o=fe.lineCount(t);r[1]+=(1-o)*n}e.attr("transform",le(r[0],r[1]));G.setScale()}}else{if(g){if(H==="right"){G.domain[0]+=(g+Z/2)/z.w}e.attr("transform",le(r[0],r[1]));G.setScale()}}}k.selectAll("."+pe.cbfills+",."+pe.cblines).attr("transform",S?le(0,Math.round(z.h*(1-G.domain[1]))):le(Math.round(z.w*G.domain[0]),0));W.attr("transform",S?le(0,Math.round(-z.t)):le(Math.round(-z.l),0));var l=k.select("."+pe.cbfills).selectAll("rect."+pe.cbfill).attr("style","").data(p);l.enter().append("rect").classed(pe.cbfill,true).style("stroke","none");l.exit().remove();var s=h.map(G.c2p).map(Math.round).sort(function(e,t){return e-t});l.each(function(e,t){var r=[t===0?h[0]:(p[t]+p[t-1])/2,t===p.length-1?h[1]:(p[t]+p[t+1])/2].map(G.c2p).map(Math.round);if(S){r[1]=w.constrain(r[1]+(r[1]>r[0])?1:-1,s[0],s[1])}var a=_.select(this).attr(S?"x":"y",Y).attr(S?"y":"x",_.min(r)).attr(S?"width":"height",Math.max(j,2)).attr(S?"height":"width",Math.max(_.max(r)-_.min(r),2));if(A._fillgradient){se.gradient(a,M,A._id,S?"vertical":"horizontalreversed",A._fillgradient,"fill")}else{var n=y(e).replace("e-","");a.attr("fill",ie(n).toHexString())}});var c=k.select("."+pe.cblines).selectAll("path."+pe.cbline).data(v.color&&v.width?x:[]);c.enter().append("path").classed(pe.cbline,true);c.exit().remove();c.each(function(e){var t=Y;var r=Math.round(G.c2p(e))+v.width/2%1;_.select(this).attr("d","M"+(S?t+","+r:r+","+t)+(S?"h":"v")+j).call(se.lineGroupStyle,v.width,m(e),v.dash)});W.selectAll("g."+G._id+"tick,path").remove();var u=Y+j+(D||0)/2-(A.ticks==="outside"?1:0);var f=b.calcTicks(G);var d=b.getTickSigns(G)[2];b.drawTicks(M,G,{vals:G.ticks==="inside"?b.clipEnds(G,f):f,layer:W,path:b.makeTickPath(G,u,d),transFn:b.makeTransTickFn(G)});return b.drawLabels(M,G,{vals:f,layer:W,transFn:b.makeTransTickLabelFn(G),labelFns:b.makeLabelFns(G,u)})}function positionCB(){var e;var t=j+D/2;if(ne.indexOf("inside")===-1){e=se.bBox(W.node());t+=S?e.width:e.height}X=ae.select("text");var r=0;var a=S&&H==="top";var n=!S&&H==="right";var i=0;if(X.node()&&!X.classed(pe.jsPlaceholder)){var o;var l=ae.select(".h"+G._id+"title-math-group").node();if(l&&(S&&q||!S&&!q)){e=se.bBox(l);r=e.width;o=e.height}else{e=se.bBox(ae.node());r=e.right-z.l-(S?Y:U);o=e.bottom-z.t-(S?U:Y);if(!S&&H==="top"){t+=e.height;i=e.height}}if(n){X.attr("transform",le(r/2+Z/2,0));r*=2}t=Math.max(t,S?r:o)}var s=(S?I:R)*2+t+O+D/2;var c=0;if(!S&&B.text&&P==="bottom"&&N<=0){c=s/2;s+=c;i+=c}E._hColorbarMoveTitle=c;E._hColorbarMoveCBTitle=i;var u=O+D;k.select("."+pe.cbbg).attr("x",(S?Y:U)-u/2-(S?I:0)).attr("y",(S?U:Y)-(S?V:R+i-c)).attr(S?"width":"height",Math.max(s-c,2)).attr(S?"height":"width",Math.max(V+u,2)).call(ce.fill,$).call(ce.stroke,A.bordercolor).style("stroke-width",O);var f=n?Math.max(r-10,0):0;k.selectAll("."+pe.cboutline).attr("x",(S?Y:U+I)+f).attr("y",(S?U+R-V:Y)+(a?J:0)).attr(S?"width":"height",Math.max(j,2)).attr(S?"height":"width",Math.max(V-(S?2*R+J:2*I+f),2)).call(ce.stroke,A.outlinecolor).style({fill:"none","stroke-width":D});k.attr("transform",le(z.l-(S?te*s:0),z.t-(S?0:(1-re)*s-i)));if(!S&&(O||ie($).getAlpha()&&!ie.equals(E.paper_bgcolor,$))){var d=W.selectAll("text");var v=d[0].length;var h=k.select("."+pe.cbbg).node();var p=se.bBox(h);var g=se.getTranslate(k);var m=2;d.each(function(e,t){var r=0;var a=v-1;if(t===r||t===a){var n=se.bBox(this);var i=se.getTranslate(this);var o;if(t===a){var l=n.right+i.x;var s=p.right+g.x+U-O-m+F;o=s-l;if(o>0)o=0}else if(t===r){var c=n.left+i.x;var u=p.left+g.x+U+O+m;o=u-c;if(o<0)o=0}if(o){if(v<3){this.setAttribute("transform","translate("+o+",0) "+this.getAttribute("transform"))}else{this.setAttribute("visibility","hidden")}}}})}var y={};var x=ve[ee];var _=he[ee];var b=ve[P];var w=he[P];var T=s-j;if(S){if(K==="pixels"){y.y=N;y.t=V*b;y.b=V*w}else{y.t=y.b=0;y.yt=N+C*b;y.yb=N-C*w}if(Q==="pixels"){y.x=F;y.l=s*x;y.r=s*_}else{y.l=T*x;y.r=T*_;y.xl=F-L*x;y.xr=F+L*_}}else{if(K==="pixels"){y.x=F;y.l=V*x;y.r=V*_}else{y.l=y.r=0;y.xl=F+C*x;y.xr=F-C*_}if(Q==="pixels"){y.y=1-N;y.t=s*b;y.b=s*w}else{y.t=T*b;y.b=T*w;y.yt=N-L*b;y.yb=N+L*w}}oe.autoMargin(M,A._id,y)}return w.syncOrAsync([oe.previousPromises,drawDummyTitle,drawAxis,drawCbTitle,oe.previousPromises,positionCB],M)}function makeEditable(a,n,t){var i=n.orientation==="v";var e=t._fullLayout;var o=e._size;var l,s,c;f.init({element:a.node(),gd:t,prepFn:function(){l=a.attr("transform");d(a)},moveFn:function(e,t){a.attr("transform",l+le(e,t));s=f.align((i?n._uFrac:n._vFrac)+e/o.w,i?n._thickFrac:n._lenFrac,0,1,n.xanchor);c=f.align((i?n._vFrac:1-n._uFrac)-t/o.h,i?n._lenFrac:n._thickFrac,0,1,n.yanchor);var r=f.getCursor(s,c,n.xanchor,n.yanchor);d(a,r)},doneFn:function(){d(a);if(s!==undefined&&c!==undefined){var e={};e[n._propPrefix+"x"]=s;e[n._propPrefix+"y"]=c;if(n._traceIndex!==undefined){u.call("_guiRestyle",t,e,n._traceIndex)}else{u.call("_guiRelayout",t,e)}}}})}function calcLevels(e,t,r){var a=t._levels;var n=[];var i=[];var o;var l;var s=a.end+a.size/100;var c=a.size;var u=1.001*r[0]-.001*r[1];var f=1.001*r[1]-.001*r[0];for(l=0;l<1e5;l++){o=a.start+l*c;if(c>0?o>=s:o<=s)break;if(o>u&&o<f)n.push(o)}if(t._fillgradient){i=[0]}else if(typeof t._fillcolor==="function"){var d=t._filllevels;if(d){s=d.end+d.size/100;c=d.size;for(l=0;l<1e5;l++){o=d.start+l*c;if(c>0?o>=s:o<=s)break;if(o>r[0]&&o<r[1])i.push(o)}}else{i=n.map(function(e){return e-a.size/2});i.push(i[i.length-1]+a.size)}}else if(t._fillcolor&&typeof t._fillcolor==="string"){i=[0]}if(a.size<0){n.reverse();i.reverse()}return{line:n,fill:i}}function mockColorBarAxis(e,t,r){var a=e._fullLayout;var n=t.orientation==="v";var i={type:"linear",range:r,tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:t.ticks,ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,showticklabels:t.showticklabels,labelalias:t.labelalias,ticklabelposition:t.ticklabelposition,ticklabeloverflow:t.ticklabeloverflow,ticklabelstep:t.ticklabelstep,tickfont:t.tickfont,tickangle:t.tickangle,tickformat:t.tickformat,exponentformat:t.exponentformat,minexponent:t.minexponent,separatethousands:t.separatethousands,showexponent:t.showexponent,showtickprefix:t.showtickprefix,tickprefix:t.tickprefix,showticksuffix:t.showticksuffix,ticksuffix:t.ticksuffix,title:t.title,showline:true,anchor:"free",side:n?"right":"bottom",position:1};var o=n?"y":"x";var l={type:"linear",_id:o+t._id};var s={letter:o,font:a.font,noHover:true,noTickson:true,noTicklabelmode:true,calendar:a.calendar};function coerce(e,t){return w.coerce(i,l,h,e,t)}c(i,l,coerce,s,a);v(i,l,coerce,s);return l}e.exports={draw:draw}},6228:function(e,t,r){"use strict";var a=r(1828);e.exports=function hasColorbar(e){return a.isPlainObject(e.colorbar)}},2311:function(e,t,r){"use strict";e.exports={moduleType:"component",name:"colorbar",attributes:r(3583),supplyDefaults:r(2499),draw:r(8981).draw,hasColorbar:r(6228)}},693:function(e,t,r){"use strict";var T=r(3583);var k=r(587).counter;var a=r(8607);var A=r(3282).scales;var n=a(A);function code(e){return"`"+e+"`"}e.exports=function colorScaleAttrs(e,t){e=e||"";t=t||{};var r=t.cLetter||"c";var a="onlyIfNumerical"in t?t.onlyIfNumerical:Boolean(e);var n="noScale"in t?t.noScale:e==="marker.line";var i="showScaleDflt"in t?t.showScaleDflt:r==="z";var o=typeof t.colorscaleDflt==="string"?A[t.colorscaleDflt]:null;var l=t.editTypeOverride||"";var s=e?e+".":"";var c,u;if("colorAttr"in t){c=t.colorAttr;u=t.colorAttr}else{c={z:"z",c:"color"}[r];u="in "+code(s+c)}var f=a?" Has an effect only if "+u+" is set to a numerical array.":"";var d=r+"auto";var v=r+"min";var h=r+"max";var p=r+"mid";var g=code(s+d);var m=code(s+v);var y=code(s+h);var x=m+" and "+y;var _={};_[v]=_[h]=undefined;var b={};b[d]=false;var w={};if(c==="color"){w.color={valType:"color",arrayOk:true,editType:l||"style"};if(t.anim){w.color.anim=true}}w[d]={valType:"boolean",dflt:true,editType:"calc",impliedEdits:_};w[v]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:b};w[h]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:b};w[p]={valType:"number",dflt:null,editType:"calc",impliedEdits:_};w.colorscale={valType:"colorscale",editType:"calc",dflt:o,impliedEdits:{autocolorscale:false}};w.autocolorscale={valType:"boolean",dflt:t.autoColorDflt===false?false:true,editType:"calc",impliedEdits:{colorscale:undefined}};w.reversescale={valType:"boolean",dflt:false,editType:"plot"};if(!n){w.showscale={valType:"boolean",dflt:i,editType:"calc"};w.colorbar=T}if(!t.noColorAxis){w.coloraxis={valType:"subplotid",regex:k("coloraxis"),dflt:null,editType:"calc"}}return w}},8803:function(e,t,r){"use strict";var p=r(2770);var g=r(1828);var m=r(2869).extractOpts;e.exports=function calc(e,t,r){var a=e._fullLayout;var n=r.vals;var i=r.containerStr;var o=i?g.nestedProperty(t,i).get():t;var l=m(o);var s=l.auto!==false;var c=l.min;var u=l.max;var f=l.mid;var d=function(){return g.aggNums(Math.min,null,n)};var v=function(){return g.aggNums(Math.max,null,n)};if(c===undefined){c=d()}else if(s){if(o._colorAx&&p(c)){c=Math.min(c,d())}else{c=d()}}if(u===undefined){u=v()}else if(s){if(o._colorAx&&p(u)){u=Math.max(u,v())}else{u=v()}}if(s&&f!==undefined){if(u-f>f-c){c=f-(u-f)}else if(u-f<f-c){u=f+(f-c)}}if(c===u){c-=.5;u+=.5}l._sync("min",c);l._sync("max",u);if(l.autocolorscale){var h;if(c*u<0)h=a.colorscale.diverging;else if(c>=0)h=a.colorscale.sequential;else h=a.colorscale.sequentialminus;l._sync("colorscale",h)}}},3046:function(e,t,r){"use strict";var l=r(1828);var s=r(2869).hasColorscale;var c=r(2869).extractOpts;e.exports=function crossTraceDefaults(e,i){function replace(e,t){var r=e["_"+t];if(r!==undefined){e[t]=r}}function relinkColorAttrs(e,t){var r=t.container?l.nestedProperty(e,t.container).get():e;if(r){if(r.coloraxis){r._colorAx=i[r.coloraxis]}else{var a=c(r);var n=a.auto;if(n||a.min===undefined){replace(r,t.min)}if(n||a.max===undefined){replace(r,t.max)}if(a.autocolorscale){replace(r,"colorscale")}}}}for(var t=0;t<e.length;t++){var r=e[t];var a=r._module.colorbar;if(a){if(Array.isArray(a)){for(var n=0;n<a.length;n++){relinkColorAttrs(r,a[n])}}else{relinkColorAttrs(r,a)}}if(s(r,"marker.line")){relinkColorAttrs(r,{container:"marker.line",min:"cmin",max:"cmax"})}}for(var o in i._colorAxes){relinkColorAttrs(i[o],{min:"cmin",max:"cmax"})}}},1586:function(e,t,r){"use strict";var A=r(2770);var M=r(1828);var S=r(6228);var C=r(2499);var L=r(3282).isValid;var D=r(3972).traceIs;function npMaybe(e,t){var r=t.slice(0,t.length-1);return t?M.nestedProperty(e,r).get()||{}:e}e.exports=function colorScaleDefaults(e,t,r,a,n){var i=n.prefix;var o=n.cLetter;var l="_module"in t;var s=npMaybe(e,i);var c=npMaybe(t,i);var u=npMaybe(t._template||{},i)||{};var f=function(){delete e.coloraxis;delete t.coloraxis;return colorScaleDefaults(e,t,r,a,n)};if(l){var d=r._colorAxes||{};var v=a(i+"coloraxis");if(v){var h=D(t,"contour")&&M.nestedProperty(t,"contours.coloring").get()||"heatmap";var p=d[v];if(p){p[2].push(f);if(p[0]!==h){p[0]=false;M.warn(["Ignoring coloraxis:",v,"setting","as it is linked to incompatible colorscales."].join(" "))}}else{d[v]=[h,t,[f]]}return}}var g=s[o+"min"];var m=s[o+"max"];var y=A(g)&&A(m)&&g<m;var x=a(i+o+"auto",!y);if(x){a(i+o+"mid")}else{a(i+o+"min");a(i+o+"max")}var _=s.colorscale;var b=u.colorscale;var w;if(_!==undefined)w=!L(_);if(b!==undefined)w=!L(b);a(i+"autocolorscale",w);a(i+"colorscale");a(i+"reversescale");if(i!=="marker.line."){var T;if(i&&l)T=S(s);var k=a(i+"showscale",T);if(k){if(i&&u)c._template=u;C(s,c,r)}}}},2869:function(e,t,r){"use strict";var d=r(9898);var v=r(4267);var h=r(2770);var l=r(1828);var p=r(7901);var s=r(3282).isValid;function hasColorscale(e,t,r){var a=t?l.nestedProperty(e,t).get()||{}:e;var n=a[r||"color"];var i=false;if(l.isArrayOrTypedArray(n)){for(var o=0;o<n.length;o++){if(h(n[o])){i=true;break}}}return l.isPlainObject(a)&&(i||a.showscale===true||h(a.cmin)&&h(a.cmax)||s(a.colorscale)||l.isPlainObject(a.colorbar))}var c=["showscale","autocolorscale","colorscale","reversescale","colorbar"];var u=["min","max","mid","auto"];function extractOpts(e){var t=e._colorAx;var a=t?t:e;var r={};var n;var i,o;for(i=0;i<c.length;i++){o=c[i];r[o]=a[o]}if(t){n="c";for(i=0;i<u.length;i++){o=u[i];r[o]=a["c"+o]}}else{var l;for(i=0;i<u.length;i++){o=u[i];l="c"+o;if(l in a){r[o]=a[l];continue}l="z"+o;if(l in a){r[o]=a[l]}}n=l.charAt(0)}r._sync=function(e,t){var r=u.indexOf(e)!==-1?n+e:e;a[r]=a["_"+r]=t};return r}function extractScale(e){var t=extractOpts(e);var r=t.min;var a=t.max;var n=t.reversescale?flipScale(t.colorscale):t.colorscale;var i=n.length;var o=new Array(i);var l=new Array(i);for(var s=0;s<i;s++){var c=n[s];o[s]=r+c[0]*(a-r);l[s]=c[1]}return{domain:o,range:l}}function flipScale(e){var t=e.length;var r=new Array(t);for(var a=t-1,n=0;a>=0;a--,n++){var i=e[a];r[n]=[1-i[0],i[1]]}return r}function makeColorScaleFunc(e,t){t=t||{};var r=e.domain;var a=e.range;var n=a.length;var i=new Array(n);for(var o=0;o<n;o++){var l=v(a[o]).toRgb();i[o]=[l.r,l.g,l.b,l.a]}var s=d.scale.linear().domain(r).range(i).clamp(true);var c=t.noNumericCheck;var u=t.returnArray;var f;if(c&&u){f=s}else if(c){f=function(e){return colorArray2rbga(s(e))}}else if(u){f=function(e){if(h(e))return s(e);else if(v(e).isValid())return e;else return p.defaultLine}}else{f=function(e){if(h(e))return colorArray2rbga(s(e));else if(v(e).isValid())return e;else return p.defaultLine}}f.domain=s.domain;f.range=function(){return a};return f}function makeColorScaleFuncFromTrace(e,t){return makeColorScaleFunc(extractScale(e),t)}function colorArray2rbga(e){var t={r:e[0],g:e[1],b:e[2],a:e[3]};return v(t).toRgbString()}e.exports={hasColorscale:hasColorscale,extractOpts:extractOpts,extractScale:extractScale,flipScale:flipScale,makeColorScaleFunc:makeColorScaleFunc,makeColorScaleFuncFromTrace:makeColorScaleFuncFromTrace}},1081:function(e,t,r){"use strict";var a=r(3282);var n=r(2869);e.exports={moduleType:"component",name:"colorscale",attributes:r(693),layoutAttributes:r(2673),supplyLayoutDefaults:r(959),handleDefaults:r(1586),crossTraceDefaults:r(3046),calc:r(8803),scales:a.scales,defaultScale:a.defaultScale,getScale:a.get,isValidScale:a.isValid,hasColorscale:n.hasColorscale,extractOpts:n.extractOpts,extractScale:n.extractScale,flipScale:n.flipScale,makeColorScaleFunc:n.makeColorScaleFunc,makeColorScaleFuncFromTrace:n.makeColorScaleFuncFromTrace}},2673:function(e,t,r){"use strict";var a=r(1426).extendFlat;var n=r(693);var i=r(3282).scales;var o="Note that `autocolorscale` must be true for this attribute to work.";e.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:a({_isSubplotObj:true,editType:"calc"},n("",{colorAttr:"corresponding trace color array(s)",noColorAxis:true,showScaleDflt:true}))}},959:function(e,t,r){"use strict";var s=r(1828);var c=r(4467);var u=r(2673);var f=r(1586);e.exports=function supplyLayoutDefaults(r,a){function coerce(e,t){return s.coerce(r,a,u,e,t)}coerce("colorscale.sequential");coerce("colorscale.sequentialminus");coerce("colorscale.diverging");var e=a._colorAxes;var n,i;function coerceAx(e,t){return s.coerce(n,i,u.coloraxis,e,t)}for(var t in e){var o=e[t];if(o[0]){n=r[t]||{};i=c.newContainer(a,t,"coloraxis");i._name=t;f(n,i,a,coerceAx,{prefix:"",cLetter:"c"})}else{for(var l=0;l<o[2].length;l++){o[2][l]()}delete a._colorAxes[t]}}}},3282:function(e,t,r){"use strict";var n=r(4267);var a={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]};var i=a.RdBu;function getScale(t,r){if(!r)r=i;if(!t)return r;function parseScale(){try{t=a[t]||JSON.parse(t)}catch(e){t=r}}if(typeof t==="string"){parseScale();if(typeof t==="string")parseScale()}if(!isValidScaleArray(t))return r;return t}function isValidScaleArray(e){var t=0;if(!Array.isArray(e)||e.length<2)return false;if(!e[0]||!e[e.length-1])return false;if(+e[0][0]!==0||+e[e.length-1][0]!==1)return false;for(var r=0;r<e.length;r++){var a=e[r];if(a.length!==2||+a[0]<t||!n(a[1]).isValid()){return false}t=+a[0]}return true}function isValidScale(e){if(a[e]!==undefined)return true;else return isValidScaleArray(e)}e.exports={scales:a,defaultScale:i,get:getScale,isValid:isValidScale}},2807:function(e){"use strict";e.exports=function align(e,t,r,a,n){var i=(e-r)/(a-r);var o=i+t/(a-r);var l=(i+o)/2;if(n==="left"||n==="bottom")return i;if(n==="center"||n==="middle")return l;if(n==="right"||n==="top")return o;if(i<2/3-l)return i;if(o>4/3-l)return o;return l}},461:function(e,t,r){"use strict";var n=r(1828);var i=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function getCursor(e,t,r,a){if(r==="left")e=0;else if(r==="center")e=1;else if(r==="right")e=2;else e=n.constrain(Math.floor(e*3),0,2);if(a==="bottom")t=0;else if(a==="middle")t=1;else if(a==="top")t=2;else t=n.constrain(Math.floor(t*3),0,2);return i[t][e]}},4505:function(e,t){"use strict";t.selectMode=function(e){return e==="lasso"||e==="select"};t.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"};t.openMode=function(e){return e==="drawline"||e==="drawopenpath"};t.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"};t.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"};t.selectingOrDrawing=function(e){return t.freeMode(e)||t.rectMode(e)}},8569:function(e,t,r){"use strict";var a=r(8956);var m=r(7035);var y=r(8520);var x=r(1828).removeElement;var _=r(5555);var b=e.exports={};b.align=r(2807);b.getCursor=r(461);var n=r(6041);b.unhover=n.wrapped;b.unhoverRaw=n.raw;b.init=function init(o){var l=o.gd;var n=1;var i=l._context.doubleClickDelay;var s=o.element;var c,u,r,f,d,v,h,p;if(!l._mouseDownTime)l._mouseDownTime=0;s.style.pointerEvents="all";s.onmousedown=onStart;if(!y){s.ontouchstart=onStart}else{if(s._ontouchstart){s.removeEventListener("touchstart",s._ontouchstart)}s._ontouchstart=onStart;s.addEventListener("touchstart",onStart,{passive:false})}function _clampFn(e,t,r){if(Math.abs(e)<r)e=0;if(Math.abs(t)<r)t=0;return[e,t]}var g=o.clampFn||_clampFn;function onStart(e){l._dragged=false;l._dragging=true;var t=pointerOffset(e);c=t[0];u=t[1];h=e.target;v=e;p=e.buttons===2||e.ctrlKey;if(typeof e.clientX==="undefined"&&typeof e.clientY==="undefined"){e.clientX=c;e.clientY=u}r=(new Date).getTime();if(r-l._mouseDownTime<i){n+=1}else{n=1;l._mouseDownTime=r}if(o.prepFn)o.prepFn(e,c,u);if(m&&!p){d=coverSlip();d.style.cursor=window.getComputedStyle(s).cursor}else if(!m){d=document;f=window.getComputedStyle(document.documentElement).cursor;document.documentElement.style.cursor=window.getComputedStyle(s).cursor}document.addEventListener("mouseup",onDone);document.addEventListener("touchend",onDone);if(o.dragmode!==false){e.preventDefault();document.addEventListener("mousemove",onMove);document.addEventListener("touchmove",onMove,{passive:false})}return}function onMove(e){e.preventDefault();var t=pointerOffset(e);var r=o.minDrag||_.MINDRAG;var a=g(t[0]-c,t[1]-u,r);var n=a[0];var i=a[1];if(n||i){l._dragged=true;b.unhover(l,e)}if(l._dragged&&o.moveFn&&!p){l._dragdata={element:s,dx:n,dy:i};o.moveFn(n,i)}return}function onDone(e){delete l._dragdata;if(o.dragmode!==false){e.preventDefault();document.removeEventListener("mousemove",onMove);document.removeEventListener("touchmove",onMove)}document.removeEventListener("mouseup",onDone);document.removeEventListener("touchend",onDone);if(m){x(d)}else if(f){d.documentElement.style.cursor=f;f=null}if(!l._dragging){l._dragged=false;return}l._dragging=false;if((new Date).getTime()-l._mouseDownTime>i){n=Math.max(n-1,1)}if(l._dragged){if(o.doneFn)o.doneFn()}else{if(o.clickFn)o.clickFn(n,v);if(!p){var t;try{t=new MouseEvent("click",e)}catch(a){var r=pointerOffset(e);t=document.createEvent("MouseEvents");t.initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,r[0],r[1],e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}h.dispatchEvent(t)}}l._dragging=false;l._dragged=false;return}};function coverSlip(){var e=document.createElement("div");e.className="dragcover";var t=e.style;t.position="fixed";t.left=0;t.right=0;t.top=0;t.bottom=0;t.zIndex=999999999;t.background="none";document.body.appendChild(e);return e}b.coverSlip=coverSlip;function pointerOffset(e){return a(e.changedTouches?e.changedTouches[0]:e,document.body)}},6041:function(e,t,r){"use strict";var n=r(1086);var a=r(9990);var i=r(4401).getGraphDiv;var o=r(6675);var l=e.exports={};l.wrapped=function(e,t,r){e=i(e);if(e._fullLayout){a.clear(e._fullLayout._uid+o.HOVERID)}l.raw(e,t,r)};l.raw=function raw(e,t){var r=e._fullLayout;var a=e._hoverdata;if(!t)t={};if(t.target&&!e._dragged&&n.triggerHandler(e,"plotly_beforehover",t)===false){return}r._hoverlayer.selectAll("g").remove();r._hoverlayer.selectAll("line").remove();r._hoverlayer.selectAll("circle").remove();e._hoverdata=undefined;if(t.target&&a){e.emit("plotly_unhover",{event:t,points:a})}}},9952:function(e,t){"use strict";t.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"};t.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:true,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:true,editType:"style"},fgcolor:{valType:"color",arrayOk:true,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:true,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:true,editType:"style"},editType:"style"}},1424:function(n,i,e){"use strict";var L=e(9898);var D=e(1828);var o=D.numberFormat;var O=e(2770);var P=e(4267);var _=e(3972);var I=e(7901);var l=e(1081);var d=D.strTranslate;var p=e(3893);var s=e(7922);var c=e(8783);var y=c.LINE_SPACING;var b=e(7822).DESELECTDIM;var u=e(4098);var f=e(9984);var x=e(3469).appendArrayPointValue;var R=n.exports={};R.font=function(e,t,r,a){if(D.isPlainObject(t)){a=t.color;r=t.size;t=t.family}if(t)e.style("font-family",t);if(r+1)e.style("font-size",r+"px");if(a)e.call(I.fill,a)};R.setPosition=function(e,t,r){e.attr("x",t).attr("y",r)};R.setSize=function(e,t,r){e.attr("width",t).attr("height",r)};R.setRect=function(e,t,r,a,n){e.call(R.setPosition,t,r).call(R.setSize,a,n)};R.translatePoint=function(e,t,r,a){var n=r.c2p(e.x);var i=a.c2p(e.y);if(O(n)&&O(i)&&t.node()){if(t.node().nodeName==="text"){t.attr("x",n).attr("y",i)}else{t.attr("transform",d(n,i))}}else{return false}return true};R.translatePoints=function(e,r,a){e.each(function(e){var t=L.select(this);R.translatePoint(e,t,r,a)})};R.hideOutsideRangePoint=function(e,t,r,a,n,i){t.attr("display",r.isPtWithinRange(e,n)&&a.isPtWithinRange(e,i)?null:"none")};R.hideOutsideRangePoints=function(i,e){if(!e._hasClipOnAxisFalse)return;var o=e.xaxis;var l=e.yaxis;i.each(function(e){var t=e[0].trace;var r=t.xcalendar;var a=t.ycalendar;var n=_.traceIs(t,"bar-like")?".bartext":".point,.textpoint";i.selectAll(n).each(function(e){R.hideOutsideRangePoint(e,L.select(this),o,l,r,a)})})};R.crispRound=function(e,t,r){if(!t||!O(t))return r||0;if(e._context.staticPlot)return t;if(t<1)return 1;return Math.round(t)};R.singleLineStyle=function(e,t,r,a,n){t.style("fill","none");var i=(((e||[])[0]||{}).trace||{}).line||{};var o=r||i.width||0;var l=n||i.dash||"";I.stroke(t,a||i.color);R.dashLine(t,l,o)};R.lineGroupStyle=function(e,n,i,o){e.style("fill","none").each(function(e){var t=(((e||[])[0]||{}).trace||{}).line||{};var r=n||t.width||0;var a=o||t.dash||"";L.select(this).call(I.stroke,i||t.color).call(R.dashLine,a,r)})};R.dashLine=function(e,t,r){r=+r||0;t=R.dashStyle(t,r);e.style({"stroke-dasharray":t,"stroke-width":r+"px"})};R.dashStyle=function(e,t){t=+t||1;var r=Math.max(t,3);if(e==="solid")e="";else if(e==="dot")e=r+"px,"+r+"px";else if(e==="dash")e=3*r+"px,"+3*r+"px";else if(e==="longdash")e=5*r+"px,"+5*r+"px";else if(e==="dashdot"){e=3*r+"px,"+r+"px,"+r+"px,"+r+"px"}else if(e==="longdashdot"){e=5*r+"px,"+2*r+"px,"+r+"px,"+2*r+"px"}return e};function setFillStyle(e,t,r){var a=t.fillpattern;var n=a&&R.getPatternAttr(a.shape,0,"");if(n){var i=R.getPatternAttr(a.bgcolor,0,null);var o=R.getPatternAttr(a.fgcolor,0,null);var l=a.fgopacity;var s=R.getPatternAttr(a.size,0,8);var c=R.getPatternAttr(a.solidity,0,.3);var u=t.uid;R.pattern(e,"point",r,u,n,s,c,undefined,a.fillmode,i,o,l)}else if(t.fillcolor){e.call(I.fill,t.fillcolor)}}R.singleFillStyle=function(e,t){var r=L.select(e.node());var a=r.data();var n=((a[0]||[])[0]||{}).trace||{};setFillStyle(e,n,t)};R.fillGroupStyle=function(e,r){e.style("stroke-width",0).each(function(e){var t=L.select(this);if(e[0].trace){setFillStyle(t,e[0].trace,r)}})};var a=e(998);R.symbolNames=[];R.symbolFuncs=[];R.symbolBackOffs=[];R.symbolNeedLines={};R.symbolNoDot={};R.symbolNoFill={};R.symbolList=[];Object.keys(a).forEach(function(e){var t=a[e];var r=t.n;R.symbolList.push(r,String(r),e,r+100,String(r+100),e+"-open");R.symbolNames[r]=e;R.symbolFuncs[r]=t.f;R.symbolBackOffs[r]=t.backoff||0;if(t.needLine){R.symbolNeedLines[r]=true}if(t.noDot){R.symbolNoDot[r]=true}else{R.symbolList.push(r+200,String(r+200),e+"-dot",r+300,String(r+300),e+"-open-dot")}if(t.noFill){R.symbolNoFill[r]=true}});var T=R.symbolNames.length;var k="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";R.symbolNumber=function(e){if(O(e)){e=+e}else if(typeof e==="string"){var t=0;if(e.indexOf("-open")>0){t=100;e=e.replace("-open","")}if(e.indexOf("-dot")>0){t+=200;e=e.replace("-dot","")}e=R.symbolNames.indexOf(e);if(e>=0){e+=t}}return e%100>=T||e>=400?0:Math.floor(Math.max(e,0))};function makePointPath(e,t,r,a){var n=e%100;return R.symbolFuncs[n](t,r,a)+(e>=200?k:"")}var t={x1:1,x2:0,y1:0,y2:0};var r={x1:0,x2:0,y1:1,y2:0};var v=o("~f");var F={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:true},horizontal:{node:"linearGradient",attrs:t},horizontalreversed:{node:"linearGradient",attrs:t,reversed:true},vertical:{node:"linearGradient",attrs:r},verticalreversed:{node:"linearGradient",attrs:r,reversed:true}};R.gradient=function(e,t,r,a,n,i){var o=n.length;var l=F[a];var s=new Array(o);for(var c=0;c<o;c++){if(l.reversed){s[o-1-c]=[v((1-n[c][0])*100),n[c][1]]}else{s[c]=[v(n[c][0]*100),n[c][1]]}}var u=t._fullLayout;var f="g"+u._uid+"-"+r;var d=u._defs.select(".gradients").selectAll("#"+f).data([a+s.join(";")],D.identity);d.exit().remove();d.enter().append(l.node).each(function(){var e=L.select(this);if(l.attrs)e.attr(l.attrs);e.attr("id",f);var t=e.selectAll("stop").data(s);t.exit().remove();t.enter().append("stop");t.each(function(e){var t=P(e[1]);L.select(this).attr({offset:e[0]+"%","stop-color":I.tinyRGB(t),"stop-opacity":t.getAlpha()})})});e.style(i,getFullUrl(f,t)).style(i+"-opacity",null);e.classed("gradient_filled",true)};R.pattern=function(e,t,r,a,n,i,o,l,s,c,u,f){var d=t==="legend";if(l){if(s==="overlay"){c=l;u=I.contrast(c)}else{c=undefined;u=l}}var v=r._fullLayout;var h="p"+v._uid+"-"+a;var p,g;var m=function(e,t,r,a,n){return a+(n-a)*(e-t)/(r-t)};var y,x,_;var b;var w={};var T=P(u);var k=I.tinyRGB(T);var A=T.getAlpha();var M=f*A;switch(n){case"/":p=i*Math.sqrt(2);g=i*Math.sqrt(2);y="M-"+p/4+","+g/4+"l"+p/2+",-"+g/2+"M0,"+g+"L"+p+",0"+"M"+p/4*3+","+g/4*5+"l"+p/2+",-"+g/2;x=o*i;b="path";w={d:y,opacity:M,stroke:k,"stroke-width":x+"px"};break;case"\\":p=i*Math.sqrt(2);g=i*Math.sqrt(2);y="M"+p/4*3+",-"+g/4+"l"+p/2+","+g/2+"M0,0L"+p+","+g+"M-"+p/4+","+g/4*3+"l"+p/2+","+g/2;x=o*i;b="path";w={d:y,opacity:M,stroke:k,"stroke-width":x+"px"};break;case"x":p=i*Math.sqrt(2);g=i*Math.sqrt(2);y="M-"+p/4+","+g/4+"l"+p/2+",-"+g/2+"M0,"+g+"L"+p+",0"+"M"+p/4*3+","+g/4*5+"l"+p/2+",-"+g/2+"M"+p/4*3+",-"+g/4+"l"+p/2+","+g/2+"M0,0L"+p+","+g+"M-"+p/4+","+g/4*3+"l"+p/2+","+g/2;x=i-i*Math.sqrt(1-o);b="path";w={d:y,opacity:M,stroke:k,"stroke-width":x+"px"};break;case"|":p=i;g=i;b="path";y="M"+p/2+",0L"+p/2+","+g;x=o*i;b="path";w={d:y,opacity:M,stroke:k,"stroke-width":x+"px"};break;case"-":p=i;g=i;b="path";y="M0,"+g/2+"L"+p+","+g/2;x=o*i;b="path";w={d:y,opacity:M,stroke:k,"stroke-width":x+"px"};break;case"+":p=i;g=i;b="path";y="M"+p/2+",0L"+p/2+","+g+"M0,"+g/2+"L"+p+","+g/2;x=i-i*Math.sqrt(1-o);b="path";w={d:y,opacity:M,stroke:k,"stroke-width":x+"px"};break;case".":p=i;g=i;if(o<Math.PI/4){_=Math.sqrt(o*i*i/Math.PI)}else{_=m(o,Math.PI/4,1,i/2,i/Math.sqrt(2))}b="circle";w={cx:p/2,cy:g/2,r:_,opacity:M,fill:k};break}var S=[n||"noSh",c||"noBg",u||"noFg",i,o].join(";");var C=v._defs.select(".patterns").selectAll("#"+h).data([S],D.identity);C.exit().remove();C.enter().append("pattern").each(function(){var e=L.select(this);e.attr({id:h,width:p+"px",height:g+"px",patternUnits:"userSpaceOnUse",patternTransform:d?"scale(0.8)":""});if(c){var t=P(c);var r=I.tinyRGB(t);var a=t.getAlpha();var n=e.selectAll("rect").data([0]);n.exit().remove();n.enter().append("rect").attr({width:p+"px",height:g+"px",fill:r,"fill-opacity":a})}var i=e.selectAll(b).data([0]);i.exit().remove();i.enter().append(b).attr(w)});e.style("fill",getFullUrl(h,r)).style("fill-opacity",null);e.classed("pattern_filled",true)};R.initGradients=function(e){var t=e._fullLayout;var r=D.ensureSingle(t._defs,"g","gradients");r.selectAll("linearGradient,radialGradient").remove();L.select(e).selectAll(".gradient_filled").classed("gradient_filled",false)};R.initPatterns=function(e){var t=e._fullLayout;var r=D.ensureSingle(t._defs,"g","patterns");r.selectAll("pattern").remove();L.select(e).selectAll(".pattern_filled").classed("pattern_filled",false)};R.getPatternAttr=function(e,t,r){if(e&&D.isArrayOrTypedArray(e)){return t<e.length?e[t]:r}return e};R.pointStyle=function(e,t,r){if(!e.size())return;var a=R.makePointStyleFns(t);e.each(function(e){R.singlePointStyle(e,L.select(this),t,a,r)})};R.singlePointStyle=function(e,t,r,a,n){var i=r.marker;var o=i.line;t.style("opacity",a.selectedOpacityFn?a.selectedOpacityFn(e):e.mo===undefined?i.opacity:e.mo);if(a.ms2mrc){var l;if(e.ms==="various"||i.size==="various"){l=3}else{l=a.ms2mrc(e.ms)}e.mrc=l;if(a.selectedSizeFn){l=e.mrc=a.selectedSizeFn(e)}var s=R.symbolNumber(e.mx||i.symbol)||0;e.om=s%200>=100;var c=getMarkerAngle(e,r);var u=getMarkerStandoff(e,r);t.attr("d",makePointPath(s,l,c,u))}var f=false;var d,v,h;if(e.so){h=o.outlierwidth;v=o.outliercolor;d=i.outliercolor}else{var p=(o||{}).width;h=(e.mlw+1||p+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0;if("mlc"in e)v=e.mlcc=a.lineScale(e.mlc);else if(D.isArrayOrTypedArray(o.color))v=I.defaultLine;else v=o.color;if(D.isArrayOrTypedArray(i.color)){d=I.defaultLine;f=true}if("mc"in e){d=e.mcc=a.markerScale(e.mc)}else{d=i.color||"rgba(0,0,0,0)"}if(a.selectedColorFn){d=a.selectedColorFn(e)}}if(e.om){t.call(I.stroke,d).style({"stroke-width":(h||1)+"px",fill:"none"})}else{t.style("stroke-width",(e.isBlank?0:h)+"px");var g=i.gradient;var m=e.mgt;if(m)f=true;else m=g&&g.type;if(D.isArrayOrTypedArray(m)){m=m[0];if(!F[m])m=0}var y=i.pattern;var x=y&&R.getPatternAttr(y.shape,e.i,"");if(m&&m!=="none"){var _=e.mgc;if(_)f=true;else _=g.color;var b=r.uid;if(f)b+="-"+e.i;R.gradient(t,n,b,m,[[0,_],[1,d]],"fill")}else if(x){var w=R.getPatternAttr(y.bgcolor,e.i,null);var T=R.getPatternAttr(y.fgcolor,e.i,null);var k=y.fgopacity;var A=R.getPatternAttr(y.size,e.i,8);var M=R.getPatternAttr(y.solidity,e.i,.3);var S=e.mcc||D.isArrayOrTypedArray(y.shape)||D.isArrayOrTypedArray(y.bgcolor)||D.isArrayOrTypedArray(y.size)||D.isArrayOrTypedArray(y.solidity);var C=r.uid;if(S)C+="-"+e.i;R.pattern(t,"point",n,C,x,A,M,e.mcc,y.fillmode,w,T,k)}else{I.fill(t,d)}if(h){I.stroke(t,v)}}};R.makePointStyleFns=function(e){var t={};var r=e.marker;t.markerScale=R.tryColorscale(r,"");t.lineScale=R.tryColorscale(r,"line");if(_.traceIs(e,"symbols")){t.ms2mrc=u.isBubble(e)?f(e):function(){return(r.size||6)/2}}if(e.selectedpoints){D.extendFlat(t,R.makeSelectedPointStyleFns(e))}return t};R.makeSelectedPointStyleFns=function(e){var t={};var r=e.selected||{};var a=e.unselected||{};var n=e.marker||{};var i=r.marker||{};var o=a.marker||{};var l=n.opacity;var s=i.opacity;var c=o.opacity;var u=s!==undefined;var f=c!==undefined;if(D.isArrayOrTypedArray(l)||u||f){t.selectedOpacityFn=function(e){var t=e.mo===undefined?n.opacity:e.mo;if(e.selected){return u?s:t}else{return f?c:b*t}}}var d=n.color;var v=i.color;var h=o.color;if(v||h){t.selectedColorFn=function(e){var t=e.mcc||d;if(e.selected){return v||t}else{return h||t}}}var p=n.size;var g=i.size;var m=o.size;var y=g!==undefined;var x=m!==undefined;if(_.traceIs(e,"symbols")&&(y||x)){t.selectedSizeFn=function(e){var t=e.mrc||p/2;if(e.selected){return y?g/2:t}else{return x?m/2:t}}}return t};R.makeSelectedTextStyleFns=function(e){var t={};var r=e.selected||{};var a=e.unselected||{};var n=e.textfont||{};var i=r.textfont||{};var o=a.textfont||{};var l=n.color;var s=i.color;var c=o.color;t.selectedTextColorFn=function(e){var t=e.tc||l;if(e.selected){return s||t}else{if(c)return c;else return s?t:I.addOpacity(t,b)}};return t};R.selectedPointStyle=function(e,n){if(!e.size()||!n.selectedpoints)return;var i=R.makeSelectedPointStyleFns(n);var o=n.marker||{};var a=[];if(i.selectedOpacityFn){a.push(function(e,t){e.style("opacity",i.selectedOpacityFn(t))})}if(i.selectedColorFn){a.push(function(e,t){I.fill(e,i.selectedColorFn(t))})}if(i.selectedSizeFn){a.push(function(e,t){var r=t.mx||o.symbol||0;var a=i.selectedSizeFn(t);e.attr("d",makePointPath(R.symbolNumber(r),a,getMarkerAngle(t,n),getMarkerStandoff(t,n)));t.mrc2=a})}if(a.length){e.each(function(e){var t=L.select(this);for(var r=0;r<a.length;r++){a[r](t,e)}})}};R.tryColorscale=function(e,t){var r=t?D.nestedProperty(e,t).get():e;if(r){var a=r.color;if((r.colorscale||r._colorAx)&&D.isArrayOrTypedArray(a)){return l.makeColorScaleFuncFromTrace(r)}}return D.identity};var h={start:1,end:-1,middle:0,bottom:1,top:-1};function textPointPosition(e,t,r,a,n){var i=L.select(e.node().parentNode);var o=t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle";var l=t.indexOf("left")!==-1?"end":t.indexOf("right")!==-1?"start":"middle";var s=a?a/.8+1:0;var c=(p.lineCount(e)-1)*y+1;var u=h[l]*s;var f=r*.75+h[o]*s+(h[o]-1)*c*r/2;e.attr("text-anchor",l);if(!n){i.attr("transform",d(u,f))}}function extracTextFontSize(e,t){var r=e.ts||t.textfont.size;return O(r)&&r>0?r:0}R.textPointStyle=function(e,u,f){if(!e.size())return;var d;if(u.selectedpoints){var t=R.makeSelectedTextStyleFns(u);d=t.selectedTextColorFn}var v=u.texttemplate;var h=f._fullLayout;e.each(function(e){var t=L.select(this);var r=v?D.extractOption(e,u,"txt","texttemplate"):D.extractOption(e,u,"tx","text");if(!r&&r!==0){t.remove();return}if(v){var a=u._module.formatLabels;var n=a?a(e,u,h):{};var i={};x(i,u,e.i);var o=u._meta||{};r=D.texttemplateString(r,n,h._d3locale,i,e,o)}var l=e.tp||u.textposition;var s=extracTextFontSize(e,u);var c=d?d(e):e.tc||u.textfont.color;t.call(R.font,e.tf||u.textfont.family,s,c).text(r).call(p.convertToTspans,f).call(textPointPosition,l,s,e.mrc)})};R.selectedTextStyle=function(e,o){if(!e.size()||!o.selectedpoints)return;var l=R.makeSelectedTextStyleFns(o);e.each(function(e){var t=L.select(this);var r=l.selectedTextColorFn(e);var a=e.tp||o.textposition;var n=extracTextFontSize(e,o);I.fill(t,r);var i=_.traceIs(o,"bar-like");textPointPosition(t,a,n,e.mrc2||e.mrc,i)})};var g=.5;R.smoothopen=function(e,t){if(e.length<3){return"M"+e.join("L")}var r="M"+e[0];var a=[];var n;for(n=1;n<e.length-1;n++){a.push(makeTangent(e[n-1],e[n],e[n+1],t))}r+="Q"+a[0][0]+" "+e[1];for(n=2;n<e.length-1;n++){r+="C"+a[n-2][1]+" "+a[n-1][0]+" "+e[n]}r+="Q"+a[e.length-3][1]+" "+e[e.length-1];return r};R.smoothclosed=function(e,t){if(e.length<3){return"M"+e.join("L")+"Z"}var r="M"+e[0];var a=e.length-1;var n=[makeTangent(e[a],e[0],e[1],t)];var i;for(i=1;i<a;i++){n.push(makeTangent(e[i-1],e[i],e[i+1],t))}n.push(makeTangent(e[a-1],e[a],e[0],t));for(i=1;i<=a;i++){r+="C"+n[i-1][1]+" "+n[i][0]+" "+e[i]}r+="C"+n[a][1]+" "+n[0][0]+" "+e[0]+"Z";return r};var w,A;function roundEnd(e,t,r){if(r)e=applyBackoff(e);return t?roundY(e[1]):roundX(e[0])}function roundX(e){var t=L.round(e,2);w=t;return t}function roundY(e){var t=L.round(e,2);A=t;return t}function makeTangent(e,t,r,a){var n=e[0]-t[0];var i=e[1]-t[1];var o=r[0]-t[0];var l=r[1]-t[1];var s=Math.pow(n*n+i*i,g/2);var c=Math.pow(o*o+l*l,g/2);var u=(c*c*n-s*s*o)*a;var f=(c*c*i-s*s*l)*a;var d=3*c*(s+c);var v=3*s*(s+c);return[[roundX(t[0]+(d&&u/d)),roundY(t[1]+(d&&f/d))],[roundX(t[0]-(v&&u/v)),roundY(t[1]-(v&&f/v))]]}var M={hv:function(e,t,r){return"H"+roundX(t[0])+"V"+roundEnd(t,1,r)},vh:function(e,t,r){return"V"+roundY(t[1])+"H"+roundEnd(t,0,r)},hvh:function(e,t,r){return"H"+roundX((e[0]+t[0])/2)+"V"+roundY(t[1])+"H"+roundEnd(t,0,r)},vhv:function(e,t,r){return"V"+roundY((e[1]+t[1])/2)+"H"+roundX(t[0])+"V"+roundEnd(t,1,r)}};var S=function(e,t,r){return"L"+roundEnd(t,0,r)+","+roundEnd(t,1,r)};R.steps=function(e){var n=M[e]||S;return function(e){var t="M"+roundX(e[0][0])+","+roundY(e[0][1]);var r=e.length;for(var a=1;a<r;a++){t+=n(e[a-1],e[a],a===r-1)}return t}};function applyBackoff(e,t){var r=e.backoff;var a=e.trace;var n=e.d;var i=e.i;if(r&&a&&a.marker&&a.marker.angle%360===0&&a.line&&a.line.shape!=="spline"){var o=D.isArrayOrTypedArray(r);var l=e;var s=t?t[0]:w||0;var c=t?t[1]:A||0;var u=l[0];var f=l[1];var d=u-s;var v=f-c;var h=Math.atan2(v,d);var p=o?r[i]:r;if(p==="auto"){var g=l.i;if(a.type==="scatter")g--;var m=l.marker;var y=m.symbol;if(D.isArrayOrTypedArray(y))y=y[g];var x=m.size;if(D.isArrayOrTypedArray(x))x=x[g];p=m?R.symbolBackOffs[R.symbolNumber(y)]*x:0;p+=R.getMarkerStandoff(n[g],a)||0}var _=u-p*Math.cos(h);var b=f-p*Math.sin(h);if((_<=u&&_>=s||_>=u&&_<=s)&&(b<=f&&b>=c||b>=f&&b<=c)){e=[_,b]}}return e}R.applyBackoff=applyBackoff;R.makeTester=function(){var e=D.ensureSingleById(L.select("body"),"svg","js-plotly-tester",function(e){e.attr(s.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})});var t=D.ensureSingle(e,"path","js-reference-point",function(e){e.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});R.tester=e;R.testref=t};R.savedBBoxes={};var m=0;var C=1e4;R.bBox=function(e,t,r){if(!r)r=nodeHash(e);var a;if(r){a=R.savedBBoxes[r];if(a)return D.extendFlat({},a)}else if(e.childNodes.length===1){var n=e.childNodes[0];r=nodeHash(n);if(r){var i=+n.getAttribute("x")||0;var o=+n.getAttribute("y")||0;var l=n.getAttribute("transform");if(!l){var s=R.bBox(n,false,r);if(i){s.left+=i;s.right+=i}if(o){s.top+=o;s.bottom+=o}return s}r+="~"+i+"~"+o+"~"+l;a=R.savedBBoxes[r];if(a)return D.extendFlat({},a)}}var c,u;if(t){c=e}else{u=R.tester.node();c=e.cloneNode(true);u.appendChild(c)}L.select(c).attr("transform",null).call(p.positionText,0,0);var f=c.getBoundingClientRect();var d=R.testref.node().getBoundingClientRect();if(!t)u.removeChild(c);var v={height:f.height,width:f.width,left:f.left-d.left,top:f.top-d.top,right:f.right-d.left,bottom:f.bottom-d.top};if(m>=C){R.savedBBoxes={};m=0}if(r)R.savedBBoxes[r]=v;m++;return D.extendFlat({},v)};function nodeHash(e){var t=e.getAttribute("data-unformatted");if(t===null)return;return t+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}R.setClipUrl=function(e,t,r){e.attr("clip-path",getFullUrl(t,r))};function getFullUrl(e,t){if(!e)return null;var r=t._context;var a=r._exportedPlot?"":r._baseUrl||"";return a?"url('"+a+"#"+e+"')":"url(#"+e+")"}R.getTranslate=function(e){var t=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/;var r=e.attr?"attr":"getAttribute";var a=e[r]("transform")||"";var n=a.replace(t,function(e,t,r){return[t,r].join(" ")}).split(" ");return{x:+n[0]||0,y:+n[1]||0}};R.setTranslate=function(e,t,r){var a=/(\btranslate\(.*?\);?)/;var n=e.attr?"attr":"getAttribute";var i=e.attr?"attr":"setAttribute";var o=e[n]("transform")||"";t=t||0;r=r||0;o=o.replace(a,"").trim();o+=d(t,r);o=o.trim();e[i]("transform",o);return o};R.getScale=function(e){var t=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/;var r=e.attr?"attr":"getAttribute";var a=e[r]("transform")||"";var n=a.replace(t,function(e,t,r){return[t,r].join(" ")}).split(" ");return{x:+n[0]||1,y:+n[1]||1}};R.setScale=function(e,t,r){var a=/(\bscale\(.*?\);?)/;var n=e.attr?"attr":"getAttribute";var i=e.attr?"attr":"setAttribute";var o=e[n]("transform")||"";t=t||1;r=r||1;o=o.replace(a,"").trim();o+="scale("+t+","+r+")";o=o.trim();e[i]("transform",o);return o};var j=/\s*sc.*/;R.setPointGroupScale=function(e,t,r){t=t||1;r=r||1;if(!e)return;var a=t===1&&r===1?"":"scale("+t+","+r+")";e.each(function(){var e=(this.getAttribute("transform")||"").replace(j,"");e+=a;e=e.trim();this.setAttribute("transform",e)})};var V=/translate\([^)]*\)\s*$/;R.setTextPointsScale=function(e,o,l){if(!e)return;e.each(function(){var e;var t=L.select(this);var r=t.select("text");if(!r.node())return;var a=parseFloat(r.attr("x")||0);var n=parseFloat(r.attr("y")||0);var i=(t.attr("transform")||"").match(V);if(o===1&&l===1){e=[]}else{e=[d(a,n),"scale("+o+","+l+")",d(-a,-n)]}if(i){e.push(i)}t.attr("transform",e.join(""))})};function getMarkerStandoff(e,t){var r;if(e)r=e.mf;if(r===undefined){r=t.marker?t.marker.standoff||0:0}if(!t._geo&&!t._xA){return-r}return r}R.getMarkerStandoff=getMarkerStandoff;var N=Math.atan2;var E=Math.cos;var z=Math.sin;function rotate(e,t){var r=t[0];var a=t[1];return[r*E(e)-a*z(e),r*z(e)+a*E(e)]}var Y;var U;var G;var q;var B;var H;function getMarkerAngle(e,t){var r=e.ma;if(r===undefined){r=t.marker.angle||0}var a,n;var i=t.marker.angleref;if(i==="previous"||i==="north"){if(t._geo){var o=t._geo.project(e.lonlat);a=o[0];n=o[1]}else{var l=t._xA;var s=t._yA;if(l&&s){a=l.c2p(e.x);n=s.c2p(e.y)}else{return 90}}if(t._geo){var c=e.lonlat[0];var u=e.lonlat[1];var f=t._geo.project([c,u+1e-5]);var d=t._geo.project([c+1e-5,u]);var v=N(d[1]-n,d[0]-a);var h=N(f[1]-n,f[0]-a);var p;if(i==="north"){p=r/180*Math.PI}else if(i==="previous"){var g=c/180*Math.PI;var m=u/180*Math.PI;var y=Y/180*Math.PI;var x=U/180*Math.PI;var _=y-g;var b=E(x)*z(_);var w=z(x)*E(m)-E(x)*z(m)*E(_);p=-N(b,w)-Math.PI;Y=c;U=u}var T=rotate(v,[E(p),0]);var k=rotate(h,[z(p),0]);r=N(T[1]+k[1],T[0]+k[0])/Math.PI*180;if(i==="previous"&&!(H===t.uid&&e.i===B+1)){r=null}}if(i==="previous"&&!t._geo){if(H===t.uid&&e.i===B+1&&O(a)&&O(n)){var A=a-G;var M=n-q;var S=t.line?t.line.shape||"":"";var C=S.slice(S.length-1);if(C==="h")M=0;if(C==="v")A=0;r+=N(M,A)/Math.PI*180+90}else{r=null}}}G=a;q=n;B=e.i;H=t.uid;return r}R.getMarkerAngle=getMarkerAngle},998:function(e,t,r){"use strict";var p=r(5616);var v=r(9898).round;var h="M0,0Z";var s=Math.sqrt(2);var c=Math.sqrt(3);var g=Math.PI;var m=Math.cos;var y=Math.sin;e.exports={circle:{n:0,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);var n="M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z";return r?align(t,r,n):n}},square:{n:1,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);return align(t,r,"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")}},diamond:{n:2,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.3,2);return align(t,r,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"Z")}},cross:{n:3,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*.4,2);var n=v(e*1.2,2);return align(t,r,"M"+n+","+a+"H"+a+"V"+n+"H-"+a+"V"+a+"H-"+n+"V-"+a+"H-"+a+"V-"+n+"H"+a+"V-"+a+"H"+n+"Z")}},x:{n:4,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*.8/s,2);var n="l"+a+","+a;var i="l"+a+",-"+a;var o="l-"+a+",-"+a;var l="l-"+a+","+a;return align(t,r,"M0,"+a+n+i+o+i+o+l+o+l+n+l+n+"Z")}},"triangle-up":{n:5,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*2/c,2);var n=v(e/2,2);var i=v(e,2);return align(t,r,"M-"+a+","+n+"H"+a+"L0,-"+i+"Z")}},"triangle-down":{n:6,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*2/c,2);var n=v(e/2,2);var i=v(e,2);return align(t,r,"M-"+a+",-"+n+"H"+a+"L0,"+i+"Z")}},"triangle-left":{n:7,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*2/c,2);var n=v(e/2,2);var i=v(e,2);return align(t,r,"M"+n+",-"+a+"V"+a+"L-"+i+",0Z")}},"triangle-right":{n:8,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*2/c,2);var n=v(e/2,2);var i=v(e,2);return align(t,r,"M-"+n+",-"+a+"V"+a+"L"+i+",0Z")}},"triangle-ne":{n:9,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*.6,2);var n=v(e*1.2,2);return align(t,r,"M-"+n+",-"+a+"H"+a+"V"+n+"Z")}},"triangle-se":{n:10,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*.6,2);var n=v(e*1.2,2);return align(t,r,"M"+a+",-"+n+"V"+a+"H-"+n+"Z")}},"triangle-sw":{n:11,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*.6,2);var n=v(e*1.2,2);return align(t,r,"M"+n+","+a+"H-"+a+"V-"+n+"Z")}},"triangle-nw":{n:12,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*.6,2);var n=v(e*1.2,2);return align(t,r,"M-"+a+","+n+"V-"+a+"H"+n+"Z")}},pentagon:{n:13,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*.951,2);var n=v(e*.588,2);var i=v(-e,2);var o=v(e*-.309,2);var l=v(e*.809,2);return align(t,r,"M"+a+","+o+"L"+n+","+l+"H-"+n+"L-"+a+","+o+"L0,"+i+"Z")}},hexagon:{n:14,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);var n=v(e/2,2);var i=v(e*c/2,2);return align(t,r,"M"+i+",-"+n+"V"+n+"L0,"+a+"L-"+i+","+n+"V-"+n+"L0,-"+a+"Z")}},hexagon2:{n:15,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);var n=v(e/2,2);var i=v(e*c/2,2);return align(t,r,"M-"+n+","+i+"H"+n+"L"+a+",0L"+n+",-"+i+"H-"+n+"L-"+a+",0Z")}},octagon:{n:16,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*.924,2);var n=v(e*.383,2);return align(t,r,"M-"+n+",-"+a+"H"+n+"L"+a+",-"+n+"V"+n+"L"+n+","+a+"H-"+n+"L-"+a+","+n+"V-"+n+"Z")}},star:{n:17,f:function(e,t,r){if(skipAngle(t))return h;var a=e*1.4;var n=v(a*.225,2);var i=v(a*.951,2);var o=v(a*.363,2);var l=v(a*.588,2);var s=v(-a,2);var c=v(a*-.309,2);var u=v(a*.118,2);var f=v(a*.809,2);var d=v(a*.382,2);return align(t,r,"M"+n+","+c+"H"+i+"L"+o+","+u+"L"+l+","+f+"L0,"+d+"L-"+l+","+f+"L-"+o+","+u+"L-"+i+","+c+"H-"+n+"L0,"+s+"Z")}},hexagram:{n:18,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*.66,2);var n=v(e*.38,2);var i=v(e*.76,2);return align(t,r,"M-"+i+",0l-"+n+",-"+a+"h"+i+"l"+n+",-"+a+"l"+n+","+a+"h"+i+"l-"+n+","+a+"l"+n+","+a+"h-"+i+"l-"+n+","+a+"l-"+n+",-"+a+"h-"+i+"Z")}},"star-triangle-up":{n:19,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*c*.8,2);var n=v(e*.8,2);var i=v(e*1.6,2);var o=v(e*4,2);var l="A "+o+","+o+" 0 0 1 ";return align(t,r,"M-"+a+","+n+l+a+","+n+l+"0,-"+i+l+"-"+a+","+n+"Z")}},"star-triangle-down":{n:20,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*c*.8,2);var n=v(e*.8,2);var i=v(e*1.6,2);var o=v(e*4,2);var l="A "+o+","+o+" 0 0 1 ";return align(t,r,"M"+a+",-"+n+l+"-"+a+",-"+n+l+"0,"+i+l+a+",-"+n+"Z")}},"star-square":{n:21,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.1,2);var n=v(e*2,2);var i="A "+n+","+n+" 0 0 1 ";return align(t,r,"M-"+a+",-"+a+i+"-"+a+","+a+i+a+","+a+i+a+",-"+a+i+"-"+a+",-"+a+"Z")}},"star-diamond":{n:22,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.4,2);var n=v(e*1.9,2);var i="A "+n+","+n+" 0 0 1 ";return align(t,r,"M-"+a+",0"+i+"0,"+a+i+a+",0"+i+"0,-"+a+i+"-"+a+",0"+"Z")}},"diamond-tall":{n:23,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*.7,2);var n=v(e*1.4,2);return align(t,r,"M0,"+n+"L"+a+",0L0,-"+n+"L-"+a+",0Z")}},"diamond-wide":{n:24,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.4,2);var n=v(e*.7,2);return align(t,r,"M0,"+n+"L"+a+",0L0,-"+n+"L-"+a+",0Z")}},hourglass:{n:25,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);return align(t,r,"M"+a+","+a+"H-"+a+"L"+a+",-"+a+"H-"+a+"Z")},noDot:true},bowtie:{n:26,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);return align(t,r,"M"+a+","+a+"V-"+a+"L-"+a+","+a+"V-"+a+"Z")},noDot:true},"circle-cross":{n:27,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);return align(t,r,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z")},needLine:true,noDot:true},"circle-x":{n:28,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);var n=v(e/s,2);return align(t,r,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z")},needLine:true,noDot:true},"square-cross":{n:29,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);return align(t,r,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")},needLine:true,noDot:true},"square-x":{n:30,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);return align(t,r,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")},needLine:true,noDot:true},"diamond-cross":{n:31,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.3,2);return align(t,r,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"Z"+"M0,-"+a+"V"+a+"M-"+a+",0H"+a)},needLine:true,noDot:true},"diamond-x":{n:32,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.3,2);var n=v(e*.65,2);return align(t,r,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"Z"+"M-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n)},needLine:true,noDot:true},"cross-thin":{n:33,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.4,2);return align(t,r,"M0,"+a+"V-"+a+"M"+a+",0H-"+a)},needLine:true,noDot:true,noFill:true},"x-thin":{n:34,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);return align(t,r,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a)},needLine:true,noDot:true,noFill:true},asterisk:{n:35,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.2,2);var n=v(e*.85,2);return align(t,r,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n)},needLine:true,noDot:true,noFill:true},hash:{n:36,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e/2,2);var n=v(e,2);return align(t,r,"M"+a+","+n+"V-"+n+"M"+(a-n)+",-"+n+"V"+n+"M"+n+","+a+"H-"+n+"M-"+n+","+(a-n)+"H"+n)},needLine:true,noFill:true},"y-up":{n:37,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.2,2);var n=v(e*1.6,2);var i=v(e*.8,2);return align(t,r,"M-"+a+","+i+"L0,0M"+a+","+i+"L0,0M0,-"+n+"L0,0")},needLine:true,noDot:true,noFill:true},"y-down":{n:38,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.2,2);var n=v(e*1.6,2);var i=v(e*.8,2);return align(t,r,"M-"+a+",-"+i+"L0,0M"+a+",-"+i+"L0,0M0,"+n+"L0,0")},needLine:true,noDot:true,noFill:true},"y-left":{n:39,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.2,2);var n=v(e*1.6,2);var i=v(e*.8,2);return align(t,r,"M"+i+","+a+"L0,0M"+i+",-"+a+"L0,0M-"+n+",0L0,0")},needLine:true,noDot:true,noFill:true},"y-right":{n:40,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.2,2);var n=v(e*1.6,2);var i=v(e*.8,2);return align(t,r,"M-"+i+","+a+"L0,0M-"+i+",-"+a+"L0,0M"+n+",0L0,0")},needLine:true,noDot:true,noFill:true},"line-ew":{n:41,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.4,2);return align(t,r,"M"+a+",0H-"+a)},needLine:true,noDot:true,noFill:true},"line-ns":{n:42,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*1.4,2);return align(t,r,"M0,"+a+"V-"+a)},needLine:true,noDot:true,noFill:true},"line-ne":{n:43,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);return align(t,r,"M"+a+",-"+a+"L-"+a+","+a)},needLine:true,noDot:true,noFill:true},"line-nw":{n:44,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);return align(t,r,"M"+a+","+a+"L-"+a+",-"+a)},needLine:true,noDot:true,noFill:true},"arrow-up":{n:45,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);var n=v(e*2,2);return align(t,r,"M0,0L-"+a+","+n+"H"+a+"Z")},backoff:1,noDot:true},"arrow-down":{n:46,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);var n=v(e*2,2);return align(t,r,"M0,0L-"+a+",-"+n+"H"+a+"Z")},noDot:true},"arrow-left":{n:47,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*2,2);var n=v(e,2);return align(t,r,"M0,0L"+a+",-"+n+"V"+n+"Z")},noDot:true},"arrow-right":{n:48,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*2,2);var n=v(e,2);return align(t,r,"M0,0L-"+a+",-"+n+"V"+n+"Z")},noDot:true},"arrow-bar-up":{n:49,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);var n=v(e*2,2);return align(t,r,"M-"+a+",0H"+a+"M0,0L-"+a+","+n+"H"+a+"Z")},backoff:1,needLine:true,noDot:true},"arrow-bar-down":{n:50,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e,2);var n=v(e*2,2);return align(t,r,"M-"+a+",0H"+a+"M0,0L-"+a+",-"+n+"H"+a+"Z")},needLine:true,noDot:true},"arrow-bar-left":{n:51,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*2,2);var n=v(e,2);return align(t,r,"M0,-"+n+"V"+n+"M0,0L"+a+",-"+n+"V"+n+"Z")},needLine:true,noDot:true},"arrow-bar-right":{n:52,f:function(e,t,r){if(skipAngle(t))return h;var a=v(e*2,2);var n=v(e,2);return align(t,r,"M0,-"+n+"V"+n+"M0,0L-"+a+",-"+n+"V"+n+"Z")},needLine:true,noDot:true},arrow:{n:53,f:function(e,t,r){if(skipAngle(t))return h;var a=g/2.5;var n=2*e*m(a);var i=2*e*y(a);return align(t,r,"M0,0"+"L"+-n+","+i+"L"+n+","+i+"Z")},backoff:.9,noDot:true},"arrow-wide":{n:54,f:function(e,t,r){if(skipAngle(t))return h;var a=g/4;var n=2*e*m(a);var i=2*e*y(a);return align(t,r,"M0,0"+"L"+-n+","+i+"A "+2*e+","+2*e+" 0 0 1 "+n+","+i+"Z")},backoff:.4,noDot:true}};function skipAngle(e){return e===null}var x,_;var b,w;function align(e,o,t){if((!e||e%360===0)&&!o)return t;if(b===e&&w===o&&x===t)return _;b=e;w=o;x=t;function rotate(e,t){var r=m(e);var a=y(e);var n=t[0];var i=t[1]+(o||0);return[n*r-i*a,n*a+i*r]}var r=e/180*g;var a=0;var n=0;var i=p(t);var l="";for(var s=0;s<i.length;s++){var c=i[s];var u=c[0];var f=a;var d=n;if(u==="M"||u==="L"){a=+c[1];n=+c[2]}else if(u==="m"||u==="l"){a+=+c[1];n+=+c[2]}else if(u==="H"){a=+c[1]}else if(u==="h"){a+=+c[1]}else if(u==="V"){n=+c[1]}else if(u==="v"){n+=+c[1]}else if(u==="A"){a=+c[1];n=+c[2];var v=rotate(r,[+c[6],+c[7]]);c[6]=v[0];c[7]=v[1];c[3]=+c[3]+e}if(u==="H"||u==="V")u="L";if(u==="h"||u==="v")u="l";if(u==="m"||u==="l"){a-=f;n-=d}var h=rotate(r,[a,n]);if(u==="H"||u==="V")u="L";if(u==="M"||u==="L"||u==="m"||u==="l"){c[1]=h[0];c[2]=h[1]}c[0]=u;l+=c[0]+c.slice(1).join(",")}_=l;return l}},5673:function(e){"use strict";e.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4532:function(e,t,r){"use strict";var y=r(2770);var l=r(3972);var x=r(9298);var _=r(1828);var b=r(5827);e.exports=function calc(e){var t=e.calcdata;for(var r=0;r<t.length;r++){var a=t[r];var n=a[0].trace;if(n.visible===true&&l.traceIs(n,"errorBarsOK")){var i=x.getFromId(e,n.xaxis);var o=x.getFromId(e,n.yaxis);calcOneAxis(a,n,i,"x");calcOneAxis(a,n,o,"y")}}};function calcOneAxis(e,t,r,a){var n=t["error_"+a]||{};var i=n.visible&&["linear","log"].indexOf(r.type)!==-1;var o=[];if(!i)return;var l=b(n);for(var s=0;s<e.length;s++){var c=e[s];var u=c.i;if(u===undefined)u=s;else if(u===null)continue;var f=c[a];if(!y(r.c2l(f)))continue;var d=l(f,u);if(y(d[0])&&y(d[1])){var v=c[a+"s"]=f-d[0];var h=c[a+"h"]=f+d[1];o.push(v,h)}}var p=r._id;var g=t._extremes[p];var m=x.findExtremes(r,o,_.extendFlat({tozero:g.opts.tozero},{padded:true}));g.min=g.min.concat(m.min);g.max=g.max.concat(m.max)}},5827:function(e){"use strict";e.exports=function makeComputeError(e){var t=e.type;var r=e.symmetric;if(t==="data"){var n=e.array||[];if(r){return function computeError(e,t){var r=+n[t];return[r,r]}}else{var i=e.arrayminus||[];return function computeError(e,t){var r=+n[t];var a=+i[t];if(!isNaN(r)||!isNaN(a)){return[a||0,r||0]}return[NaN,NaN]}}}else{var a=makeComputeErrorValue(t,e.value);var o=makeComputeErrorValue(t,e.valueminus);if(r||e.valueminus===undefined){return function computeError(e){var t=a(e);return[t,t]}}else{return function computeError(e){return[o(e),a(e)]}}}};function makeComputeErrorValue(e,t){if(e==="percent"){return function(e){return Math.abs(e*t/100)}}if(e==="constant"){return function(){return Math.abs(t)}}if(e==="sqrt"){return function(e){return Math.sqrt(Math.abs(e))}}}},7587:function(e,t,r){"use strict";var v=r(2770);var h=r(3972);var p=r(1828);var g=r(4467);var m=r(5673);e.exports=function(e,t,r,a){var n="error_"+a.axis;var i=g.newContainer(t,n);var o=e[n]||{};function coerce(e,t){return p.coerce(o,i,m,e,t)}var l=o.array!==undefined||o.value!==undefined||o.type==="sqrt";var s=coerce("visible",l);if(s===false)return;var c=coerce("type","array"in o?"data":"percent");var u=true;if(c!=="sqrt"){u=coerce("symmetric",!((c==="data"?"arrayminus":"valueminus")in o))}if(c==="data"){coerce("array");coerce("traceref");if(!u){coerce("arrayminus");coerce("tracerefminus")}}else if(c==="percent"||c==="constant"){coerce("value");if(!u)coerce("valueminus")}var f="copy_"+a.inherit+"style";if(a.inherit){var d=t["error_"+a.inherit];if((d||{}).visible){coerce(f,!(o.color||v(o.thickness)||v(o.width)))}}if(!a.inherit||!i[f]){coerce("color",r);coerce("thickness");coerce("width",h.traceIs(t,"gl3d")?0:4)}}},7369:function(e,t,r){"use strict";var a=r(1828);var n=r(962).overrideAll;var i=r(5673);var o={error_x:a.extendFlat({},i),error_y:a.extendFlat({},i)};delete o.error_x.copy_zstyle;delete o.error_y.copy_zstyle;delete o.error_y.copy_ystyle;var l={error_x:a.extendFlat({},i),error_y:a.extendFlat({},i),error_z:a.extendFlat({},i)};delete l.error_x.copy_ystyle;delete l.error_y.copy_ystyle;delete l.error_z.copy_ystyle;delete l.error_z.copy_zstyle;e.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:o,bar:o,histogram:o,scatter3d:n(l,"calc","nested"),scattergl:n(o,"calc","nested")}},supplyDefaults:r(7587),calc:r(4532),makeComputeError:r(5827),plot:r(9398),style:r(2662),hoverInfo:hoverInfo};function hoverInfo(e,t,r){if((t.error_y||{}).visible){r.yerr=e.yh-e.y;if(!t.error_y.symmetric)r.yerrneg=e.y-e.ys}if((t.error_x||{}).visible){r.xerr=e.xh-e.x;if(!t.error_x.symmetric)r.xerrneg=e.x-e.xs}}},9398:function(e,t,r){"use strict";var m=r(9898);var y=r(2770);var l=r(1424);var x=r(4098);e.exports=function plot(i,e,o,f){var d;var v=o.xaxis;var h=o.yaxis;var p=f&&f.duration>0;var g=i._context.staticPlot;e.each(function(e){var t=e[0].trace;var s=t.error_x||{};var c=t.error_y||{};var r;if(t.ids){r=function(e){return e.id}}var u=x.hasMarkers(t)&&t.marker.maxdisplayed>0;if(!c.visible&&!s.visible)e=[];var a=m.select(this).selectAll("g.errorbar").data(e,r);a.exit().remove();if(!e.length)return;if(!s.visible)a.selectAll("path.xerror").remove();if(!c.visible)a.selectAll("path.yerror").remove();a.style("opacity",1);var n=a.enter().append("g").classed("errorbar",true);if(p){n.style("opacity",0).transition().duration(f.duration).style("opacity",1)}l.setClipUrl(a,o.layerClipId,i);a.each(function(e){var t=m.select(this);var r=errorCoords(e,v,h);if(u&&!e.vis)return;var a;var n=t.select("path.yerror");if(c.visible&&y(r.x)&&y(r.yh)&&y(r.ys)){var i=c.width;a="M"+(r.x-i)+","+r.yh+"h"+2*i+"m-"+i+",0V"+r.ys;if(!r.noYS)a+="m-"+i+",0h"+2*i;d=!n.size();if(d){n=t.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("yerror",true)}else if(p){n=n.transition().duration(f.duration).ease(f.easing)}n.attr("d",a)}else n.remove();var o=t.select("path.xerror");if(s.visible&&y(r.y)&&y(r.xh)&&y(r.xs)){var l=(s.copy_ystyle?c:s).width;a="M"+r.xh+","+(r.y-l)+"v"+2*l+"m0,-"+l+"H"+r.xs;if(!r.noXS)a+="m0,-"+l+"v"+2*l;d=!o.size();if(d){o=t.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("xerror",true)}else if(p){o=o.transition().duration(f.duration).ease(f.easing)}o.attr("d",a)}else o.remove()})})};function errorCoords(e,t,r){var a={x:t.c2p(e.x),y:r.c2p(e.y)};if(e.yh!==undefined){a.yh=r.c2p(e.yh);a.ys=r.c2p(e.ys);if(!y(a.ys)){a.noYS=true;a.ys=r.c2p(e.ys,true)}}if(e.xh!==undefined){a.xh=t.c2p(e.xh);a.xs=t.c2p(e.xs);if(!y(a.xs)){a.noXS=true;a.xs=t.c2p(e.xs,true)}}return a}},2662:function(e,t,r){"use strict";var i=r(9898);var o=r(7901);e.exports=function style(e){e.each(function(e){var t=e[0].trace;var r=t.error_y||{};var a=t.error_x||{};var n=i.select(this);n.selectAll("path.yerror").style("stroke-width",r.thickness+"px").call(o.stroke,r.color);if(a.copy_ystyle)a=r;n.selectAll("path.xerror").style("stroke-width",a.thickness+"px").call(o.stroke,a.color)})}},7914:function(e,t,r){"use strict";var a=r(1940);var n=r(528).hoverlabel;var i=r(1426).extendFlat;e.exports={hoverlabel:{bgcolor:i({},n.bgcolor,{arrayOk:true}),bordercolor:i({},n.bordercolor,{arrayOk:true}),font:a({arrayOk:true,editType:"none"}),align:i({},n.align,{arrayOk:true}),namelength:i({},n.namelength,{arrayOk:true}),editType:"none"}}},732:function(e,t,r){"use strict";var l=r(1828);var s=r(3972);e.exports=function calc(e){var t=e.calcdata;var r=e._fullLayout;function makeCoerceHoverInfo(t){return function(e){return l.coerceHoverinfo({hoverinfo:e},{_module:t._module},r)}}for(var a=0;a<t.length;a++){var n=t[a];var i=n[0].trace;if(s.traceIs(i,"pie-like"))continue;var o=s.traceIs(i,"2dMap")?paste:l.fillArray;o(i.hoverinfo,n,"hi",makeCoerceHoverInfo(i));if(i.hovertemplate)o(i.hovertemplate,n,"ht");if(!i.hoverlabel)continue;o(i.hoverlabel.bgcolor,n,"hbg");o(i.hoverlabel.bordercolor,n,"hbc");o(i.hoverlabel.font.size,n,"hts");o(i.hoverlabel.font.color,n,"htc");o(i.hoverlabel.font.family,n,"htf");o(i.hoverlabel.namelength,n,"hnl");o(i.hoverlabel.align,n,"hta")}};function paste(e,t,r,a){a=a||l.identity;if(Array.isArray(e)){t[0][r]=a(e)}}},5914:function(e,t,r){"use strict";var n=r(3972);var i=r(8335).hover;e.exports=function click(e,t,r){var a=n.getComponentMethod("annotations","onClick")(e,e._hoverdata);if(r!==undefined){i(e,t,r,true)}function emitClick(){e.emit("plotly_click",{points:e._hoverdata,event:t})}if(e._hoverdata&&t&&t.target){if(a&&a.then){a.then(emitClick)}else emitClick();if(t.stopImmediatePropagation)t.stopImmediatePropagation()}}},6675:function(e){"use strict";e.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},4268:function(e,t,r){"use strict";var i=r(1828);var o=r(7914);var l=r(8048);e.exports=function supplyDefaults(r,a,e,t){function coerce(e,t){return i.coerce(r,a,o,e,t)}var n=i.extendFlat({},t.hoverlabel);if(a.hovertemplate)n.namelength=-1;l(r,a,coerce,n)}},3469:function(e,o,t){"use strict";var u=t(1828);o.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo};o.isTraceInSubplots=function(e,t){if(e.type==="splom"){var r=e.xaxes||[];var a=e.yaxes||[];for(var n=0;n<r.length;n++){for(var i=0;i<a.length;i++){if(t.indexOf(r[n]+a[i])!==-1){return true}}}return false}return t.indexOf(o.getSubplot(e))!==-1};o.flat=function(e,t){var r=new Array(e.length);for(var a=0;a<e.length;a++){r[a]=t}return r};o.p2c=function(e,t){var r=new Array(e.length);for(var a=0;a<e.length;a++){r[a]=e[a].p2c(t)}return r};o.getDistanceFunction=function(e,t,r,a){if(e==="closest")return a||o.quadrature(t,r);return e.charAt(0)==="x"?t:r};o.getClosest=function(e,t,r){if(r.index!==false){if(r.index>=0&&r.index<e.length){r.distance=0}else r.index=false}else{for(var a=0;a<e.length;a++){var n=t(e[a]);if(n<=r.distance){r.index=a;r.distance=n}}}return r};o.inbox=function(e,t,r){return e*t<0||e===0?r:Infinity};o.quadrature=function(a,n){return function(e){var t=a(e);var r=n(e);return Math.sqrt(t*t+r*r)}};o.makeEventData=function(e,t,r){var a="index"in e?e.index:e.pointNumber;var n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:a};if(t._indexToPoints){var i=t._indexToPoints[a];if(i.length===1){n.pointIndex=i[0]}else{n.pointIndices=i}}else{n.pointIndex=a}if(t._module.eventData){n=t._module.eventData(n,e,t,r,a)}else{if("xVal"in e)n.x=e.xVal;else if("x"in e)n.x=e.x;if("yVal"in e)n.y=e.yVal;else if("y"in e)n.y=e.y;if(e.xa)n.xaxis=e.xa;if(e.ya)n.yaxis=e.ya;if(e.zLabelVal!==undefined)n.z=e.zLabelVal}o.appendArrayPointValue(n,t,a);return n};o.appendArrayPointValue=function(e,t,r){var a=t._arrayAttrs;if(!a){return}for(var n=0;n<a.length;n++){var i=a[n];var o=getPointKey(i);if(e[o]===undefined){var l=u.nestedProperty(t,i).get();var s=getPointData(l,r);if(s!==undefined)e[o]=s}}};o.appendArrayMultiPointValues=function(e,t,r){var a=t._arrayAttrs;if(!a){return}for(var n=0;n<a.length;n++){var i=a[n];var o=getPointKey(i);if(e[o]===undefined){var l=u.nestedProperty(t,i).get();var s=new Array(r.length);for(var c=0;c<r.length;c++){s[c]=getPointData(l,r[c])}e[o]=s}}};var r={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function getPointKey(e){return r[e]||e}function getPointData(e,t){if(Array.isArray(t)){if(Array.isArray(e)&&Array.isArray(e[t[0]])){return e[t[0]][t[1]]}}else{return e[t]}}var a={x:true,y:true};var n={"x unified":true,"y unified":true};o.isUnifiedHover=function(e){if(typeof e!=="string")return false;return!!n[e]};o.isXYhover=function(e){if(typeof e!=="string")return false;return!!a[e]}},8335:function(a,e,t){"use strict";var De=t(9898);var Oe=t(2770);var z=t(4267);var Pe=t(1828);var ie=Pe.strTranslate;var oe=Pe.strRotate;var Ie=t(1086);var le=t(3893);var Re=t(9918);var se=t(1424);var Fe=t(7901);var Ne=t(8569);var B=t(9298);var Ee=t(3972);var ze=t(3469);var ce=t(6675);var ue=t(9017);var he=t(3969);var fe=ce.YANGLE;var r=Math.PI*fe/180;var O=1/Math.sin(r);var n=Math.cos(r);var i=Math.sin(r);var de=ce.HOVERARROWSIZE;var ve=ce.HOVERTEXTPAD;var Be={box:true,ohlc:true,violin:true,candlestick:true};var He={scatter:true,scattergl:true,splom:true};e.hover=function hover(e,t,r,a){e=Pe.getGraphDiv(e);var n=t.target;Pe.throttle(e._fullLayout._uid+ce.HOVERID,ce.HOVERMINTIME,function(){_hover(e,t,r,a,n)})};e.loneHover=function loneHover(e,h){var t=true;if(!Array.isArray(e)){t=false;e=[e]}var p=h.gd;var g=getTopOffset(p);var m=getLeftOffset(p);var r=e.map(function(e){var t=e._x0||e.x0||e.x||0;var r=e._x1||e.x1||e.x||0;var a=e._y0||e.y0||e.y||0;var n=e._y1||e.y1||e.y||0;var i=e.eventData;if(i){var o=Math.min(t,r);var l=Math.max(t,r);var s=Math.min(a,n);var c=Math.max(a,n);var u=e.trace;if(Ee.traceIs(u,"gl3d")){var f=p._fullLayout[u.scene]._scene.container;var d=f.offsetLeft;var v=f.offsetTop;o+=d;l+=d;s+=v;c+=v}i.bbox={x0:o+m,x1:l+m,y0:s+g,y1:c+g};if(h.inOut_bbox){h.inOut_bbox.push(i.bbox)}}else{i=false}return{color:e.color||Fe.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||false,hovertemplateLabels:e.hovertemplateLabels||false,eventData:i}});var a=false;var n=createHoverText(r,{gd:p,hovermode:"closest",rotateLabels:a,bgColor:h.bgColor||Fe.background,container:De.select(h.container),outerContainer:h.outerContainer||h.container});var i=n.hoverLabels;var o=5;var l=0;var s=0;i.sort(function(e,t){return e.y0-t.y0}).each(function(e,t){var r=e.y0-e.by/2;if(r-o<l){e.offset=l-r+o}else{e.offset=0}l=r+e.by+e.offset;if(t===h.anchorIndex||0)s=e.offset}).each(function(e){e.offset-=s});var c=p._fullLayout._invScaleX;var u=p._fullLayout._invScaleY;alignHoverText(i,a,c,u);return t?i:i.node()};function _hover(e,d,t,F,r){if(!t)t="xy";var v=Array.isArray(t)?t:[t];var h=e._fullLayout;var a=h._plots||[];var N=a[t];var p=h._has("cartesian");if(N){var E=N.overlays.map(function(e){return e.id});v=v.concat(E)}var z=v.length;var g=new Array(z);var m=new Array(z);var B=false;for(var n=0;n<z;n++){var i=v[n];if(a[i]){B=true;g[n]=a[i].xaxis;m[n]=a[i].yaxis}else if(h[i]&&h[i]._subplot){var H=h[i]._subplot;g[n]=H.xaxis;m[n]=H.yaxis}else{Pe.warn("Unrecognized subplot: "+i);return}}var y=d.hovermode||h.hovermode;if(y&&!B)y="closest";if(["x","y","closest","x unified","y unified"].indexOf(y)===-1||!e.calcdata||e.querySelector(".zoombox")||e._dragging){return Ne.unhoverRaw(e,d)}var x=h.hoverdistance;if(x===-1)x=Infinity;var _=h.spikedistance;if(_===-1)_=Infinity;var b=[];var w=[];var T,k;var o,A,M,S,C,L,D,O,P,I,j;var R={hLinePoint:null,vLinePoint:null};var V=false;if(Array.isArray(d)){y="array";for(o=0;o<d.length;o++){M=e.calcdata[d[o].curveNumber||0];if(M){S=M[0].trace;if(M[0].trace.hoverinfo!=="skip"){w.push(M);if(S.orientation==="h"){V=true}}}}}else{for(A=0;A<e.calcdata.length;A++){M=e.calcdata[A];S=M[0].trace;if(S.hoverinfo!=="skip"&&ze.isTraceInSubplots(S,v)){w.push(M);if(S.orientation==="h"){V=true}}}var Y=!r;var l,s;if(Y){if("xpx"in d)l=d.xpx;else l=g[0]._length/2;if("ypx"in d)s=d.ypx;else s=m[0]._length/2}else{if(Ie.triggerHandler(e,"plotly_beforehover",d)===false){return}var U=r.getBoundingClientRect();l=d.clientX-U.left;s=d.clientY-U.top;h._calcInverseTransform(e);var G=Pe.apply3DTransform(h._invTransform)(l,s);l=G[0];s=G[1];if(l<0||l>g[0]._length||s<0||s>m[0]._length){return Ne.unhoverRaw(e,d)}}d.pointerX=l+g[0]._offset;d.pointerY=s+m[0]._offset;if("xval"in d)T=ze.flat(v,d.xval);else T=ze.p2c(g,l);if("yval"in d)k=ze.flat(v,d.yval);else k=ze.p2c(m,s);if(!Oe(T[0])||!Oe(k[0])){Pe.warn("Fx.hover failed",d,e);return Ne.unhoverRaw(e,d)}}var q=Infinity;function findHoverPoints(e,t){for(A=0;A<w.length;A++){M=w[A];if(!M||!M[0]||!M[0].trace)continue;S=M[0].trace;if(S.visible!==true||S._length===0)continue;if(["carpet","contourcarpet"].indexOf(S._module.name)!==-1)continue;if(S.type==="splom"){L=0;C=v[L]}else{C=ze.getSubplot(S);L=v.indexOf(C)}D=y;if(ze.isUnifiedHover(D)){D=D.charAt(0)}I={cd:M,trace:S,xa:g[L],ya:m[L],maxHoverDistance:x,maxSpikeDistance:_,index:false,distance:Math.min(q,x),spikeDistance:Infinity,xSpike:undefined,ySpike:undefined,color:Fe.defaultLine,name:S.name,x0:undefined,x1:undefined,y0:undefined,y1:undefined,xLabelVal:undefined,yLabelVal:undefined,zLabelVal:undefined,text:undefined};if(h[C]){I.subplot=h[C]._subplot}if(h._splomScenes&&h._splomScenes[S.uid]){I.scene=h._splomScenes[S.uid]}j=b.length;if(D==="array"){var r=d[A];if("pointNumber"in r){I.index=r.pointNumber;D="closest"}else{D="";if("xval"in r){O=r.xval;D="x"}if("yval"in r){P=r.yval;D=D?"closest":"y"}}}else if(e!==undefined&&t!==undefined){O=e;P=t}else{O=T[L];P=k[L]}if(x!==0){if(S._module&&S._module.hoverPoints){var a=S._module.hoverPoints(I,O,P,D,{finiteRange:true,hoverLayer:h._hoverlayer});if(a){var n;for(var i=0;i<a.length;i++){n=a[i];if(Oe(n.x0)&&Oe(n.y0)){b.push(cleanPoint(n,y))}}}}else{Pe.log("Unrecognized trace type in hover:",S)}}if(y==="closest"&&b.length>j){b.splice(0,j);q=b[0].distance}if(p&&_!==0){if(b.length===0){I.distance=_;I.index=false;var o=S._module.hoverPoints(I,O,P,"closest",{hoverLayer:h._hoverlayer});if(o){o=o.filter(function(e){return e.spikeDistance<=_})}if(o&&o.length){var l;var s=o.filter(function(e){return e.xa.showspikes&&e.xa.spikesnap!=="hovered data"});if(s.length){var c=s[0];if(Oe(c.x0)&&Oe(c.y0)){l=fillSpikePoint(c);if(!R.vLinePoint||R.vLinePoint.spikeDistance>l.spikeDistance){R.vLinePoint=l}}}var u=o.filter(function(e){return e.ya.showspikes&&e.ya.spikesnap!=="hovered data"});if(u.length){var f=u[0];if(Oe(f.x0)&&Oe(f.y0)){l=fillSpikePoint(f);if(!R.hLinePoint||R.hLinePoint.spikeDistance>l.spikeDistance){R.hLinePoint=l}}}}}}}}findHoverPoints();function selectClosestPoint(e,t,r){var a=null;var n=Infinity;var i;for(var o=0;o<e.length;o++){i=e[o].spikeDistance;if(r&&o===0)i=-Infinity;if(i<=n&&i<=t){a=e[o];n=i}}return a}function fillSpikePoint(e){if(!e)return null;return{xa:e.xa,ya:e.ya,x:e.xSpike!==undefined?e.xSpike:(e.x0+e.x1)/2,y:e.ySpike!==undefined?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}}var Z={fullLayout:h,container:h._hoverlayer,event:d};var W=e._spikepoints;var X={vLinePoint:R.vLinePoint,hLinePoint:R.hLinePoint};e._spikepoints=X;var J=function(){b.sort(function(e,t){return e.distance-t.distance});b=orderRangePoints(b,y)};J();var K=y.charAt(0);var Q=(K==="x"||K==="y")&&b[0]&&He[b[0].trace.type];if(p&&_!==0){if(b.length!==0){var $=b.filter(function(e){return e.ya.showspikes});var ee=selectClosestPoint($,_,Q);R.hLinePoint=fillSpikePoint(ee);var te=b.filter(function(e){return e.xa.showspikes});var re=selectClosestPoint(te,_,Q);R.vLinePoint=fillSpikePoint(re)}}if(b.length===0){var ae=Ne.unhoverRaw(e,d);if(p&&(R.hLinePoint!==null||R.vLinePoint!==null)){if(spikesChanged(W)){createSpikelines(e,R,Z)}}return ae}if(p){if(spikesChanged(W)){createSpikelines(e,R,Z)}}if(ze.isXYhover(D)&&b[0].length!==0&&b[0].trace.type!=="splom"){var c=b[0];if(Be[c.trace.type]){b=b.filter(function(e){return e.trace.index===c.trace.index})}else{b=[c]}var ne=b.length;var ie=getCoord("x",c,h);var oe=getCoord("y",c,h);findHoverPoints(ie,oe);var le=[];var se={};var ce=0;var ue=function(e){var t=Be[e.trace.type]?hoverDataKey(e):e.trace.index;if(!se[t]){ce++;se[t]=ce;le.push(e)}else{var r=se[t]-1;var a=le[r];if(r>0&&Math.abs(e.distance)<Math.abs(a.distance)){le[r]=e}}};var u;for(u=0;u<ne;u++){ue(b[u])}for(u=b.length-1;u>ne-1;u--){ue(b[u])}b=le;J()}var fe=e._hoverdata;var de=[];var ve=getTopOffset(e);var he=getLeftOffset(e);for(o=0;o<b.length;o++){var f=b[o];var pe=ze.makeEventData(f,f.trace,f.cd);if(f.hovertemplate!==false){var ge=false;if(f.cd[f.index]&&f.cd[f.index].ht){ge=f.cd[f.index].ht}f.hovertemplate=ge||f.trace.hovertemplate||false}if(f.xa&&f.ya){var me=f.x0+f.xa._offset;var ye=f.x1+f.xa._offset;var xe=f.y0+f.ya._offset;var _e=f.y1+f.ya._offset;var be=Math.min(me,ye);var we=Math.max(me,ye);var Te=Math.min(xe,_e);var ke=Math.max(xe,_e);pe.bbox={x0:be+he,x1:we+he,y0:Te+ve,y1:ke+ve}}f.eventData=[pe];de.push(pe)}e._hoverdata=de;var Ae=y==="y"&&(w.length>1||b.length>1)||y==="closest"&&V&&b.length>1;var Me=Fe.combine(h.plot_bgcolor||Fe.background,h.paper_bgcolor);var Se=createHoverText(b,{gd:e,hovermode:y,rotateLabels:Ae,bgColor:Me,container:h._hoverlayer,outerContainer:h._paper.node(),commonLabelOpts:h.hoverlabel,hoverdistance:h.hoverdistance});var Ce=Se.hoverLabels;if(!ze.isUnifiedHover(y)){hoverAvoidOverlaps(Ce,Ae,h,Se.commonLabelBoundingBox);alignHoverText(Ce,Ae,h._invScaleX,h._invScaleY)}if(r&&r.tagName){var Le=Ee.getComponentMethod("annotations","hasClickToShow")(e,de);Re(De.select(r),Le?"pointer":"")}if(!r||F||!hoverChanged(e,d,fe))return;if(fe){e.emit("plotly_unhover",{event:d,points:fe})}e.emit("plotly_hover",{event:d,points:e._hoverdata,xaxes:g,yaxes:m,xvals:T,yvals:k})}function hoverDataKey(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa?e.xa._id:"",e.ya?e.ya._id:""].join(",")}var d=/<extra>([\s\S]*)<\/extra>/;function createHoverText(e,t){var C=t.gd;var L=C._fullLayout;var D=t.hovermode;var z=t.rotateLabels;var B=t.bgColor;var r=t.container;var M=t.outerContainer;var b=t.commonLabelOpts||{};if(e.length===0)return[[]];var O=t.fontFamily||ce.HOVERFONT;var P=t.fontSize||ce.HOVERFONTSIZE;var w=e[0];var T=w.xa;var k=w.ya;var S=D.charAt(0);var H=S+"Label";var I=w[H];if(I===undefined&&T.type==="multicategory"){for(var j=0;j<e.length;j++){I=e[j][H];if(I!==undefined)break}}var V=getBoundingClientRect(C,M);var R=V.top;var F=V.width;var N=V.height;var E=I!==undefined&&w.distance<=t.hoverdistance&&(D==="x"||D==="y");if(E){var Y=true;var a,n;for(a=0;a<e.length;a++){if(Y&&e[a].zLabel===undefined)Y=false;n=e[a].hoverinfo||e[a].trace.hoverinfo;if(n){var U=Array.isArray(n)?n:n.split("+");if(U.indexOf("all")===-1&&U.indexOf(D)===-1){E=false;break}}}if(Y)E=false}var G=r.selectAll("g.axistext").data(E?[0]:[]);G.enter().append("g").classed("axistext",true);G.exit().remove();var A={minX:0,maxX:0,minY:0,maxY:0};G.each(function(){var e=De.select(this);var t=Pe.ensureSingle(e,"path","",function(e){e.style({"stroke-width":"1px"})});var r=Pe.ensureSingle(e,"text","",function(e){e.attr("data-notex",1)});var a=b.bgcolor||Fe.defaultLine;var n=b.bordercolor||Fe.contrast(a);var i=Fe.contrast(a);var o={family:b.font.family||O,size:b.font.size||P,color:b.font.color||i};t.style({fill:a,stroke:n});r.text(I).call(se.font,o).call(le.positionText,0,0).call(le.convertToTspans,C);e.attr("transform","");var l=getBoundingClientRect(C,r.node());var s,c;if(D==="x"){var u=T.side==="top"?"-":"";r.attr("text-anchor","middle").call(le.positionText,0,T.side==="top"?R-l.bottom-de-ve:R-l.top+de+ve);s=T._offset+(w.x0+w.x1)/2;c=k._offset+(T.side==="top"?0:k._length);var f=l.width/2+ve;if(s<f){s=f;t.attr("d","M-"+(f-de)+",0"+"L-"+(f-de*2)+","+u+de+"H"+f+"v"+u+(ve*2+l.height)+"H-"+f+"V"+u+de+"Z")}else if(s>L.width-f){s=L.width-f;t.attr("d","M"+(f-de)+",0"+"L"+f+","+u+de+"v"+u+(ve*2+l.height)+"H-"+f+"V"+u+de+"H"+(f-de*2)+"Z")}else{t.attr("d","M0,0"+"L"+de+","+u+de+"H"+f+"v"+u+(ve*2+l.height)+"H-"+f+"V"+u+de+"H-"+de+"Z")}A.minX=s-f;A.maxX=s+f;if(T.side==="top"){A.minY=c-(ve*2+l.height);A.maxY=c-ve}else{A.minY=c+ve;A.maxY=c+(ve*2+l.height)}}else{var d;var v;var h;if(k.side==="right"){d="start";v=1;h="";s=T._offset+T._length}else{d="end";v=-1;h="-";s=T._offset}c=k._offset+(w.y0+w.y1)/2;r.attr("text-anchor",d);t.attr("d","M0,0"+"L"+h+de+","+de+"V"+(ve+l.height/2)+"h"+h+(ve*2+l.width)+"V-"+(ve+l.height/2)+"H"+h+de+"V-"+de+"Z");A.minY=c-(ve+l.height/2);A.maxY=c+(ve+l.height/2);if(k.side==="right"){A.minX=s+de;A.maxX=s+de+(ve*2+l.width)}else{A.minX=s-de-(ve*2+l.width);A.maxX=s-de}var p=l.height/2;var g=R-l.top-p;var m="clip"+L._uid+"commonlabel"+k._id;var y;if(s<l.width+2*ve+de){y="M-"+(de+ve)+"-"+p+"h-"+(l.width-ve)+"V"+p+"h"+(l.width-ve)+"Z";var x=l.width-s+ve;le.positionText(r,x,g);if(d==="end"){r.selectAll("tspan").each(function(){var e=De.select(this);var t=se.tester.append("text").text(e.text()).call(se.font,o);var r=getBoundingClientRect(C,t.node());if(Math.round(r.width)<Math.round(l.width)){e.attr("x",x-r.width)}t.remove()})}}else{le.positionText(r,v*(ve+de),g);y=null}var _=L._topclips.selectAll("#"+m).data(y?[0]:[]);_.enter().append("clipPath").attr("id",m).append("path");_.exit().remove();_.select("path").attr("d",y);se.setClipUrl(r,y?m:null,C)}e.attr("transform",ie(s,c))});if(ze.isUnifiedHover(D)){r.selectAll("g.hovertext").remove();var i=e.filter(function(e){return e.hoverinfo!=="none"});if(i.length===0)return;var o=L.hoverlabel;var q=o.font;var Z={showlegend:true,legend:{title:{text:I,font:q},font:q,bgcolor:o.bgcolor,bordercolor:o.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:L.legend?L.legend.traceorder:undefined,orientation:"v"}};var W={font:q};ue(Z,W,C._fullData);var l=W.legend;l.entries=[];for(var X=0;X<i.length;X++){var s=i[X];if(s.hoverinfo==="none")continue;var J=getHoverLabelText(s,true,D,L,I);var K=J[0];var Q=J[1];s.name=Q;if(Q!==""){s.text=Q+" : "+K}else{s.text=K}var c=s.cd[s.index];if(c){if(c.mc)s.mc=c.mc;if(c.mcc)s.mc=c.mcc;if(c.mlc)s.mlc=c.mlc;if(c.mlcc)s.mlc=c.mlcc;if(c.mlw)s.mlw=c.mlw;if(c.mrc)s.mrc=c.mrc;if(c.dir)s.dir=c.dir}s._distinct=true;l.entries.push([s])}l.entries.sort(function(e,t){return e[0].trace.index-t[0].trace.index});l.layer=r;l._inHover=true;l._groupTitleFont=o.grouptitlefont;he(C,l);var $=r.select("g.legend");var ee=getBoundingClientRect(C,$.node());var u=ee.width+2*ve;var f=ee.height+2*ve;var d=i[0];var v=(d.x0+d.x1)/2;var h=(d.y0+d.y1)/2;var te=!(Ee.traceIs(d.trace,"bar-like")||Ee.traceIs(d.trace,"box-violin"));var p,g;if(S==="y"){if(te){g=h-ve;p=h+ve}else{g=Math.min.apply(null,i.map(function(e){return Math.min(e.y0,e.y1)}));p=Math.max.apply(null,i.map(function(e){return Math.max(e.y0,e.y1)}))}}else{g=p=Pe.mean(i.map(function(e){return(e.y0+e.y1)/2}))-f/2}var m,y;if(S==="x"){if(te){m=v+ve;y=v-ve}else{m=Math.max.apply(null,i.map(function(e){return Math.max(e.x0,e.x1)}));y=Math.min.apply(null,i.map(function(e){return Math.min(e.x0,e.x1)}))}}else{m=y=Pe.mean(i.map(function(e){return(e.x0+e.x1)/2}))-u/2}var re=T._offset;var ae=k._offset;p+=ae;m+=re;y+=re-u;g+=ae-f;var x,_;if(m+u<F&&m>=0){x=m}else if(y+u<F&&y>=0){x=y}else if(re+u<F){x=re}else{if(m-v<v-y+u){x=F-u}else{x=0}}x+=ve;if(p+f<N&&p>=0){_=p}else if(g+f<N&&g>=0){_=g}else if(ae+f<N){_=ae}else{if(p-h<h-g+f){_=N-f}else{_=0}}_+=ve;$.attr("transform",ie(x-1,_-1));return $}var ne=r.selectAll("g.hovertext").data(e,function(e){return hoverDataKey(e)});ne.enter().append("g").classed("hovertext",true).each(function(){var e=De.select(this);e.append("rect").call(Fe.fill,Fe.addOpacity(B,.8));e.append("text").classed("name",true);e.append("path").style("stroke-width","1px");e.append("text").classed("nums",true).call(se.font,O,P)});ne.exit().remove();ne.each(function(e){var t=De.select(this).attr("transform","");var r=e.color;if(Array.isArray(r)){r=r[e.eventData[0].pointNumber]}var a=e.bgcolor||r;var n=Fe.combine(Fe.opacity(a)?a:Fe.defaultLine,B);var i=Fe.combine(Fe.opacity(r)?r:Fe.defaultLine,B);var o=e.borderColor||Fe.contrast(n);var l=getHoverLabelText(e,E,D,L,I,t);var s=l[0];var c=l[1];var u=t.select("text.nums").call(se.font,e.fontFamily||O,e.fontSize||P,e.fontColor||o).text(s).attr("data-notex",1).call(le.positionText,0,0).call(le.convertToTspans,C);var f=t.select("text.name");var d=0;var v=0;if(c&&c!==s){f.call(se.font,e.fontFamily||O,e.fontSize||P,i).text(c).attr("data-notex",1).call(le.positionText,0,0).call(le.convertToTspans,C);var h=getBoundingClientRect(C,f.node());d=h.width+2*ve;v=h.height+2*ve}else{f.remove();t.select("rect").remove()}t.select("path").style({fill:n,stroke:o});var p=e.xa._offset+(e.x0+e.x1)/2;var g=e.ya._offset+(e.y0+e.y1)/2;var m=Math.abs(e.x1-e.x0);var y=Math.abs(e.y1-e.y0);var x=getBoundingClientRect(C,u.node());var _=x.width/L._invScaleX;var b=x.height/L._invScaleY;e.ty0=(R-x.top)/L._invScaleY;e.bx=_+2*ve;e.by=Math.max(b+2*ve,v);e.anchor="start";e.txwidth=_;e.tx2width=d;e.offset=0;var w=(_+de+ve+d)*L._invScaleX;var T,k;if(z){e.pos=p;T=g+y/2+w<=N;k=g-y/2-w>=0;if((e.idealAlign==="top"||!T)&&k){g-=y/2;e.anchor="end"}else if(T){g+=y/2;e.anchor="start"}else{e.anchor="middle"}e.crossPos=g}else{e.pos=g;T=p+m/2+w<=F;k=p-m/2-w>=0;if((e.idealAlign==="left"||!T)&&k){p-=m/2;e.anchor="end"}else if(T){p+=m/2;e.anchor="start"}else{e.anchor="middle";var A=w/2;var M=p+A-F;var S=p-A;if(M>0)p-=M;if(S<0)p+=-S}e.crossPos=p}u.attr("text-anchor",e.anchor);if(d)f.attr("text-anchor",e.anchor);t.attr("transform",ie(p,g)+(z?oe(fe):""))});return{hoverLabels:ne,commonLabelBoundingBox:A}}function getHoverLabelText(r,e,t,a,n,i){var o="";var l="";if(r.nameOverride!==undefined)r.name=r.nameOverride;if(r.name){if(r.trace._meta){r.name=Pe.templateString(r.name,r.trace._meta)}o=plainText(r.name,r.nameLength)}var s=t.charAt(0);var c=s==="x"?"y":"x";if(r.zLabel!==undefined){if(r.xLabel!==undefined)l+="x: "+r.xLabel+"<br>";if(r.yLabel!==undefined)l+="y: "+r.yLabel+"<br>";if(r.trace.type!=="choropleth"&&r.trace.type!=="choroplethmapbox"){l+=(l?"z: ":"")+r.zLabel}}else if(e&&r[s+"Label"]===n){l=r[c+"Label"]||""}else if(r.xLabel===undefined){if(r.yLabel!==undefined&&r.trace.type!=="scattercarpet"){l=r.yLabel}}else if(r.yLabel===undefined)l=r.xLabel;else l="("+r.xLabel+", "+r.yLabel+")";if((r.text||r.text===0)&&!Array.isArray(r.text)){l+=(l?"<br>":"")+r.text}if(r.extraText!==undefined)l+=(l?"<br>":"")+r.extraText;if(i&&l===""&&!r.hovertemplate){if(o==="")i.remove();l=o}var u=r.hovertemplate||false;if(u){var f=r.hovertemplateLabels||r;if(r[s+"Label"]!==n){f[s+"other"]=f[s+"Val"];f[s+"otherLabel"]=f[s+"Label"]}l=Pe.hovertemplateString(u,f,a._d3locale,r.eventData[0]||{},r.trace._meta);l=l.replace(d,function(e,t){o=plainText(t,r.nameLength);return""})}return[l,o]}function hoverAvoidOverlaps(e,h,p,t){var g=h?"xa":"ya";var m=h?"ya":"xa";var r=0;var y=1;var a=e.size();var x=new Array(a);var _=0;var b=t.minX;var w=t.maxX;var T=t.minY;var k=t.maxY;var A=function(e){return e*p._invScaleX};var M=function(e){return e*p._invScaleY};e.each(function(e){var t=e[g];var r=e[m];var a=t._id.charAt(0)==="x";var n=t.range;if(_===0&&n&&n[0]>n[1]!==a){y=-1}var i=0;var o=a?p.width:p.height;if(p.hovermode==="x"||p.hovermode==="y"){var l=getHoverLabelOffsets(e,h);var s=e.anchor;var c=s==="end"?-1:1;var u;var f;if(s==="middle"){u=e.crossPos+(a?M(l.y-e.by/2):A(e.bx/2+e.tx2width/2));f=u+(a?M(e.by):A(e.bx))}else{if(a){u=e.crossPos+M(de+l.y)-M(e.by/2-de);f=u+M(e.by)}else{var d=A(c*de+l.x);var v=d+A(c*e.bx);u=e.crossPos+Math.min(d,v);f=e.crossPos+Math.max(d,v)}}if(a){if(T!==undefined&&k!==undefined&&Math.min(f,k)-Math.max(u,T)>1){if(r.side==="left"){i=r._mainLinePosition;o=p.width}else{o=r._mainLinePosition}}}else{if(b!==undefined&&w!==undefined&&Math.min(f,w)-Math.max(u,b)>1){if(r.side==="top"){i=r._mainLinePosition;o=p.height}else{o=r._mainLinePosition}}}}x[_++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(a?O:1)/2,pmin:i,pmax:o}]});x.sort(function(e,t){return e[0].posref-t[0].posref||y*(t[0].traceIndex-e[0].traceIndex)});var n,i,o,l,s,c,u;function constrainGroup(e){var t=e[0];var r=e[e.length-1];i=t.pmin-t.pos-t.dp+t.size;o=r.pos+r.dp+r.size-t.pmax;if(i>.01){for(s=e.length-1;s>=0;s--)e[s].dp+=i;n=false}if(o<.01)return;if(i<-.01){for(s=e.length-1;s>=0;s--)e[s].dp-=o;n=false}if(!n)return;var a=0;for(l=0;l<e.length;l++){c=e[l];if(c.pos+c.dp+c.size>t.pmax)a++}for(l=e.length-1;l>=0;l--){if(a<=0)break;c=e[l];if(c.pos>t.pmax-1){c.del=true;a--}}for(l=0;l<e.length;l++){if(a<=0)break;c=e[l];if(c.pos<t.pmin+1){c.del=true;a--;o=c.size*2;for(s=e.length-1;s>=0;s--)e[s].dp-=o}}for(l=e.length-1;l>=0;l--){if(a<=0)break;c=e[l];if(c.pos+c.dp+c.size>t.pmax){c.del=true;a--}}}while(!n&&r<=a){r++;n=true;l=0;while(l<x.length-1){var f=x[l];var d=x[l+1];var v=f[f.length-1];var S=d[0];i=v.pos+v.dp+v.size-S.pos-S.dp+S.size;if(i>.01&&v.pmin===S.pmin&&v.pmax===S.pmax){for(s=d.length-1;s>=0;s--)d[s].dp+=i;f.push.apply(f,d);x.splice(l+1,1);u=0;for(s=f.length-1;s>=0;s--)u+=f[s].dp;o=u/f.length;for(s=f.length-1;s>=0;s--)f[s].dp-=o;n=false}else l++}x.forEach(constrainGroup)}for(l=x.length-1;l>=0;l--){var C=x[l];for(s=C.length-1;s>=0;s--){var L=C[s];var D=L.datum;D.offset=L.dp;D.del=L.del}}}function getHoverLabelOffsets(e,t){var r=0;var a=e.offset;if(t){a*=-i;r=e.offset*n}return{x:r,y:a}}function getTextShiftX(e){var t={start:1,end:-1,middle:0}[e.anchor];var r=t*(de+ve);var a=r+t*(e.txwidth+ve);var n=e.anchor==="middle";if(n){r-=e.tx2width/2;a+=e.txwidth/2+ve}return{alignShift:t,textShiftX:r,text2ShiftX:a}}function alignHoverText(e,v,t,r){var h=function(e){return e*t};var p=function(e){return e*r};e.each(function(e){var t=De.select(this);if(e.del)return t.remove();var r=t.select("text.nums");var a=e.anchor;var n=a==="end"?-1:1;var i=getTextShiftX(e);var o=getHoverLabelOffsets(e,v);var l=o.x;var s=o.y;var c=a==="middle";t.select("path").attr("d",c?"M-"+h(e.bx/2+e.tx2width/2)+","+p(s-e.by/2)+"h"+h(e.bx)+"v"+p(e.by)+"h-"+h(e.bx)+"Z":"M0,0L"+h(n*de+l)+","+p(de+s)+"v"+p(e.by/2-de)+"h"+h(n*e.bx)+"v-"+p(e.by)+"H"+h(n*de+l)+"V"+p(s-de)+"Z");var u=l+i.textShiftX;var f=s+e.ty0-e.by/2+ve;var d=e.textAlign||"auto";if(d!=="auto"){if(d==="left"&&a!=="start"){r.attr("text-anchor","start");u=c?-e.bx/2-e.tx2width/2+ve:-e.bx-ve}else if(d==="right"&&a!=="end"){r.attr("text-anchor","end");u=c?e.bx/2-e.tx2width/2-ve:e.bx+ve}}r.call(le.positionText,h(u),p(f));if(e.tx2width){t.select("text.name").call(le.positionText,h(i.text2ShiftX+i.alignShift*ve+l),p(s+e.ty0-e.by/2+ve));t.select("rect").call(se.setRect,h(i.text2ShiftX+(i.alignShift-1)*e.tx2width/2+l),p(s-e.by/2-1),h(e.tx2width),p(e.by+2))}})}function cleanPoint(n,e){var a=n.index;var i=n.trace||{};var o=n.cd[0];var r=n.cd[a]||{};function pass(e){return e||Oe(e)&&e===0}var l=Array.isArray(a)?function(e,t){var r=Pe.castOption(o,a,e);return pass(r)?r:Pe.extractOption({},i,"",t)}:function(e,t){return Pe.extractOption(r,i,e,t)};function fill(e,t,r){var a=l(t,r);if(pass(a))n[e]=a}fill("hoverinfo","hi","hoverinfo");fill("bgcolor","hbg","hoverlabel.bgcolor");fill("borderColor","hbc","hoverlabel.bordercolor");fill("fontFamily","htf","hoverlabel.font.family");fill("fontSize","hts","hoverlabel.font.size");fill("fontColor","htc","hoverlabel.font.color");fill("nameLength","hnl","hoverlabel.namelength");fill("textAlign","hta","hoverlabel.align");n.posref=e==="y"||e==="closest"&&i.orientation==="h"?n.xa._offset+(n.x0+n.x1)/2:n.ya._offset+(n.y0+n.y1)/2;n.x0=Pe.constrain(n.x0,0,n.xa._length);n.x1=Pe.constrain(n.x1,0,n.xa._length);n.y0=Pe.constrain(n.y0,0,n.ya._length);n.y1=Pe.constrain(n.y1,0,n.ya._length);if(n.xLabelVal!==undefined){n.xLabel="xLabel"in n?n.xLabel:B.hoverLabelText(n.xa,n.xLabelVal,i.xhoverformat);n.xVal=n.xa.c2d(n.xLabelVal)}if(n.yLabelVal!==undefined){n.yLabel="yLabel"in n?n.yLabel:B.hoverLabelText(n.ya,n.yLabelVal,i.yhoverformat);n.yVal=n.ya.c2d(n.yLabelVal)}if(n.zLabelVal!==undefined&&n.zLabel===undefined){n.zLabel=String(n.zLabelVal)}if(!isNaN(n.xerr)&&!(n.xa.type==="log"&&n.xerr<=0)){var t=B.tickText(n.xa,n.xa.c2l(n.xerr),"hover").text;if(n.xerrneg!==undefined){n.xLabel+=" +"+t+" / -"+B.tickText(n.xa,n.xa.c2l(n.xerrneg),"hover").text}else n.xLabel+="  "+t;if(e==="x")n.distance+=1}if(!isNaN(n.yerr)&&!(n.ya.type==="log"&&n.yerr<=0)){var s=B.tickText(n.ya,n.ya.c2l(n.yerr),"hover").text;if(n.yerrneg!==undefined){n.yLabel+=" +"+s+" / -"+B.tickText(n.ya,n.ya.c2l(n.yerrneg),"hover").text}else n.yLabel+="  "+s;if(e==="y")n.distance+=1}var c=n.hoverinfo||n.trace.hoverinfo;if(c&&c!=="all"){c=Array.isArray(c)?c:c.split("+");if(c.indexOf("x")===-1)n.xLabel=undefined;if(c.indexOf("y")===-1)n.yLabel=undefined;if(c.indexOf("z")===-1)n.zLabel=undefined;if(c.indexOf("text")===-1)n.text=undefined;if(c.indexOf("name")===-1)n.name=undefined}return n}function createSpikelines(e,t,r){var a=r.container;var n=r.fullLayout;var i=n._size;var o=r.event;var l=!!t.hLinePoint;var s=!!t.vLinePoint;var c,u;a.selectAll(".spikeline").remove();if(!(s||l))return;var f=Fe.combine(n.plot_bgcolor,n.paper_bgcolor);if(l){var d=t.hLinePoint;var v,h;c=d&&d.xa;u=d&&d.ya;var p=u.spikesnap;if(p==="cursor"){v=o.pointerX;h=o.pointerY}else{v=c._offset+d.x;h=u._offset+d.y}var g=z.readability(d.color,f)<1.5?Fe.contrast(f):d.color;var m=u.spikemode;var y=u.spikethickness;var x=u.spikecolor||g;var _=B.getPxPosition(e,u);var b,w;if(m.indexOf("toaxis")!==-1||m.indexOf("across")!==-1){if(m.indexOf("toaxis")!==-1){b=_;w=v}if(m.indexOf("across")!==-1){var T=u._counterDomainMin;var k=u._counterDomainMax;if(u.anchor==="free"){T=Math.min(T,u.position);k=Math.max(k,u.position)}b=i.l+T*i.w;w=i.l+k*i.w}a.insert("line",":first-child").attr({x1:b,x2:w,y1:h,y2:h,"stroke-width":y,stroke:x,"stroke-dasharray":se.dashStyle(u.spikedash,y)}).classed("spikeline",true).classed("crisp",true);a.insert("line",":first-child").attr({x1:b,x2:w,y1:h,y2:h,"stroke-width":y+2,stroke:f}).classed("spikeline",true).classed("crisp",true)}if(m.indexOf("marker")!==-1){a.insert("circle",":first-child").attr({cx:_+(u.side!=="right"?y:-y),cy:h,r:y,fill:x}).classed("spikeline",true)}}if(s){var A=t.vLinePoint;var M,S;c=A&&A.xa;u=A&&A.ya;var N=c.spikesnap;if(N==="cursor"){M=o.pointerX;S=o.pointerY}else{M=c._offset+A.x;S=u._offset+A.y}var E=z.readability(A.color,f)<1.5?Fe.contrast(f):A.color;var C=c.spikemode;var L=c.spikethickness;var D=c.spikecolor||E;var O=B.getPxPosition(e,c);var P,I;if(C.indexOf("toaxis")!==-1||C.indexOf("across")!==-1){if(C.indexOf("toaxis")!==-1){P=O;I=S}if(C.indexOf("across")!==-1){var R=c._counterDomainMin;var F=c._counterDomainMax;if(c.anchor==="free"){R=Math.min(R,c.position);F=Math.max(F,c.position)}P=i.t+(1-F)*i.h;I=i.t+(1-R)*i.h}a.insert("line",":first-child").attr({x1:M,x2:M,y1:P,y2:I,"stroke-width":L,stroke:D,"stroke-dasharray":se.dashStyle(c.spikedash,L)}).classed("spikeline",true).classed("crisp",true);a.insert("line",":first-child").attr({x1:M,x2:M,y1:P,y2:I,"stroke-width":L+2,stroke:f}).classed("spikeline",true).classed("crisp",true)}if(C.indexOf("marker")!==-1){a.insert("circle",":first-child").attr({cx:M,cy:O-(c.side!=="top"?L:-L),r:L,fill:D}).classed("spikeline",true)}}}function hoverChanged(e,t,r){if(!r||r.length!==e._hoverdata.length)return true;for(var a=r.length-1;a>=0;a--){var n=r[a];var i=e._hoverdata[a];if(n.curveNumber!==i.curveNumber||String(n.pointNumber)!==String(i.pointNumber)||String(n.pointNumbers)!==String(i.pointNumbers)){return true}}return false}function spikesChanged(e,t){if(!t)return true;if(t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint)return true;return false}function plainText(e,t){return le.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}function orderRangePoints(e,t){var r=t.charAt(0);var a=[];var n=[];var i=[];for(var o=0;o<e.length;o++){var l=e[o];if(Ee.traceIs(l.trace,"bar-like")||Ee.traceIs(l.trace,"box-violin")){i.push(l)}else if(l.trace[r+"period"]){n.push(l)}else{a.push(l)}}return a.concat(n).concat(i)}function getCoord(e,t,r){var a=t[e+"a"];var n=t[e+"Val"];var i=t.cd[0];if(a.type==="category"||a.type==="multicategory")n=a._categoriesMap[n];else if(a.type==="date"){var o=t.trace[e+"periodalignment"];if(o){var l=t.cd[t.index];var s=l[e+"Start"];if(s===undefined)s=l[e];var c=l[e+"End"];if(c===undefined)c=l[e];var u=c-s;if(o==="end"){n+=u}else if(o==="middle"){n+=u/2}}n=a.d2c(n)}if(i&&i.t&&i.t.posLetter===a._id){if(r.boxmode==="group"||r.violinmode==="group"){n+=i.t.dPos}}return n}function getTopOffset(e){return e.offsetTop+e.clientTop}function getLeftOffset(e){return e.offsetLeft+e.clientLeft}function getBoundingClientRect(e,t){var r=e._fullLayout;var a=t.getBoundingClientRect();var n=a.left;var i=a.top;var o=n+a.width;var l=i+a.height;var s=Pe.apply3DTransform(r._invTransform)(n,i);var c=Pe.apply3DTransform(r._invTransform)(o,l);var u=s[0];var f=s[1];var d=c[0];var v=c[1];return{x:u,y:f,width:d-u,height:v-f,top:Math.min(f,v),left:Math.min(u,d),right:Math.max(u,d),bottom:Math.max(f,v)}}},8048:function(e,t,r){"use strict";var i=r(1828);var o=r(7901);var l=r(3469).isUnifiedHover;e.exports=function handleHoverLabelDefaults(e,t,r,a){a=a||{};var n=t.legend;function inheritFontAttr(e){if(!a.font[e]){a.font[e]=n?t.legend.font[e]:t.font[e]}}if(t&&l(t.hovermode)){if(!a.font)a.font={};inheritFontAttr("size");inheritFontAttr("family");inheritFontAttr("color");if(n){if(!a.bgcolor)a.bgcolor=o.combine(t.legend.bgcolor,t.paper_bgcolor);if(!a.bordercolor)a.bordercolor=t.legend.bordercolor}else{if(!a.bgcolor)a.bgcolor=t.paper_bgcolor}}r("hoverlabel.bgcolor",a.bgcolor);r("hoverlabel.bordercolor",a.bordercolor);r("hoverlabel.namelength",a.namelength);i.coerceFont(r,"hoverlabel.font",a.font);r("hoverlabel.align",a.align)}},8212:function(e,t,r){"use strict";var n=r(1828);var i=r(528);e.exports=function handleHoverModeDefaults(r,a){function coerce(e,t){if(a[e]!==undefined)return a[e];return n.coerce(r,a,i,e,t)}coerce("clickmode");return coerce("hovermode")}},211:function(e,t,r){"use strict";var a=r(9898);var n=r(1828);var i=r(8569);var o=r(3469);var l=r(528);var s=r(8335);e.exports={moduleType:"component",name:"fx",constants:r(6675),schema:{layout:l},attributes:r(7914),layoutAttributes:l,supplyLayoutGlobalDefaults:r(2774),supplyDefaults:r(4268),supplyLayoutDefaults:r(4938),calc:r(732),getDistanceFunction:o.getDistanceFunction,getClosest:o.getClosest,inbox:o.inbox,quadrature:o.quadrature,appendArrayPointValue:o.appendArrayPointValue,castHoverOption:castHoverOption,castHoverinfo:castHoverinfo,hover:s.hover,unhover:i.unhover,loneHover:s.loneHover,loneUnhover:loneUnhover,click:r(5914)};function loneUnhover(e){var t=n.isD3Selection(e)?e:a.select(e);t.selectAll("g.hovertext").remove();t.selectAll(".spikeline").remove()}function castHoverOption(e,t,r){return n.castOption(e,t,"hoverlabel."+r)}function castHoverinfo(t,r,e){function _coerce(e){return n.coerceHoverinfo({hoverinfo:e},{_module:t._module},r)}return n.castOption(t,e,"hoverinfo",_coerce)}},528:function(e,t,r){"use strict";var a=r(6675);var n=r(1940);var i=n({editType:"none"});i.family.dflt=a.HOVERFONT;i.size.dflt=a.HOVERFONTSIZE;e.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",false],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",false,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:n({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},4938:function(e,t,r){"use strict";var l=r(1828);var s=r(528);var c=r(8212);var u=r(8048);e.exports=function supplyLayoutDefaults(r,a){function coerce(e,t){return l.coerce(r,a,s,e,t)}var e=c(r,a);if(e){coerce("hoverdistance");coerce("spikedistance")}var t=coerce("dragmode");if(t==="select")coerce("selectdirection");var n=a._has("mapbox");var i=a._has("geo");var o=a._basePlotModules.length;if(a.dragmode==="zoom"&&((n||i)&&o===1||n&&i&&o===2)){a.dragmode="pan"}u(r,a,coerce);l.coerceFont(coerce,"hoverlabel.grouptitlefont",a.hoverlabel.font)}},2774:function(e,t,r){"use strict";var n=r(1828);var i=r(8048);var o=r(528);e.exports=function supplyLayoutGlobalDefaults(r,a){function coerce(e,t){return n.coerce(r,a,o,e,t)}i(r,a,coerce)}},3312:function(e,t,r){"use strict";var b=r(1828);var a=r(587).counter;var n=r(7670).Y;var i=r(5555).idRegex;var w=r(4467);var T={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:true,dimensions:2,items:{valType:"enumerated",values:[a("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:true,items:{valType:"enumerated",values:[i.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:true,items:{valType:"enumerated",values:[i.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:n({name:"grid",editType:"plot",noGridCell:true},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function getAxes(e,t,r){var a=t[r+"axes"];var n=Object.keys((e._splomAxes||{})[r]||{});if(Array.isArray(a))return a;if(n.length)return n}function sizeDefaults(e,t){var r=e.grid||{};var a=getAxes(t,r,"x");var n=getAxes(t,r,"y");if(!e.grid&&!a&&!n)return;var i=Array.isArray(r.subplots)&&Array.isArray(r.subplots[0]);var o=Array.isArray(a);var l=Array.isArray(n);var s=o&&a!==r.xaxes&&l&&n!==r.yaxes;var c,u;if(i){c=r.subplots.length;u=r.subplots[0].length}else{if(l)c=n.length;if(o)u=a.length}var f=w.newContainer(t,"grid");function coerce(e,t){return b.coerce(r,f,T,e,t)}var d=coerce("rows",c);var v=coerce("columns",u);if(!(d*v>1)){delete t.grid;return}if(!i&&!o&&!l){var h=coerce("pattern")==="independent";if(h)i=true}f._hasSubplotGrid=i;var p=coerce("roworder");var g=p==="top to bottom";var m=i?.2:.1;var y=i?.3:.1;var x,_;if(s&&t._splomGridDflt){x=t._splomGridDflt.xside;_=t._splomGridDflt.yside}f._domains={x:fillGridPositions("x",coerce,m,x,v),y:fillGridPositions("y",coerce,y,_,d,g)}}function fillGridPositions(e,t,r,a,n,i){var o=t(e+"gap",r);var l=t("domain."+e);t(e+"side",a);var s=new Array(n);var c=l[0];var u=(l[1]-c)/(n-o);var f=u*(1-o);for(var d=0;d<n;d++){var v=c+u*d;s[i?n-1-d:d]=[v,v+f]}return s}function contentDefaults(e,t){var r=t.grid;if(!r||!r._domains)return;var a=e.grid||{};var n=t._subplots;var i=r._hasSubplotGrid;var o=r.rows;var l=r.columns;var s=r.pattern==="independent";var c,u,f,d,v,h,p;var g=r._axisMap={};if(i){var m=a.subplots||[];h=r.subplots=new Array(o);var y=1;for(c=0;c<o;c++){var x=h[c]=new Array(l);var _=m[c]||[];for(u=0;u<l;u++){if(s){v=y===1?"xy":"x"+y+"y"+y;y++}else v=_[u];x[u]="";if(n.cartesian.indexOf(v)!==-1){p=v.indexOf("y");f=v.slice(0,p);d=v.slice(p);if(g[f]!==undefined&&g[f]!==u||g[d]!==undefined&&g[d]!==c){continue}x[u]=v;g[f]=u;g[d]=c}}}}else{var b=getAxes(t,a,"x");var w=getAxes(t,a,"y");r.xaxes=fillGridAxes(b,n.xaxis,l,g,"x");r.yaxes=fillGridAxes(w,n.yaxis,o,g,"y")}var T=r._anchors={};var k=r.roworder==="top to bottom";for(var A in g){var M=A.charAt(0);var S=r[M+"side"];var C,L,D;if(S.length<8){T[A]="free"}else if(M==="x"){if(S.charAt(0)==="t"===k){C=0;L=1;D=o}else{C=o-1;L=-1;D=-1}if(i){var O=g[A];for(c=C;c!==D;c+=L){v=h[c][O];if(!v)continue;p=v.indexOf("y");if(v.slice(0,p)===A){T[A]=v.slice(p);break}}}else{for(c=C;c!==D;c+=L){d=r.yaxes[c];if(n.cartesian.indexOf(A+d)!==-1){T[A]=d;break}}}}else{if(S.charAt(0)==="l"){C=0;L=1;D=l}else{C=l-1;L=-1;D=-1}if(i){var P=g[A];for(c=C;c!==D;c+=L){v=h[P][c];if(!v)continue;p=v.indexOf("y");if(v.slice(p)===A){T[A]=v.slice(0,p);break}}}else{for(c=C;c!==D;c+=L){f=r.xaxes[c];if(n.cartesian.indexOf(f+A)!==-1){T[A]=f;break}}}}}}function fillGridAxes(e,r,t,a,n){var i=new Array(t);var o;function fillOneAxis(e,t){if(r.indexOf(t)!==-1&&a[t]===undefined){i[e]=t;a[t]=e}else i[e]=""}if(Array.isArray(e)){for(o=0;o<t;o++){fillOneAxis(o,e[o])}}else{fillOneAxis(0,n);for(o=1;o<t;o++){fillOneAxis(o,n+(o+1))}}return i}e.exports={moduleType:"component",name:"grid",schema:{layout:{grid:T}},layoutAttributes:T,sizeDefaults:sizeDefaults,contentDefaults:contentDefaults}},9819:function(e,t,r){"use strict";var a=r(5555);var n=r(4467).templatedArray;var i=r(4695);e.exports=n("image",{visible:{valType:"boolean",dflt:true,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},5378:function(e,t,r){"use strict";var g=r(2770);var m=r(8163);e.exports=function convertCoords(e,t,r,a){t=t||{};var n=r==="log"&&t.type==="linear";var i=r==="linear"&&t.type==="log";if(!(n||i))return;var o=e._fullLayout.images;var l=t._id.charAt(0);var s;var c;for(var u=0;u<o.length;u++){s=o[u];c="images["+u+"].";if(s[l+"ref"]===t._id){var f=s[l];var d=s["size"+l];var v=null;var h=null;if(n){v=m(f,t.range);var p=d/Math.pow(10,v)/2;h=2*Math.log(p+Math.sqrt(1+p*p))/Math.LN10}else{v=Math.pow(10,f);h=v*(Math.pow(10,d/2)-Math.pow(10,-d/2))}if(!g(v)){v=null;h=null}else if(!g(h))h=null;a(c+l,v);a(c+"size"+l,h)}}}},1603:function(e,t,r){"use strict";var f=r(1828);var d=r(9298);var a=r(5501);var v=r(9819);var n="images";e.exports=function supplyLayoutDefaults(e,t){var r={name:n,handleItemDefaults:imageDefaults};a(e,t,r)};function imageDefaults(r,a,e){function coerce(e,t){return f.coerce(r,a,v,e,t)}var t=coerce("source");var n=coerce("visible",!!t);if(!n)return a;coerce("layer");coerce("xanchor");coerce("yanchor");coerce("sizex");coerce("sizey");coerce("sizing");coerce("opacity");var i={_fullLayout:e};var o=["x","y"];for(var l=0;l<2;l++){var s=o[l];var c=d.coerceRef(r,a,i,s,"paper",undefined);if(c!=="paper"){var u=d.getFromId(i,c);u._imgIndices.push(a._index)}d.coercePosition(a,i,coerce,c,s,0)}return a}},750:function(e,t,r){"use strict";var _=r(9898);var b=r(1424);var w=r(9298);var d=r(1675);var v=r(7922);e.exports=function draw(m){var y=m._fullLayout;var e=[];var t={};var r=[];var a;var n;for(n=0;n<y.images.length;n++){var i=y.images[n];if(i.visible){if(i.layer==="below"&&i.xref!=="paper"&&i.yref!=="paper"){a=d.ref2id(i.xref)+d.ref2id(i.yref);var o=y._plots[a];if(!o){r.push(i);continue}if(o.mainplot){a=o.mainplot.id}if(!t[a]){t[a]=[]}t[a].push(i)}else if(i.layer==="above"){e.push(i)}else{r.push(i)}}}var x={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function setImage(t){var n=_.select(this);if(this._imgSrc===t.source){return}n.attr("xmlns",v.svg);if(t.source&&t.source.slice(0,5)==="data:"){n.attr("xlink:href",t.source);this._imgSrc=t.source}else{var e=new Promise(function(a){var e=new Image;this.img=e;e.setAttribute("crossOrigin","anonymous");e.onerror=errorHandler;e.onload=function(){var e=document.createElement("canvas");e.width=this.width;e.height=this.height;var t=e.getContext("2d",{willReadFrequently:true});t.drawImage(this,0,0);var r=e.toDataURL("image/png");n.attr("xlink:href",r);a()};n.on("error",errorHandler);e.src=t.source;this._imgSrc=t.source;function errorHandler(){n.remove();a()}}.bind(this));m._promises.push(e)}}function applyAttributes(e){var t=_.select(this);var r=w.getFromId(m,e.xref);var a=w.getFromId(m,e.yref);var n=w.getRefType(e.xref)==="domain";var i=w.getRefType(e.yref)==="domain";var o=y._size;var l,s;if(r!==undefined){l=typeof e.xref==="string"&&n?r._length*e.sizex:Math.abs(r.l2p(e.sizex)-r.l2p(0))}else{l=e.sizex*o.w}if(a!==undefined){s=typeof e.yref==="string"&&i?a._length*e.sizey:Math.abs(a.l2p(e.sizey)-a.l2p(0))}else{s=e.sizey*o.h}var c=l*x.x[e.xanchor].offset;var u=s*x.y[e.yanchor].offset;var f=x.x[e.xanchor].sizing+x.y[e.yanchor].sizing;var d,v;if(r!==undefined){d=typeof e.xref==="string"&&n?r._length*e.x+r._offset:r.r2p(e.x)+r._offset}else{d=e.x*o.w+o.l}d+=c;if(a!==undefined){v=typeof e.yref==="string"&&i?a._length*(1-e.y)+a._offset:a.r2p(e.y)+a._offset}else{v=o.h-e.y*o.h+o.t}v+=u;switch(e.sizing){case"fill":f+=" slice";break;case"stretch":f="none";break}t.attr({x:d,y:v,width:l,height:s,preserveAspectRatio:f,opacity:e.opacity});var h=r&&w.getRefType(e.xref)!=="domain"?r._id:"";var p=a&&w.getRefType(e.yref)!=="domain"?a._id:"";var g=h+p;b.setClipUrl(t,g?"clip"+y._uid+g:null,m)}var l=y._imageLowerLayer.selectAll("image").data(r);var s=y._imageUpperLayer.selectAll("image").data(e);l.enter().append("image");s.enter().append("image");l.exit().remove();s.exit().remove();l.each(function(e){setImage.bind(this)(e);applyAttributes.bind(this)(e)});s.each(function(e){setImage.bind(this)(e);applyAttributes.bind(this)(e)});var c=Object.keys(y._plots);for(n=0;n<c.length;n++){a=c[n];var u=y._plots[a];if(!u.imagelayer)continue;var f=u.imagelayer.selectAll("image").data(t[a]||[]);f.enter().append("image");f.exit().remove();f.each(function(e){setImage.bind(this)(e);applyAttributes.bind(this)(e)})}}},8804:function(e,t,r){"use strict";e.exports={moduleType:"component",name:"images",layoutAttributes:r(9819),supplyLayoutDefaults:r(1603),includeBasePlot:r(6325)("images"),draw:r(750),convertCoords:r(5378)}},3030:function(e,t,r){"use strict";var a=r(1940);var n=r(2399);e.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:n.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:a({editType:"legend"}),grouptitlefont:a({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",false],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",false],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:a({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},4928:function(e){"use strict";e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},9017:function(e,t,r){"use strict";var w=r(3972);var T=r(1828);var k=r(4467);var A=r(9012);var M=r(3030);var S=r(820);var C=r(130);e.exports=function legendDefaults(e,t,r){var a=e.legend||{};var n=k.newContainer(t,"legend");function coerce(e,t){return T.coerce(a,n,M,e,t)}var i;var o=function(e,t){var r=i._input;var a=i;return T.coerce(r,a,A,e,t)};var l=t.font||{};var s=T.coerceFont(coerce,"grouptitlefont",T.extendFlat({},l,{size:Math.round(l.size*1.1)}));var c=0;var u=false;var f="normal";for(var d=0;d<r.length;d++){i=r[d];if(!i.visible)continue;if(i.showlegend||i._dfltShowLegend&&!(i._module&&i._module.attributes&&i._module.attributes.showlegend&&i._module.attributes.showlegend.dflt===false)){c++;if(i.showlegend){u=true;if(w.traceIs(i,"pie-like")||i._input.showlegend===true){c++}}T.coerceFont(o,"legendgrouptitle.font",s)}if(w.traceIs(i,"bar")&&t.barmode==="stack"||["tonextx","tonexty"].indexOf(i.fill)!==-1){f=C.isGrouped({traceorder:f})?"grouped+reversed":"reversed"}if(i.legendgroup!==undefined&&i.legendgroup!==""){f=C.isReversed({traceorder:f})?"reversed+grouped":"grouped"}}var v=T.coerce(e,t,S,"showlegend",u&&c>1);if(v===false)t.legend=undefined;if(v===false&&!a.uirevision)return;coerce("uirevision",t.uirevision);if(v===false)return;coerce("bgcolor",t.paper_bgcolor);coerce("bordercolor");coerce("borderwidth");var h=T.coerceFont(coerce,"font",t.font);var p=coerce("orientation");var g=p==="h";var m,y,x;if(g){m=0;if(w.getComponentMethod("rangeslider","isVisible")(e.xaxis)){y=1.1;x="bottom"}else{y=-.1;x="top"}}else{m=1.02;y=1;x="auto"}coerce("traceorder",f);if(C.isGrouped(t.legend))coerce("tracegroupgap");coerce("entrywidth");coerce("entrywidthmode");coerce("itemsizing");coerce("itemwidth");coerce("itemclick");coerce("itemdoubleclick");coerce("groupclick");coerce("x",m);coerce("xanchor");coerce("y",y);coerce("yanchor",x);coerce("valign");T.noneOrAll(a,n,["x","y"]);var _=coerce("title.text");if(_){coerce("title.side",g?"left":"top");var b=T.extendFlat({},h,{size:T.bigFont(h.size)});T.coerceFont(coerce,"title.font",b)}}},3969:function(e,a,t){"use strict";var H=t(9898);var F=t(1828);var o=t(4875);var N=t(3972);var c=t(1086);var E=t(8569);var j=t(1424);var l=t(7901);var m=t(3893);var u=t(5167);var V=t(4928);var r=t(8783);var y=r.LINE_SPACING;var z=r.FROM_TL;var i=r.FROM_BR;var s=t(2424);var f=t(3630);var Y=t(130);var x=1;e.exports=function draw(e,t){if(!t)t=e._fullLayout.legend||{};return _draw(e,t)};function _draw(k,A){var M=k._fullLayout;var S="legend"+M._uid;var C;var L=A._inHover;if(L){C=A.layer;S+="-hover"}else{C=M._infolayer}if(!C)return;if(!k._legendMouseDownTime)k._legendMouseDownTime=0;var e;if(!L){if(!k.calcdata)return;e=M.showlegend&&s(k.calcdata,A)}else{if(!A.entries)return;e=s(A.entries,A)}var r=M.hiddenlabels||[];if(!L&&(!M.showlegend||!e.length)){C.selectAll(".legend").remove();M._topdefs.select("#"+S).remove();return o.autoMargin(k,"legend")}var D=F.ensureSingle(C,"g","legend",function(e){if(!L)e.attr("pointer-events","all")});var O=F.ensureSingleById(M._topdefs,"clipPath",S,function(e){e.append("rect")});var P=F.ensureSingle(D,"rect","bg",function(e){e.attr("shape-rendering","crispEdges")});P.call(l.stroke,A.bordercolor).call(l.fill,A.bgcolor).style("stroke-width",A.borderwidth+"px");var I=F.ensureSingle(D,"g","scrollbox");var t=A.title;A._titleWidth=0;A._titleHeight=0;if(t.text){var a=F.ensureSingle(I,"text","legendtitletext");a.attr("text-anchor","start").call(j.font,t.font).text(t.text);textLayout(a,I,k,A,x)}else{I.selectAll(".legendtitletext").remove()}var R=F.ensureSingle(D,"rect","scrollbar",function(e){e.attr(V.scrollBarEnterAttrs).call(l.fill,V.scrollBarColor)});var n=I.selectAll("g.groups").data(e);n.enter().append("g").attr("class","groups");n.exit().remove();var i=n.selectAll("g.traces").data(F.identity);i.enter().append("g").attr("class","traces");i.exit().remove();i.style("opacity",function(e){var t=e[0].trace;if(N.traceIs(t,"pie-like")){return r.indexOf(e[0].label)!==-1?.5:1}else{return t.visible==="legendonly"?.5:1}}).each(function(){H.select(this).call(drawTexts,k,A)}).call(f,k,A).each(function(){if(!L)H.select(this).call(setupTraceToggle,k)});F.syncOrAsync([o.previousPromises,function(){return computeLegendDimensions(k,n,i,A)},function(){var n=M._size;var a=A.borderwidth;if(!L){var e=expandMargin(k);if(e)return;var t=n.l+n.w*A.x-z[getXanchor(A)]*A._width;var r=n.t+n.h*(1-A.y)-z[getYanchor(A)]*A._effHeight;if(M.margin.autoexpand){var i=t;var o=r;t=F.constrain(t,0,M.width-A._width);r=F.constrain(r,0,M.height-A._effHeight);if(t!==i){F.log("Constrain legend.x to make legend fit inside graph")}if(r!==o){F.log("Constrain legend.y to make legend fit inside graph")}}j.setTranslate(D,t,r)}R.on(".drag",null);D.on("wheel",null);if(L||A._height<=A._maxHeight||k._context.staticPlot){var l=A._effHeight;if(L)l=A._height;P.attr({width:A._width-a,height:l-a,x:a/2,y:a/2});j.setTranslate(I,0,0);O.select("rect").attr({width:A._width-2*a,height:l-2*a,x:a,y:a});j.setClipUrl(I,S,k);j.setRect(R,0,0,0,0);delete A._scrollY}else{var s=Math.max(V.scrollBarMinHeight,A._effHeight*A._effHeight/A._height);var c=A._effHeight-s-2*V.scrollBarMargin;var u=A._height-A._effHeight;var f=c/u;var d=Math.min(A._scrollY||0,u);P.attr({width:A._width-2*a+V.scrollBarWidth+V.scrollBarMargin,height:A._effHeight-a,x:a/2,y:a/2});O.select("rect").attr({width:A._width-2*a+V.scrollBarWidth+V.scrollBarMargin,height:A._effHeight-2*a,x:a,y:a+d});j.setClipUrl(I,S,k);scrollHandler(d,s,f);D.on("wheel",function(){d=F.constrain(A._scrollY+H.event.deltaY/c*u,0,u);scrollHandler(d,s,f);if(d!==0&&d!==u){H.event.preventDefault()}});var v,h,p;var g=function(e,t,r){var a=(r-t)/f+e;return F.constrain(a,0,u)};var m=function(e,t,r){var a=(t-r)/f+e;return F.constrain(a,0,u)};var y=H.behavior.drag().on("dragstart",function(){var e=H.event.sourceEvent;if(e.type==="touchstart"){v=e.changedTouches[0].clientY}else{v=e.clientY}p=d}).on("drag",function(){var e=H.event.sourceEvent;if(e.buttons===2||e.ctrlKey)return;if(e.type==="touchmove"){h=e.changedTouches[0].clientY}else{h=e.clientY}d=g(p,v,h);scrollHandler(d,s,f)});R.call(y);var x=H.behavior.drag().on("dragstart",function(){var e=H.event.sourceEvent;if(e.type==="touchstart"){v=e.changedTouches[0].clientY;p=d}}).on("drag",function(){var e=H.event.sourceEvent;if(e.type==="touchmove"){h=e.changedTouches[0].clientY;d=m(p,v,h);scrollHandler(d,s,f)}});I.call(x)}function scrollHandler(e,t,r){A._scrollY=k._fullLayout.legend._scrollY=e;j.setTranslate(I,0,-e);j.setRect(R,A._width,V.scrollBarMargin+e*r,V.scrollBarWidth,t);O.select("rect").attr("y",a+e)}if(k._context.edits.legendPosition){var _,b,w,T;D.classed("cursor-move",true);E.init({element:D.node(),gd:k,prepFn:function(){var e=j.getTranslate(D);w=e.x;T=e.y},moveFn:function(e,t){var r=w+e;var a=T+t;j.setTranslate(D,r,a);_=E.align(r,0,n.l,n.l+n.w,A.xanchor);b=E.align(a,0,n.t+n.h,n.t,A.yanchor)},doneFn:function(){if(_!==undefined&&b!==undefined){N.call("_guiRelayout",k,{"legend.x":_,"legend.y":b})}},clickFn:function(e,t){var r=C.selectAll("g.traces").filter(function(){var e=this.getBoundingClientRect();return t.clientX>=e.left&&t.clientX<=e.right&&t.clientY>=e.top&&t.clientY<=e.bottom});if(r.size()>0){clickOrDoubleClick(k,D,r,e,t)}}})}}],k)}function getTraceWidth(e,t,r){var a=e[0];var n=a.width;var i=t.entrywidthmode;var o=a.trace.legendwidth||t.entrywidth;if(i==="fraction")return t._maxWidth*o;return r+(o||n)}function clickOrDoubleClick(e,t,r,a,n){var i=r.data()[0][0].trace;var o={event:n,node:r.node(),curveNumber:i.index,expandedIndex:i._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};if(i._group){o.group=i._group}if(N.traceIs(i,"pie-like")){o.label=r.datum()[0].label}var l=c.triggerHandler(e,"plotly_legendclick",o);if(l===false)return;if(a===1){t._clickTimeout=setTimeout(function(){if(!e._fullLayout)return;u(r,e,a)},e._context.doubleClickDelay)}else if(a===2){if(t._clickTimeout)clearTimeout(t._clickTimeout);e._legendMouseDownTime=0;var s=c.triggerHandler(e,"plotly_legenddoubleclick",o);if(s!==false)u(r,e,a)}}function drawTexts(o,l,s){var c=o.data()[0][0];var u=c.trace;var e=N.traceIs(u,"pie-like");var t=!s._inHover&&l._context.edits.legendText&&!e;var f=s._maxNameLength;var r,a;if(c.groupTitle){r=c.groupTitle.text;a=c.groupTitle.font}else{a=s.font;if(!s.entries){r=e?c.label:u.name;if(u._meta){r=F.templateString(r,u._meta)}}else{r=c.text}}var n=F.ensureSingle(o,"text","legendtext");n.attr("text-anchor","start").call(j.font,a).text(t?ensureLength(r,f):r);var i=s.itemwidth+V.itemGap*2;m.positionText(n,i,0);if(t){n.call(m.makeEditable,{gd:l,text:r}).call(textLayout,o,l,s).on("edit",function(e){this.text(ensureLength(e,f)).call(textLayout,o,l,s);var t=c.trace._fullInput||{};var r={};if(N.hasTransform(t,"groupby")){var a=N.getTransformIndices(t,"groupby");var n=a[a.length-1];var i=F.keyedContainer(t,"transforms["+n+"].styles","target","value.name");i.set(c.trace._group,e);r=i.constructUpdate()}else{r.name=e}return N.call("_guiRestyle",l,r,u.index)})}else{textLayout(n,o,l,s)}}function ensureLength(e,t){var r=Math.max(4,t);if(e&&e.trim().length>=r/2)return e;e=e||"";for(var a=r-e.length;a>0;a--)e+=" ";return e}function setupTraceToggle(t,r){var a=r._context.doubleClickDelay;var e;var n=1;var i=F.ensureSingle(t,"rect","legendtoggle",function(e){if(!r._context.staticPlot){e.style("cursor","pointer").attr("pointer-events","all")}e.call(l.fill,"rgba(0,0,0,0)")});if(r._context.staticPlot)return;i.on("mousedown",function(){e=(new Date).getTime();if(e-r._legendMouseDownTime<a){n+=1}else{n=1;r._legendMouseDownTime=e}});i.on("mouseup",function(){if(r._dragged||r._editing)return;var e=r._fullLayout.legend;if((new Date).getTime()-r._legendMouseDownTime>a){n=Math.max(n-1,1)}clickOrDoubleClick(r,e,t,n,H.event)})}function textLayout(e,t,r,a,n){if(a._inHover)e.attr("data-notex",true);m.convertToTspans(e,r,function(){computeTextDimensions(t,r,a,n)})}function computeTextDimensions(e,t,r,a){var n=e.data()[0][0];if(!r._inHover&&n&&!n.trace.showlegend){e.remove();return}var i=e.select("g[class*=math-group]");var o=i.node();if(!r)r=t._fullLayout.legend;var l=r.borderwidth;var s;if(a===x){s=r.title.font}else if(n.groupTitle){s=n.groupTitle.font}else{s=r.font}var c=s.size*y;var u,f;if(o){var d=j.bBox(o);u=d.height;f=d.width;if(a===x){j.setTranslate(i,l,l+u*.75)}else{j.setTranslate(i,0,u*.25)}}else{var v=e.select(a===x?".legendtitletext":".legendtext");var h=m.lineCount(v);var p=v.node();u=c*h;f=p?j.bBox(p).width:0;if(a===x){if(r.title.side==="left"){f+=V.itemGap*2}m.positionText(v,l+V.titlePad,l+c)}else{var g=V.itemGap*2+r.itemwidth;if(n.groupTitle){g=V.itemGap;f-=r.itemwidth}m.positionText(v,g,-c*((h-1)/2-.3))}}if(a===x){r._titleWidth=f;r._titleHeight=u}else{n.lineHeight=c;n.height=Math.max(u,16)+3;n.width=f}}function getTitleSize(e){var t=0;var r=0;var a=e.title.side;if(a){if(a.indexOf("left")!==-1){t=e._titleWidth}if(a.indexOf("top")!==-1){r=e._titleHeight}}return[t,r]}function computeLegendDimensions(e,t,r,o){var a=e._fullLayout;if(!o)o=a.legend;var n=a._size;var l=Y.isVertical(o);var s=Y.isGrouped(o);var c=o.entrywidthmode==="fraction";var i=o.borderwidth;var u=2*i;var f=V.itemGap;var d=o.itemwidth+f*2;var v=2*(i+f);var h=getYanchor(o);var p=o.y<0||o.y===0&&h==="top";var g=o.y>1||o.y===1&&h==="bottom";var m=o.tracegroupgap;var y={};o._maxHeight=Math.max(p||g?a.height/2:n.h,30);var x=0;o._width=0;o._height=0;var _=getTitleSize(o);if(l){r.each(function(e){var t=e[0].height;j.setTranslate(this,i+_[0],i+_[1]+o._height+t/2+f);o._height+=t;o._width=Math.max(o._width,e[0].width)});x=d+o._width;o._width+=f+d+u;o._height+=v;if(s){t.each(function(e,t){j.setTranslate(this,0,t*o.tracegroupgap)});o._height+=(o._lgroupsLength-1)*o.tracegroupgap}}else{var b=getXanchor(o);var N=o.x<0||o.x===0&&b==="right";var E=o.x>1||o.x===1&&b==="left";var w=g||p;var T=a.width/2;o._maxWidth=Math.max(N?w&&b==="left"?n.l+n.w:T:E?w&&b==="right"?n.r+n.w:T:n.w,2*d);var k=0;var A=0;r.each(function(e){var t=getTraceWidth(e,o,d);k=Math.max(k,t);A+=t});x=null;var M=0;if(s){var S=0;var C=0;var L=0;t.each(function(){var a=0;var n=0;H.select(this).selectAll("g.traces").each(function(e){var t=getTraceWidth(e,o,d);var r=e[0].height;j.setTranslate(this,_[0],_[1]+i+f+r/2+n);n+=r;a=Math.max(a,t);y[e[0].trace.legendgroup]=a});var e=a+f;if(C>0&&e+i+C>o._maxWidth){M=Math.max(M,C);C=0;L+=S+m;S=n}else{S=Math.max(S,n)}j.setTranslate(this,C,L);C+=e});o._width=Math.max(M,C)+i;o._height=L+S+v}else{var z=r.size();var D=A+u+(z-1)*f<o._maxWidth;var O=0;var P=0;var I=0;var R=0;r.each(function(e){var t=e[0].height;var r=getTraceWidth(e,o,d,s);var a=D?r:k;if(!c){a+=f}if(a+i+P-f>=o._maxWidth){M=Math.max(M,R);P=0;I+=O;o._height+=O;O=0}j.setTranslate(this,_[0]+i+P,_[1]+i+I+t/2+f);R=P+r+f;P+=a;O=Math.max(O,t)});if(D){o._width=P+u;o._height=O+v}else{o._width=Math.max(M,R)+u;o._height+=O+v}}}o._width=Math.ceil(Math.max(o._width+_[0],o._titleWidth+2*(i+V.titlePad)));o._height=Math.ceil(Math.max(o._height+_[1],o._titleHeight+2*(i+V.itemGap)));o._effHeight=Math.min(o._height,o._maxHeight);var F=e._context.edits;var B=F.legendText||F.legendPosition;r.each(function(e){var t=H.select(this).select(".legendtoggle");var r=e[0].height;var a=e[0].trace.legendgroup;var n=getTraceWidth(e,o,d);if(s&&a!==""){n=y[a]}var i=B?d:x||n;if(!l&&!c){i+=f/2}j.setRect(t,0,-r/2,i,r)})}function expandMargin(e){var t=e._fullLayout;var r=t.legend;var a=getXanchor(r);var n=getYanchor(r);return o.autoMargin(e,"legend",{x:r.x,y:r.y,l:r._width*z[a],r:r._width*i[a],b:r._effHeight*i[n],t:r._effHeight*z[n]})}function getXanchor(e){return F.isRightAnchor(e)?"right":F.isCenterAnchor(e)?"center":"left"}function getYanchor(e){return F.isBottomAnchor(e)?"bottom":F.isMiddleAnchor(e)?"middle":"top"}},2424:function(e,t,r){"use strict";var L=r(3972);var D=r(130);e.exports=function getLegendData(e,a){var t=a._inHover;var r=D.isGrouped(a);var n=D.isReversed(a);var i={};var o=[];var l=false;var s={};var c=0;var u=0;var f,d;function addOneItem(e,t){if(e===""||!D.isGrouped(a)){var r="~~i"+c;o.push(r);i[r]=[t];c++}else if(o.indexOf(e)===-1){o.push(e);l=true;i[e]=[t]}else{i[e].push(t)}}for(f=0;f<e.length;f++){var v=e[f];var h=v[0];var p=h.trace;var g=p.legendgroup;if(!t&&(!p.visible||!p.showlegend))continue;if(L.traceIs(p,"pie-like")){if(!s[g])s[g]={};for(d=0;d<v.length;d++){var m=v[d].label;if(!s[g][m]){addOneItem(g,{label:m,color:v[d].color,i:v[d].i,trace:p,pts:v[d].pts});s[g][m]=true;u=Math.max(u,(m||"").length)}}}else{addOneItem(g,h);u=Math.max(u,(p.name||"").length)}}if(!o.length)return[];var y=!l||!r;var x=[];for(f=0;f<o.length;f++){var _=i[o[f]];if(y){x.push(_[0])}else{x.push(_)}}if(y)x=[x];for(f=0;f<x.length;f++){var b=Infinity;for(d=0;d<x[f].length;d++){var w=x[f][d].trace.legendrank;if(b>w)b=w}x[f][0]._groupMinRank=b;x[f][0]._preGroupSort=f}var T=function(e,t){return e[0]._groupMinRank-t[0]._groupMinRank||e[0]._preGroupSort-t[0]._preGroupSort};var k=function(e,t){return e.trace.legendrank-t.trace.legendrank||e._preSort-t._preSort};x.forEach(function(e,t){e[0]._preGroupSort=t});x.sort(T);for(f=0;f<x.length;f++){x[f].forEach(function(e,t){e._preSort=t});x[f].sort(k);var A=x[f][0].trace;var M=null;for(d=0;d<x[f].length;d++){var S=x[f][d].trace.legendgrouptitle;if(S&&S.text){M=S;if(t)S.font=a._groupTitleFont;break}}if(n)x[f].reverse();if(M){var C=false;for(d=0;d<x[f].length;d++){if(L.traceIs(x[f][d].trace,"pie-like")){C=true;break}}x[f].unshift({i:-1,groupTitle:M,noClick:C,trace:{showlegend:A.showlegend,legendgroup:A.legendgroup,visible:a.groupclick==="toggleitem"?true:A.visible}})}for(d=0;d<x[f].length;d++){x[f][d]=[x[f][d]]}}a._lgroupsLength=x.length;a._maxNameLength=u;return x}},5167:function(e,t,r){"use strict";var E=r(1828);var z=r(3972);var B=true;e.exports=function handleClick(R,e,t){var r=e._fullLayout;if(e._dragged||e._editing)return;var a=r.legend.itemclick;var n=r.legend.itemdoubleclick;var F=r.legend.groupclick;if(t===1&&a==="toggle"&&n==="toggleothers"&&B&&e.data&&e._context.showTips){E.notifier(E._(e,"Double-click on legend to isolate one trace"),"long");B=false}else{B=false}var i;if(t===1)i=a;else if(t===2)i=n;if(!i)return;var s=F==="togglegroup";var o=r.hiddenlabels?r.hiddenlabels.slice():[];var c=R.data()[0][0];if(c.groupTitle&&c.noClick)return;var l=e._fullData;var u=c.trace;var f=u.legendgroup;var d,v,h,p,g,m;var y={};var x=[];var _=[];var b=[];function insertUpdate(e,t,r){var a=x.indexOf(e);var n=y[t];if(!n){n=y[t]=[]}if(x.indexOf(e)===-1){x.push(e);a=x.length-1}n[a]=r;return a}function setVisibility(e,t){if(c.groupTitle&&!s)return;var r=e._fullInput;if(z.hasTransform(r,"groupby")){var a=_[r.index];if(!a){var n=z.getTransformIndices(r,"groupby");var i=n[n.length-1];a=E.keyedContainer(r,"transforms["+i+"].styles","target","value.visible");_[r.index]=a}var o=a.get(e._group);if(o===undefined){o=true}if(o!==false){a.set(e._group,t)}b[r.index]=insertUpdate(r.index,"visible",r.visible===false?false:true)}else{var l=r.visible===false?false:t;insertUpdate(r.index,"visible",l)}}if(z.traceIs(u,"pie-like")){var w=c.label;var T=o.indexOf(w);if(i==="toggle"){if(T===-1)o.push(w);else o.splice(T,1)}else if(i==="toggleothers"){o=[];e.calcdata[0].forEach(function(e){if(w!==e.label){o.push(e.label)}});if(e._fullLayout.hiddenlabels&&e._fullLayout.hiddenlabels.length===o.length&&T===-1){o=[]}}z.call("_guiRelayout",e,"hiddenlabels",o)}else{var k=f&&f.length;var N=[];var A;if(k){for(d=0;d<l.length;d++){A=l[d];if(!A.visible)continue;if(A.legendgroup===f){N.push(d)}}}if(i==="toggle"){var M;switch(u.visible){case true:M="legendonly";break;case false:M=false;break;case"legendonly":M=true;break}if(k){if(s){for(d=0;d<l.length;d++){if(l[d].visible!==false&&l[d].legendgroup===f){setVisibility(l[d],M)}}}else{setVisibility(u,M)}}else{setVisibility(u,M)}}else if(i==="toggleothers"){var S,C,L,D;var O=true;for(d=0;d<l.length;d++){S=l[d]===u;L=l[d].showlegend!==true;if(S||L)continue;C=k&&l[d].legendgroup===f;if(!C&&l[d].visible===true&&!z.traceIs(l[d],"notLegendIsolatable")){O=false;break}}for(d=0;d<l.length;d++){if(l[d].visible===false)continue;if(z.traceIs(l[d],"notLegendIsolatable")){continue}switch(u.visible){case"legendonly":setVisibility(l[d],true);break;case true:D=O?true:"legendonly";S=l[d]===u;L=l[d].showlegend!==true&&!l[d].legendgroup;C=S||k&&l[d].legendgroup===f;setVisibility(l[d],C||L?true:D);break}}}for(d=0;d<_.length;d++){h=_[d];if(!h)continue;var P=h.constructUpdate();var I=Object.keys(P);for(v=0;v<I.length;v++){p=I[v];m=y[p]=y[p]||[];m[b[d]]=P[p]}}g=Object.keys(y);for(d=0;d<g.length;d++){p=g[d];for(v=0;v<x.length;v++){if(!y[p].hasOwnProperty(v)){y[p][v]=undefined}}}z.call("_guiRestyle",e,y,x)}}},130:function(e,t){"use strict";t.isGrouped=function isGrouped(e){return(e.traceorder||"").indexOf("grouped")!==-1};t.isVertical=function isVertical(e){return e.orientation!=="h"};t.isReversed=function isReversed(e){return(e.traceorder||"").indexOf("reversed")!==-1}},2199:function(e,t,r){"use strict";e.exports={moduleType:"component",name:"legend",layoutAttributes:r(3030),supplyLayoutDefaults:r(9017),draw:r(3969),style:r(3630)}},3630:function(e,t,r){"use strict";var A=r(9898);var f=r(3972);var M=r(1828);var d=M.strTranslate;var S=r(1424);var b=r(7901);var C=r(2869).extractOpts;var L=r(4098);var v=r(3463);var h=r(3581).castOption;var a=r(4928);var y=12;var D=5;var O=2;var P=10;var I=5;e.exports=function style(e,w,x){var t=w._fullLayout;if(!x)x=t.legend;var m=x.itemsizing==="constant";var T=x.itemwidth;var r=(T+a.itemGap*2)/2;var _=d(r,0);var k=function(e,t,r,a){var n;if(e+1){n=e}else if(t&&t.width>0){n=t.width}else{return 0}return m?a:Math.min(n,r)};e.each(function(e){var t=A.select(this);var r=M.ensureSingle(t,"g","layers");r.style("opacity",e[0].trace.opacity);var a=x.valign;var n=e[0].lineHeight;var i=e[0].height;if(a==="middle"||!n||!i){r.attr("transform",null)}else{var o={top:1,bottom:-1}[a];var l=o*(.5*(n-i+3));r.attr("transform",d(0,l))}var s=r.selectAll("g.legendfill").data([e]);s.enter().append("g").classed("legendfill",true);var c=r.selectAll("g.legendlines").data([e]);c.enter().append("g").classed("legendlines",true);var u=r.selectAll("g.legendsymbols").data([e]);u.enter().append("g").classed("legendsymbols",true);u.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",true)}).each(styleSpatial).each(styleWaterfalls).each(styleFunnels).each(styleBars).each(styleBoxes).each(styleFunnelareas).each(stylePies).each(styleLines).each(stylePoints).each(styleCandles).each(styleOHLC);function styleLines(e){var t=getStyleGuide(e);var r=t.showFill;var a=t.showLine;var n=t.showGradientLine;var i=t.showGradientFill;var o=t.anyFill;var l=t.anyLine;var s=e[0];var c=s.trace;var u,f;var d=C(c);var v=d.colorscale;var h=d.reversescale;var p=function(e){if(e.size()){if(r){S.fillGroupStyle(e,w)}else{var t="legendfill-"+c.uid;S.gradient(e,w,t,getGradientDirection(h),v,"fill")}}};var g=function(e){if(e.size()){var t="legendline-"+c.uid;S.lineGroupStyle(e);S.gradient(e,w,t,getGradientDirection(h),v,"stroke")}};var m=L.hasMarkers(c)||!o?"M5,0":l?"M5,-2":"M5,-3";var y=A.select(this);var x=y.select(".legendfill").selectAll("path").data(r||i?[e]:[]);x.enter().append("path").classed("js-fill",true);x.exit().remove();x.attr("d",m+"h"+T+"v6h-"+T+"z").call(p);if(a||n){var _=k(undefined,c.line,P,D);f=M.minExtend(c,{line:{width:_}});u=[M.minExtend(s,{trace:f})]}var b=y.select(".legendlines").selectAll("path").data(a||n?[u]:[]);b.enter().append("path").classed("js-line",true);b.exit().remove();b.attr("d",m+(n?"l"+T+",0.0001":"h"+T)).call(a?S.lineGroupStyle:g)}function stylePoints(e){var t=getStyleGuide(e);var r=t.anyFill;var a=t.anyLine;var n=t.showLine;var i=t.showMarker;var o=e[0];var l=o.trace;var s=!i&&!a&&!r&&L.hasText(l);var c,u;function boundVal(e,t,r,a){var n=M.nestedProperty(l,e).get();var i=M.isArrayOrTypedArray(n)&&t?t(n):n;if(m&&i&&a!==undefined){i=a}if(r){if(i<r[0])return r[0];else if(i>r[1])return r[1]}return i}function pickFirst(e){if(o._distinct&&o.index&&e[o.index])return e[o.index];return e[0]}if(i||s||n){var f={};var d={};if(i){f.mc=boundVal("marker.color",pickFirst);f.mx=boundVal("marker.symbol",pickFirst);f.mo=boundVal("marker.opacity",M.mean,[.2,1]);f.mlc=boundVal("marker.line.color",pickFirst);f.mlw=boundVal("marker.line.width",M.mean,[0,5],O);d.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var v=boundVal("marker.size",M.mean,[2,16],y);f.ms=v;d.marker.size=v}if(n){d.line={width:boundVal("line.width",pickFirst,[0,10],D)}}if(s){f.tx="Aa";f.tp=boundVal("textposition",pickFirst);f.ts=10;f.tc=boundVal("textfont.color",pickFirst);f.tf=boundVal("textfont.family",pickFirst)}c=[M.minExtend(o,f)];u=M.minExtend(l,d);u.selectedpoints=null;u.texttemplate=null}var h=A.select(this).select("g.legendpoints");var p=h.selectAll("path.scatterpts").data(i?c:[]);p.enter().insert("path",":first-child").classed("scatterpts",true).attr("transform",_);p.exit().remove();p.call(S.pointStyle,u,w);if(i)c[0].mrc=3;var g=h.selectAll("g.pointtext").data(s?c:[]);g.enter().append("g").classed("pointtext",true).append("text").attr("transform",_);g.exit().remove();g.selectAll("text").call(S.textPointStyle,u,w)}function styleWaterfalls(e){var n=e[0].trace;var t=n.type==="waterfall";if(e[0]._distinct&&t){var r=e[0].trace[e[0].dir].marker;e[0].mc=r.color;e[0].mlw=r.line.width;e[0].mlc=r.line.color;return styleBarLike(e,this,"waterfall")}var a=[];if(n.visible&&t){a=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]}var i=A.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(a);i.enter().append("path").classed("legendwaterfall",true).attr("transform",_).style("stroke-miterlimit",1);i.exit().remove();i.each(function(e){var t=A.select(this);var r=n[e[0]].marker;var a=k(undefined,r.line,I,O);t.attr("d",e[1]).style("stroke-width",a+"px").call(b.fill,r.color);if(a){t.call(b.stroke,r.line.color)}})}function styleBars(e){styleBarLike(e,this)}function styleFunnels(e){styleBarLike(e,this,"funnel")}function styleBarLike(e,t,r){var g=e[0].trace;var m=g.marker||{};var y=m.line||{};var a=!r?f.traceIs(g,"bar"):g.visible&&g.type===r;var n=A.select(t).select("g.legendpoints").selectAll("path.legend"+r).data(a?[e]:[]);n.enter().append("path").classed("legend"+r,true).attr("d","M6,6H-6V-6H6Z").attr("transform",_);n.exit().remove();n.each(function(e){var t=A.select(this);var r=e[0];var a=k(r.mlw,m.line,I,O);t.style("stroke-width",a+"px");var n=r.mcc;if(!x._inHover&&"mc"in r){var i=C(m);var o=i.mid;if(o===undefined)o=(i.max+i.min)/2;n=S.tryColorscale(m,"")(o)}var l=n||r.mc||m.color;var s=m.pattern;var c=s&&S.getPatternAttr(s.shape,0,"");if(c){var u=S.getPatternAttr(s.bgcolor,0,null);var f=S.getPatternAttr(s.fgcolor,0,null);var d=s.fgopacity;var v=dimAttr(s.size,8,10);var h=dimAttr(s.solidity,.5,1);var p="legend-"+g.uid;t.call(S.pattern,"legend",w,p,c,v,h,n,s.fillmode,u,f,d)}else{t.call(b.fill,l)}if(a)b.stroke(t,r.mlc||y.color)})}function styleBoxes(e){var a=e[0].trace;var n=A.select(this).select("g.legendpoints").selectAll("path.legendbox").data(a.visible&&f.traceIs(a,"box-violin")?[e]:[]);n.enter().append("path").classed("legendbox",true).attr("d","M6,6H-6V-6H6Z").attr("transform",_);n.exit().remove();n.each(function(){var e=A.select(this);if((a.boxpoints==="all"||a.points==="all")&&b.opacity(a.fillcolor)===0&&b.opacity((a.line||{}).color)===0){var t=M.minExtend(a,{marker:{size:m?y:M.constrain(a.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});n.call(S.pointStyle,t,w)}else{var r=k(undefined,a.line,I,O);e.style("stroke-width",r+"px").call(b.fill,a.fillcolor);if(r)b.stroke(e,a.line.color)}})}function styleCandles(e){var i=e[0].trace;var t=A.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(i.visible&&i.type==="candlestick"?[e,e]:[]);t.enter().append("path").classed("legendcandle",true).attr("d",function(e,t){if(t)return"M-15,0H-8M-8,6V-6H8Z";return"M15,0H8M8,-6V6H-8Z"}).attr("transform",_).style("stroke-miterlimit",1);t.exit().remove();t.each(function(e,t){var r=A.select(this);var a=i[t?"increasing":"decreasing"];var n=k(undefined,a.line,I,O);r.style("stroke-width",n+"px").call(b.fill,a.fillcolor);if(n)b.stroke(r,a.line.color)})}function styleOHLC(e){var i=e[0].trace;var t=A.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(i.visible&&i.type==="ohlc"?[e,e]:[]);t.enter().append("path").classed("legendohlc",true).attr("d",function(e,t){if(t)return"M-15,0H0M-8,-6V0";return"M15,0H0M8,6V0"}).attr("transform",_).style("stroke-miterlimit",1);t.exit().remove();t.each(function(e,t){var r=A.select(this);var a=i[t?"increasing":"decreasing"];var n=k(undefined,a.line,I,O);r.style("fill","none").call(S.dashLine,a.line.dash,n);if(n)b.stroke(r,a.line.color)})}function stylePies(e){stylePieLike(e,this,"pie")}function styleFunnelareas(e){stylePieLike(e,this,"funnelarea")}function stylePieLike(e,t,r){var a=e[0];var n=a.trace;var i=!r?f.traceIs(n,r):n.visible&&n.type===r;var o=A.select(t).select("g.legendpoints").selectAll("path.legend"+r).data(i?[e]:[]);o.enter().append("path").classed("legend"+r,true).attr("d","M6,6H-6V-6H6Z").attr("transform",_);o.exit().remove();if(o.size()){var l=(n.marker||{}).line;var s=k(h(l.width,a.pts),l,I,O);var c=M.minExtend(n,{marker:{line:{width:s}}});c.marker.line.color=l.color;var u=M.minExtend(a,{trace:c});v(o,u,c)}}function styleSpatial(e){var u=e[0].trace;var f;var t=[];if(u.visible){switch(u.type){case"histogram2d":case"heatmap":t=[["M-15,-2V4H15V-2Z"]];f=true;break;case"choropleth":case"choroplethmapbox":t=[["M-6,-6V6H6V-6Z"]];f=true;break;case"densitymapbox":t=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]];f="radial";break;case"cone":t=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]];f=false;break;case"streamtube":t=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]];f=false;break;case"surface":t=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]];f=true;break;case"mesh3d":t=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]];f=false;break;case"volume":t=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]];f=true;break;case"isosurface":t=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]];f=false;break}}var r=A.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(t);r.enter().append("path").classed("legend3dandfriends",true).attr("transform",_).style("stroke-miterlimit",1);r.exit().remove();r.each(function(e,t){var r=A.select(this);var a=C(u);var n=a.colorscale;var i=a.reversescale;var o=function(e){if(e.size()){var t="legendfill-"+u.uid;S.gradient(e,w,t,getGradientDirection(i,f==="radial"),n,"fill")}};var l;if(!n){var s=u.vertexcolor||u.facecolor||u.color;l=M.isArrayOrTypedArray(s)?s[t]||s[0]:s}else{if(!f){var c=n.length;l=t===0?n[i?c-1:0][1]:t===1?n[i?0:c-1][1]:n[Math.floor((c-1)/2)][1]}}r.attr("d",e[0]);if(l){r.call(b.fill,l)}else{r.call(o)}})}};function getGradientDirection(e,t){var r=t?"radial":"horizontal";return r+(e?"":"reversed")}function getStyleGuide(e){var t=e[0].trace;var r=t.contours;var a=L.hasLines(t);var n=L.hasMarkers(t);var i=t.visible&&t.fill&&t.fill!=="none";var o=false;var l=false;if(r){var s=r.coloring;if(s==="lines"){o=true}else{a=s==="none"||s==="heatmap"||r.showlines}if(r.type==="constraint"){i=r._operation!=="="}else if(s==="fill"||s==="heatmap"){l=true}}return{showMarker:n,showLine:a,showFill:i,showGradientLine:o,showGradientFill:l,anyLine:a||o,anyFill:i||l}}function dimAttr(e,t,r){if(e&&M.isArrayOrTypedArray(e))return t;if(e>r)return r;return e}},2068:function(e,t,r){"use strict";var a=r(3348);e.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:true,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:true,dflt:"",editType:"modebar"}}},6023:function(e,t,r){"use strict";var y=r(3972);var a=r(4875);var x=r(1675);var n=r(4255);var i=r(4031).eraseActiveShape;var o=r(1828);var l=o._;var s=e.exports={};s.toImage={name:"toImage",title:function(e){var t=e._context.toImageButtonOptions||{};var r=t.format||"png";return r==="png"?l(e,"Download plot as a png"):l(e,"Download plot")},icon:n.camera,click:function(t){var r=t._context.toImageButtonOptions;var a={format:r.format||"png"};o.notifier(l(t,"Taking snapshot - this may take a few seconds"),"long");if(a.format!=="svg"&&o.isIE()){o.notifier(l(t,"IE only supports svg.  Changing format to svg."),"long");a.format="svg"}["filename","width","height","scale"].forEach(function(e){if(e in r){a[e]=r[e]}});y.call("downloadImage",t,a).then(function(e){o.notifier(l(t,"Snapshot succeeded")+" - "+e,"long")})["catch"](function(){o.notifier(l(t,"Sorry, there was a problem downloading your snapshot!"),"long")})}};s.sendDataToCloud={name:"sendDataToCloud",title:function(e){return l(e,"Edit in Chart Studio")},icon:n.disk,click:function(e){a.sendDataToCloud(e)}};s.editInChartStudio={name:"editInChartStudio",title:function(e){return l(e,"Edit in Chart Studio")},icon:n.pencil,click:function(e){a.sendDataToCloud(e)}};s.zoom2d={name:"zoom2d",_cat:"zoom",title:function(e){return l(e,"Zoom")},attr:"dragmode",val:"zoom",icon:n.zoombox,click:handleCartesian};s.pan2d={name:"pan2d",_cat:"pan",title:function(e){return l(e,"Pan")},attr:"dragmode",val:"pan",icon:n.pan,click:handleCartesian};s.select2d={name:"select2d",_cat:"select",title:function(e){return l(e,"Box Select")},attr:"dragmode",val:"select",icon:n.selectbox,click:handleCartesian};s.lasso2d={name:"lasso2d",_cat:"lasso",title:function(e){return l(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:n.lasso,click:handleCartesian};s.drawclosedpath={name:"drawclosedpath",title:function(e){return l(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:n.drawclosedpath,click:handleCartesian};s.drawopenpath={name:"drawopenpath",title:function(e){return l(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:n.drawopenpath,click:handleCartesian};s.drawline={name:"drawline",title:function(e){return l(e,"Draw line")},attr:"dragmode",val:"drawline",icon:n.drawline,click:handleCartesian};s.drawrect={name:"drawrect",title:function(e){return l(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:n.drawrect,click:handleCartesian};s.drawcircle={name:"drawcircle",title:function(e){return l(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:n.drawcircle,click:handleCartesian};s.eraseshape={name:"eraseshape",title:function(e){return l(e,"Erase active shape")},icon:n.eraseshape,click:i};s.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:n.zoom_plus,click:handleCartesian};s.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:n.zoom_minus,click:handleCartesian};s.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(e){return l(e,"Autoscale")},attr:"zoom",val:"auto",icon:n.autoscale,click:handleCartesian};s.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(e){return l(e,"Reset axes")},attr:"zoom",val:"reset",icon:n.home,click:handleCartesian};s.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(e){return l(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:n.tooltip_basic,gravity:"ne",click:handleCartesian};s.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(e){return l(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:n.tooltip_compare,gravity:"ne",click:handleCartesian};function handleCartesian(e,t){var r=t.currentTarget;var a=r.getAttribute("data-attr");var n=r.getAttribute("data-val")||true;var i=e._fullLayout;var o={};var l=x.list(e,null,true);var s=i._cartesianSpikesEnabled;var c,u;if(a==="zoom"){var f=n==="in"?.5:2;var d=(1+f)/2;var v=(1-f)/2;var h;for(u=0;u<l.length;u++){c=l[u];if(!c.fixedrange){h=c._name;if(n==="auto"){o[h+".autorange"]=true}else if(n==="reset"){if(c._rangeInitial===undefined){o[h+".autorange"]=true}else{var p=c._rangeInitial.slice();o[h+".range[0]"]=p[0];o[h+".range[1]"]=p[1]}if(c._showSpikeInitial!==undefined){o[h+".showspikes"]=c._showSpikeInitial;if(s==="on"&&!c._showSpikeInitial){s="off"}}}else{var g=[c.r2l(c.range[0]),c.r2l(c.range[1])];var m=[d*g[0]+v*g[1],d*g[1]+v*g[0]];o[h+".range[0]"]=c.l2r(m[0]);o[h+".range[1]"]=c.l2r(m[1])}}}}else{if(a==="hovermode"&&(n==="x"||n==="y")){n=i._isHoriz?"y":"x";r.setAttribute("data-val",n)}o[a]=n}i._cartesianSpikesEnabled=s;y.call("_guiRelayout",e,o)}s.zoom3d={name:"zoom3d",_cat:"zoom",title:function(e){return l(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:n.zoombox,click:handleDrag3d};s.pan3d={name:"pan3d",_cat:"pan",title:function(e){return l(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:n.pan,click:handleDrag3d};s.orbitRotation={name:"orbitRotation",title:function(e){return l(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:n["3d_rotate"],click:handleDrag3d};s.tableRotation={name:"tableRotation",title:function(e){return l(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:n["z-axis"],click:handleDrag3d};function handleDrag3d(e,t){var r=t.currentTarget;var a=r.getAttribute("data-attr");var n=r.getAttribute("data-val")||true;var i=e._fullLayout._subplots.gl3d||[];var o={};var l=a.split(".");for(var s=0;s<i.length;s++){o[i[s]+"."+l[1]]=n}var c=n==="pan"?n:"zoom";o.dragmode=c;y.call("_guiRelayout",e,o)}s.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(e){return l(e,"Reset camera to default")},attr:"resetDefault",icon:n.home,click:handleCamera3d};s.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(e){return l(e,"Reset camera to last save")},attr:"resetLastSave",icon:n.movie,click:handleCamera3d};function handleCamera3d(e,t){var r=t.currentTarget;var a=r.getAttribute("data-attr");var n=a==="resetLastSave";var i=a==="resetDefault";var o=e._fullLayout;var l=o._subplots.gl3d||[];var s={};for(var c=0;c<l.length;c++){var u=l[c];var f=u+".camera";var d=u+".aspectratio";var v=u+".aspectmode";var h=o[u]._scene;var p;if(n){s[f+".up"]=h.viewInitial.up;s[f+".eye"]=h.viewInitial.eye;s[f+".center"]=h.viewInitial.center;p=true}else if(i){s[f+".up"]=null;s[f+".eye"]=null;s[f+".center"]=null;p=true}if(p){s[d+".x"]=h.viewInitial.aspectratio.x;s[d+".y"]=h.viewInitial.aspectratio.y;s[d+".z"]=h.viewInitial.aspectratio.z;s[v]=h.viewInitial.aspectmode}}y.call("_guiRelayout",e,s)}s.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:true,icon:n.tooltip_basic,gravity:"ne",click:handleHover3d};function getNextHover3d(e,t){var r=t.currentTarget;var a=r._previousVal;var n=e._fullLayout;var i=n._subplots.gl3d||[];var o=["xaxis","yaxis","zaxis"];var l={};var s={};if(a){s=a;r._previousVal=null}else{for(var c=0;c<i.length;c++){var u=i[c];var f=n[u];var d=u+".hovermode";l[d]=f.hovermode;s[d]=false;for(var v=0;v<3;v++){var h=o[v];var p=u+"."+h+".showspikes";s[p]=false;l[p]=f[h].showspikes}}r._previousVal=l}return s}function handleHover3d(e,t){var r=getNextHover3d(e,t);y.call("_guiRelayout",e,r)}s.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:n.zoom_plus,click:handleGeo};s.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:n.zoom_minus,click:handleGeo};s.resetGeo={name:"resetGeo",_cat:"reset",title:function(e){return l(e,"Reset")},attr:"reset",val:null,icon:n.autoscale,click:handleGeo};s.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:true,icon:n.tooltip_basic,gravity:"ne",click:toggleHover};function handleGeo(e,t){var r=t.currentTarget;var a=r.getAttribute("data-attr");var n=r.getAttribute("data-val")||true;var i=e._fullLayout;var o=i._subplots.geo||[];for(var l=0;l<o.length;l++){var s=o[l];var c=i[s];if(a==="zoom"){var u=c.projection.scale;var f=n==="in"?2*u:.5*u;y.call("_guiRelayout",e,s+".projection.scale",f)}}if(a==="reset"){resetView(e,"geo")}}s.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:true,icon:n.tooltip_basic,gravity:"ne",click:toggleHover};s.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:n.tooltip_basic,gravity:"ne",click:toggleHover};function getNextHover(e){var t=e._fullLayout;if(t.hovermode)return false;if(t._has("cartesian")){return t._isHoriz?"y":"x"}return"closest"}function toggleHover(e){var t=getNextHover(e);y.call("_guiRelayout",e,"hovermode",t)}s.resetViewSankey={name:"resetSankeyGroup",title:function(e){return l(e,"Reset view")},icon:n.home,click:function(e){var t={"node.groups":[],"node.x":[],"node.y":[]};for(var r=0;r<e._fullData.length;r++){var a=e._fullData[r]._viewInitial;t["node.groups"].push(a.node.groups.slice());t["node.x"].push(a.node.x.slice());t["node.y"].push(a.node.y.slice())}y.call("restyle",e,t)}};s.toggleHover={name:"toggleHover",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:true,icon:n.tooltip_basic,gravity:"ne",click:function(e,t){var r=getNextHover3d(e,t);r.hovermode=getNextHover(e);y.call("_guiRelayout",e,r)}};s.resetViews={name:"resetViews",title:function(e){return l(e,"Reset views")},icon:n.home,click:function(e,t){var r=t.currentTarget;r.setAttribute("data-attr","zoom");r.setAttribute("data-val","reset");handleCartesian(e,t);r.setAttribute("data-attr","resetLastSave");handleCamera3d(e,t);resetView(e,"geo");resetView(e,"mapbox")}};s.toggleSpikelines={name:"toggleSpikelines",title:function(e){return l(e,"Toggle Spike Lines")},icon:n.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout;var r=t._cartesianSpikesEnabled;t._cartesianSpikesEnabled=r==="on"?"off":"on";y.call("_guiRelayout",e,setSpikelineVisibility(e))}};function setSpikelineVisibility(e){var t=e._fullLayout;var r=t._cartesianSpikesEnabled==="on";var a=x.list(e,null,true);var n={};for(var i=0;i<a.length;i++){var o=a[i];n[o._name+".showspikes"]=r?true:o._showSpikeInitial}return n}s.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(e){return l(e,"Reset view")},attr:"reset",icon:n.home,click:function(e){resetView(e,"mapbox")}};s.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:n.zoom_plus,click:handleMapboxZoom};s.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:n.zoom_minus,click:handleMapboxZoom};function handleMapboxZoom(e,t){var r=t.currentTarget;var a=r.getAttribute("data-val");var n=e._fullLayout;var i=n._subplots.mapbox||[];var o=1.05;var l={};for(var s=0;s<i.length;s++){var c=i[s];var u=n[c].zoom;var f=a==="in"?o*u:u/o;l[c+".zoom"]=f}y.call("_guiRelayout",e,l)}function resetView(e,t){var r=e._fullLayout;var a=r._subplots[t]||[];var n={};for(var i=0;i<a.length;i++){var o=a[i];var l=r[o]._subplot;var s=l.viewInitial;var c=Object.keys(s);for(var u=0;u<c.length;u++){var f=c[u];n[o+"."+f]=s[f]}}y.call("_guiRelayout",e,n)}},3348:function(e,t,r){"use strict";var a=r(6023);var n=Object.keys(a);var i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"];var o=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i);var l=[];var s=function(e){if(o.indexOf(e._cat||e.name)!==-1)return;var t=e.name;var r=(e._cat||e.name).toLowerCase();if(l.indexOf(t)===-1)l.push(t);if(l.indexOf(r)===-1)l.push(r)};n.forEach(function(e){s(a[e])});l.sort();e.exports={DRAW_MODES:i,backButtons:o,foreButtons:l}},5750:function(e,t,r){"use strict";var i=r(1828);var o=r(7901);var l=r(4467);var s=r(2068);e.exports=function supplyLayoutDefaults(e,t){var r=e.modebar||{};var a=l.newContainer(t,"modebar");function coerce(e,t){return i.coerce(r,a,s,e,t)}coerce("orientation");coerce("bgcolor",o.addOpacity(t.paper_bgcolor,.5));var n=o.contrast(o.rgb(t.modebar.bgcolor));coerce("color",o.addOpacity(n,.3));coerce("activecolor",o.addOpacity(n,.7));coerce("uirevision",t.uirevision);coerce("add");coerce("remove")}},4168:function(e,t,r){"use strict";e.exports={moduleType:"component",name:"modebar",layoutAttributes:r(2068),supplyLayoutDefaults:r(5750),manage:r(4192)}},4192:function(e,t,r){"use strict";var a=r(1675);var n=r(4098);var i=r(3972);var P=r(3469).isUnifiedHover;var o=r(7676);var I=r(6023);var R=r(3348).DRAW_MODES;var l=r(1828).extendDeep;e.exports=function manageModeBar(e){var t=e._fullLayout;var r=e._context;var a=t._modeBar;if(!r.displayModeBar&&!r.watermark){if(a){a.destroy();delete t._modeBar}return}if(!Array.isArray(r.modeBarButtonsToRemove)){throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "))}if(!Array.isArray(r.modeBarButtonsToAdd)){throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "))}var n=r.modeBarButtons;var i;if(Array.isArray(n)&&n.length){i=fillCustomButton(n)}else if(!r.displayModeBar&&r.watermark){i=[]}else{i=getButtonGroups(e)}if(a)a.update(e,i);else t._modeBar=o(e,i)};function getButtonGroups(e){var t=e._fullLayout;var r=e._fullData;var a=e._context;function match(e,t){if(typeof t==="string"){if(t.toLowerCase()===e.toLowerCase())return true}else{var r=t.name;var a=t._cat||t.name;if(r===e||a===e.toLowerCase())return true}return false}var n=t.modebar.add;if(typeof n==="string")n=[n];var i=t.modebar.remove;if(typeof i==="string")i=[i];var o=a.modeBarButtonsToAdd.concat(n.filter(function(e){for(var t=0;t<a.modeBarButtonsToRemove.length;t++){if(match(e,a.modeBarButtonsToRemove[t]))return false}return true}));var u=a.modeBarButtonsToRemove.concat(i.filter(function(e){for(var t=0;t<a.modeBarButtonsToAdd.length;t++){if(match(e,a.modeBarButtonsToAdd[t]))return false}return true}));var l=t._has("cartesian");var s=t._has("gl3d");var c=t._has("geo");var f=t._has("pie");var d=t._has("funnelarea");var v=t._has("gl2d");var h=t._has("ternary");var p=t._has("mapbox");var g=t._has("polar");var m=t._has("smith");var y=t._has("sankey");var x=areAllAxesFixed(t);var _=P(t.hovermode);var b=[];function addGroup(e){if(!e.length)return;var t=[];for(var r=0;r<e.length;r++){var a=e[r];var n=I[a];var i=n.name.toLowerCase();var o=(n._cat||n.name).toLowerCase();var l=false;for(var s=0;s<u.length;s++){var c=u[s].toLowerCase();if(c===i||c===o){l=true;break}}if(l)continue;t.push(I[a])}b.push(t)}var w=["toImage"];if(a.showEditInChartStudio)w.push("editInChartStudio");else if(a.showSendToCloud)w.push("sendDataToCloud");addGroup(w);var T=[];var k=[];var A=[];var M=[];if((l||v||f||d||h)+c+s+p+g+m>1){k=["toggleHover"];A=["resetViews"]}else if(c){T=["zoomInGeo","zoomOutGeo"];k=["hoverClosestGeo"];A=["resetGeo"]}else if(s){k=["hoverClosest3d"];A=["resetCameraDefault3d","resetCameraLastSave3d"]}else if(p){T=["zoomInMapbox","zoomOutMapbox"];k=["toggleHover"];A=["resetViewMapbox"]}else if(v){k=["hoverClosestGl2d"]}else if(f){k=["hoverClosestPie"]}else if(y){k=["hoverClosestCartesian","hoverCompareCartesian"];A=["resetViewSankey"]}else{k=["toggleHover"]}if(l){k=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]}if(hasNoHover(r)||_){k=[]}if((l||v)&&!x){T=["zoomIn2d","zoomOut2d","autoScale2d"];if(A[0]!=="resetViews")A=["resetScale2d"]}if(s){M=["zoom3d","pan3d","orbitRotation","tableRotation"]}else if((l||v)&&!x||h){M=["zoom2d","pan2d"]}else if(p||c){M=["pan2d"]}else if(g){M=["zoom2d"]}if(isSelectable(r)){M.push("select2d","lasso2d")}var S=[];var C=function(e){if(S.indexOf(e)!==-1)return;if(k.indexOf(e)!==-1){S.push(e)}};if(Array.isArray(o)){var L=[];for(var D=0;D<o.length;D++){var O=o[D];if(typeof O==="string"){O=O.toLowerCase();if(R.indexOf(O)!==-1){if(t._has("mapbox")||t._has("cartesian")){M.push(O)}}else if(O==="togglespikelines"){C("toggleSpikelines")}else if(O==="togglehover"){C("toggleHover")}else if(O==="hovercompare"){C("hoverCompareCartesian")}else if(O==="hoverclosest"){C("hoverClosestCartesian");C("hoverClosestGeo");C("hoverClosest3d");C("hoverClosestGl2d");C("hoverClosestPie")}else if(O==="v1hovermode"){C("toggleHover");C("hoverClosestCartesian");C("hoverCompareCartesian");C("hoverClosestGeo");C("hoverClosest3d");C("hoverClosestGl2d");C("hoverClosestPie")}}else L.push(O)}o=L}addGroup(M);addGroup(T.concat(A));addGroup(S);return appendButtonsToGroups(b,o)}function areAllAxesFixed(e){var t=a.list({_fullLayout:e},null,true);for(var r=0;r<t.length;r++){if(!t[r].fixedrange){return false}}return true}function isSelectable(e){var t=false;for(var r=0;r<e.length;r++){if(t)break;var a=e[r];if(!a._module||!a._module.selectPoints)continue;if(i.traceIs(a,"scatter-like")){if(n.hasMarkers(a)||n.hasText(a)){t=true}}else if(i.traceIs(a,"box-violin")){if(a.boxpoints==="all"||a.points==="all"){t=true}}else{t=true}}return t}function hasNoHover(e){for(var t=0;t<e.length;t++){if(!i.traceIs(e[t],"noHover"))return false}return true}function appendButtonsToGroups(e,t){if(t.length){if(Array.isArray(t[0])){for(var r=0;r<t.length;r++){e.push(t[r])}}else e.push(t)}return e}function fillCustomButton(e){var t=l([],e);for(var r=0;r<t.length;r++){var a=t[r];for(var n=0;n<a.length;n++){var i=a[n];if(typeof i==="string"){if(I[i]!==undefined){t[r][n]=I[i]}else{throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}}}}return t}},7676:function(e,t,r){"use strict";var s=r(9898);var f=r(2770);var d=r(1828);var l=r(4255);var a=r(1506).version;var v=new DOMParser;function ModeBar(e){this.container=e.container;this.element=document.createElement("div");this.element.setAttribute("nonce",cspnonce);this.update(e.graphInfo,e.buttons,cspnonce);this.container.appendChild(this.element)}var n=ModeBar.prototype;n.update=function(e,t){this.graphInfo=e;var r=this.graphInfo._context;var a=this.graphInfo._fullLayout;var n="modebar-"+a._uid;this.element.setAttribute("id",n);this._uid=n;this.element.className="modebar";if(r.displayModeBar==="hover")this.element.className+=" modebar--hover ease-bg";if(a.modebar.orientation==="v"){this.element.className+=" vertical";t=t.reverse()}var i=a.modebar;var o=r.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";d.deleteRelatedStyleRule(n);d.addRelatedStyleRule(n,o+"#"+n+" .modebar-group","background-color: "+i.bgcolor);d.addRelatedStyleRule(n,"#"+n+" .modebar-btn .icon path","fill: "+i.color);d.addRelatedStyleRule(n,"#"+n+" .modebar-btn:hover .icon path","fill: "+i.activecolor);d.addRelatedStyleRule(n,"#"+n+" .modebar-btn.active .icon path","fill: "+i.activecolor);var l=!this.hasButtons(t);var s=this.hasLogo!==r.displaylogo;var c=this.locale!==r.locale;this.locale=r.locale;if(l||s||c){this.removeAllButtons();this.updateButtons(t);if(r.watermark||r.displaylogo){var u=this.getLogo();if(r.watermark){u.className=u.className+" watermark"}if(a.modebar.orientation==="v"){this.element.insertBefore(u,this.element.childNodes[0])}else{this.element.appendChild(u)}this.hasLogo=true}}this.updateActiveButton()};n.updateButtons=function(e){var n=this;this.buttons=e;this.buttonElements=[];this.buttonsNames=[];this.buttons.forEach(function(e){var a=n.createGroup();e.forEach(function(e){var t=e.name;if(!t){throw new Error("must provide button 'name' in button config")}if(n.buttonsNames.indexOf(t)!==-1){throw new Error("button name '"+t+"' is taken")}n.buttonsNames.push(t);var r=n.createButton(e);n.buttonElements.push(r);a.appendChild(r)});n.element.appendChild(a)})};n.createGroup=function(){var e=document.createElement("div");e.className="modebar-group";return e};n.createButton=function(t){var r=this;var e=document.createElement("a");e.setAttribute("rel","tooltip");e.className="modebar-btn";var a=t.title;if(a===undefined)a=t.name;else if(typeof a==="function")a=a(this.graphInfo);if(a||a===0)e.setAttribute("data-title",a);if(t.attr!==undefined)e.setAttribute("data-attr",t.attr);var n=t.val;if(n!==undefined){if(typeof n==="function")n=n(this.graphInfo);e.setAttribute("data-val",n)}var i=t.click;if(typeof i!=="function"){throw new Error("must provide button 'click' function in button config")}else{e.addEventListener("click",function(e){t.click(r.graphInfo,e);r.updateActiveButton(e.currentTarget)})}e.setAttribute("data-toggle",t.toggle||false);if(t.toggle)s.select(e).classed("active",true);var o=t.icon;if(typeof o==="function"){e.appendChild(o())}else{e.appendChild(this.createIcon(o||l.question))}e.setAttribute("data-gravity",t.gravity||"n");return e};n.createIcon=function(e){var t=f(e.height)?Number(e.height):e.ascent-e.descent;var r="http://www.w3.org/2000/svg";var a;if(e.path){a=document.createElementNS(r,"svg");a.setAttribute("viewBox",[0,0,e.width,t].join(" "));a.setAttribute("class","icon");var n=document.createElementNS(r,"path");n.setAttribute("d",e.path);if(e.transform){n.setAttribute("transform",e.transform)}else if(e.ascent!==undefined){n.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")")}a.appendChild(n)}if(e.svg){var i=document.createElement("div");i.innerHTML=e.svg;var o=i.getElementsByTagName("style");var l=[];for(var s=0;s<o.length;s++){var c=o[s];l.push(c.outerHTML);c.parentNode.removeChild(c)}e.svg=i.innerHTML;var u=v.parseFromString(e.svg,"application/xml");a=u.childNodes[0];for(var s=0;s<l.length;s++){var c=document.createElement("style");c.setAttribute("nonce","76d91804-26e2-44c3-bdd9-35cb013ffb8b");c.innerHTML=l[s];a.insertBefore(c,a.firstChild)}}a.setAttribute("height","1em");a.setAttribute("width","1em");return a};n.updateActiveButton=function(e){var o=this.graphInfo._fullLayout;var l=e!==undefined?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var t=e.getAttribute("data-val")||true;var r=e.getAttribute("data-attr");var a=e.getAttribute("data-toggle")==="true";var n=s.select(e);if(a){if(r===l){n.classed("active",!n.classed("active"))}}else{var i=r===null?r:d.nestedProperty(o,r).get();n.classed("active",i===t)}})};n.hasButtons=function(e){var t=this.buttons;if(!t)return false;if(e.length!==t.length)return false;for(var r=0;r<e.length;++r){if(e[r].length!==t[r].length)return false;for(var a=0;a<e[r].length;a++){if(e[r][a].name!==t[r][a].name)return false}}return true};function jsVersion(e){return e+" (v"+a+")"}n.getLogo=function(){var e=this.createGroup();var t=document.createElement("a");t.href="https://plotly.com/";t.target="_blank";t.setAttribute("data-title",jsVersion(d._(this.graphInfo,"Produced with Plotly.js")));t.className="modebar-btn plotlyjsicon modebar-btn--logo";t.appendChild(this.createIcon(l.newplotlylogo));e.appendChild(t);return e};n.removeAllButtons=function(){while(this.element.firstChild){this.element.removeChild(this.element.firstChild)}this.hasLogo=false};n.destroy=function(){d.removeElement(this.container.querySelector(".modebar"));d.deleteRelatedStyleRule(this._uid)};function createModeBar(e,t){var r=e._fullLayout;var a=new ModeBar({graphInfo:e,container:r._modebardiv.node(),buttons:t});if(r._privateplot){s.select(a.element).append("span").classed("badge-private float--left",true).text("PRIVATE")}return a}e.exports=createModeBar},7113:function(e,t,r){"use strict";var a=r(1940);var n=r(2399);var i=r(4467).templatedArray;var o=i("button",{visible:{valType:"boolean",dflt:true,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});e.exports={visible:{valType:"boolean",editType:"plot"},buttons:o,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:a({editType:"plot"}),bgcolor:{valType:"color",dflt:n.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:n.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},9573:function(e){"use strict";e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},8674:function(e,t,r){"use strict";var f=r(1828);var d=r(7901);var v=r(4467);var h=r(5501);var p=r(7113);var g=r(9573);e.exports=function handleDefaults(e,t,r,a,n){var i=e.rangeselector||{};var o=v.newContainer(t,"rangeselector");function coerce(e,t){return f.coerce(i,o,p,e,t)}var l=h(i,o,{name:"buttons",handleItemDefaults:buttonDefaults,calendar:n});var s=coerce("visible",l.length>0);if(s){var c=getPosDflt(t,r,a);coerce("x",c[0]);coerce("y",c[1]);f.noneOrAll(e,t,["x","y"]);coerce("xanchor");coerce("yanchor");f.coerceFont(coerce,"font",r.font);var u=coerce("bgcolor");coerce("activecolor",d.contrast(u,g.lightAmount,g.darkAmount));coerce("bordercolor");coerce("borderwidth")}};function buttonDefaults(r,a,e,t){var n=t.calendar;function coerce(e,t){return f.coerce(r,a,p.buttons,e,t)}var i=coerce("visible");if(i){var o=coerce("step");if(o!=="all"){if(n&&n!=="gregorian"&&(o==="month"||o==="year")){a.stepmode="backward"}else{coerce("stepmode")}coerce("count")}coerce("label")}}function getPosDflt(t,r,e){var a=e.filter(function(e){return r[e].anchor===t._id});var n=0;for(var i=0;i<a.length;i++){var o=r[a[i]].domain;if(o)n=Math.max(o[1],n)}return[t.domain[0],n+g.yPad]}},1598:function(e,t,r){"use strict";var v=r(9898);var o=r(3972);var h=r(4875);var n=r(7901);var p=r(1424);var g=r(1828);var m=g.strTranslate;var y=r(3893);var i=r(1675);var a=r(8783);var x=a.LINE_SPACING;var _=a.FROM_TL;var b=a.FROM_BR;var w=r(9573);var l=r(7917);e.exports=function draw(i){var e=i._fullLayout;var t=e._infolayer.selectAll(".rangeselector").data(makeSelectorData(i),selectorKeyFunc);t.enter().append("g").classed("rangeselector",true);t.exit().remove();t.style({cursor:"pointer","pointer-events":"all"});t.each(function(e){var t=v.select(this);var a=e;var n=a.rangeselector;var r=t.selectAll("g.button").data(g.filterVisible(n.buttons));r.enter().append("g").classed("button",true);r.exit().remove();r.each(function(e){var t=v.select(this);var r=l(a,e);e._isActive=isActive(a,e,r);t.call(drawButtonRect,n,e);t.call(drawButtonText,n,e,i);t.on("click",function(){if(i._dragged)return;o.call("_guiRelayout",i,r)});t.on("mouseover",function(){e._isHovered=true;t.call(drawButtonRect,n,e)});t.on("mouseout",function(){e._isHovered=false;t.call(drawButtonRect,n,e)})});reposition(i,r,n,a._name,t)})};function makeSelectorData(e){var t=i.list(e,"x",true);var r=[];for(var a=0;a<t.length;a++){var n=t[a];if(n.rangeselector&&n.rangeselector.visible){r.push(n)}}return r}function selectorKeyFunc(e){return e._id}function isActive(e,t,r){if(t.step==="all"){return e.autorange===true}else{var a=Object.keys(r);return e.range[0]===r[a[0]]&&e.range[1]===r[a[1]]}}function drawButtonRect(e,t,r){var a=g.ensureSingle(e,"rect","selector-rect",function(e){e.attr("shape-rendering","crispEdges")});a.attr({rx:w.rx,ry:w.ry});a.call(n.stroke,t.bordercolor).call(n.fill,getFillColor(t,r)).style("stroke-width",t.borderwidth+"px")}function getFillColor(e,t){return t._isActive||t._isHovered?e.activecolor:e.bgcolor}function drawButtonText(e,t,r,a){function textLayout(e){y.convertToTspans(e,a)}var n=g.ensureSingle(e,"text","selector-text",function(e){e.attr("text-anchor","middle")});n.call(p.font,t.font).text(getLabel(r,a._fullLayout._meta)).call(textLayout)}function getLabel(e,t){if(e.label){return t?g.templateString(e.label,t):e.label}if(e.step==="all")return"all";return e.count+e.step.charAt(0)}function reposition(e,t,l,r,a){var s=0;var c=0;var u=l.borderwidth;t.each(function(){var e=v.select(this);var t=e.select(".selector-text");var r=l.font.size*x;var a=Math.max(r*y.lineCount(t),16)+3;c=Math.max(c,a)});t.each(function(){var e=v.select(this);var t=e.select(".selector-rect");var r=e.select(".selector-text");var a=r.node()&&p.bBox(r.node()).width;var n=l.font.size*x;var i=y.lineCount(r);var o=Math.max(a+10,w.minButtonWidth);e.attr("transform",m(u+s,u));t.attr({x:0,y:0,width:o,height:c});y.positionText(r,o/2,c/2-(i-1)*n/2+3);s+=o+5});var n=e._fullLayout._size;var i=n.l+n.w*l.x;var o=n.t+n.h*(1-l.y);var f="left";if(g.isRightAnchor(l)){i-=s;f="right"}if(g.isCenterAnchor(l)){i-=s/2;f="center"}var d="top";if(g.isBottomAnchor(l)){o-=c;d="bottom"}if(g.isMiddleAnchor(l)){o-=c/2;d="middle"}s=Math.ceil(s);c=Math.ceil(c);i=Math.round(i);o=Math.round(o);h.autoMargin(e,r+"-range-selector",{x:l.x,y:l.y,l:s*_[f],r:s*b[f],b:c*b[d],t:c*_[d]});a.attr("transform",m(i,o))}},7917:function(e,t,r){"use strict";var u=r(1041);var f=r(1828).titleCase;e.exports=function getUpdateObject(e,t){var r=e._name;var a={};if(t.step==="all"){a[r+".autorange"]=true}else{var n=getXRange(e,t);a[r+".range[0]"]=n[0];a[r+".range[1]"]=n[1]}return a};function getXRange(e,t){var r=e.range;var a=new Date(e.r2l(r[1]));var n=t.step;var i=u["utc"+f(n)];var o=t.count;var l;switch(t.stepmode){case"backward":l=e.l2r(+i.offset(a,-o));break;case"todate":var s=i.offset(a,-o);l=e.l2r(+i.ceil(s));break}var c=r[1];return[l,c]}},7218:function(e,t,r){"use strict";e.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r(7113)}}},layoutAttributes:r(7113),handleDefaults:r(8674),draw:r(1598)}},5148:function(e,t,r){"use strict";var a=r(2399);e.exports={bgcolor:{valType:"color",dflt:a.background,editType:"plot"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:true,editType:"calc",impliedEdits:{"range[0]":undefined,"range[1]":undefined}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":false}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":false}}],editType:"calc",impliedEdits:{autorange:false}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:true,editType:"calc"},editType:"calc"}},8443:function(e,t,r){"use strict";var i=r(1675).list;var o=r(1739).getAutoRange;var l=r(3251);e.exports=function calcAutorange(e){var t=i(e,"x",true);for(var r=0;r<t.length;r++){var a=t[r];var n=a[l.name];if(n&&n.visible&&n.autorange){n._input.autorange=true;n._input.range=n.range=o(e,a)}}}},3251:function(e){"use strict";e.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},6377:function(e,t,r){"use strict";var y=r(1828);var x=r(4467);var _=r(1675);var b=r(5148);var w=r(7850);e.exports=function handleDefaults(e,t,r){var a=e[r];var n=t[r];if(!(a.rangeslider||t._requestRangeslider[n._id]))return;if(!y.isPlainObject(a.rangeslider)){a.rangeslider={}}var i=a.rangeslider;var o=x.newContainer(n,"rangeslider");function coerce(e,t){return y.coerce(i,o,b,e,t)}var l,s;function coerceRange(e,t){return y.coerce(l,s,w,e,t)}var c=coerce("visible");if(!c)return;coerce("bgcolor",t.plot_bgcolor);coerce("bordercolor");coerce("borderwidth");coerce("thickness");coerce("autorange",!n.isValidRange(i.range));coerce("range");var u=t._subplots;if(u){var f=u.cartesian.filter(function(e){return e.substr(0,e.indexOf("y"))===_.name2id(r)}).map(function(e){return e.substr(e.indexOf("y"),e.length)});var d=y.simpleMap(f,_.id2name);for(var v=0;v<d.length;v++){var h=d[v];l=i[h]||{};s=x.newContainer(o,h,"yaxis");var p=t[h];var g;if(l.range&&p.isValidRange(l.range)){g="fixed"}var m=coerceRange("rangemode",g);if(m!=="match"){coerceRange("range",p.range.slice())}}}o._input=i}},2413:function(e,t,r){"use strict";var M=r(9898);var o=r(3972);var g=r(4875);var S=r(1828);var C=S.strTranslate;var s=r(1424);var v=r(7901);var L=r(2998);var m=r(3612);var D=r(1675);var a=r(8569);var _=r(6964);var O=r(3251);e.exports=function(k){var A=k._fullLayout;var e=A._rangeSliderData;for(var t=0;t<e.length;t++){var r=e[t][O.name];r._clipId=r._id+"-"+A._uid}function keyFunction(e){return e._name}var a=A._infolayer.selectAll("g."+O.containerClassName).data(e,keyFunction);a.exit().each(function(e){var t=e[O.name];A._topdefs.select("#"+t._clipId).remove()}).remove();if(e.length===0)return;a.enter().append("g").classed(O.containerClassName,true).attr("pointer-events","all");a.each(function(e){var t=M.select(this);var r=e[O.name];var a=A[D.id2name(e.anchor)];var n=r[D.id2name(e.anchor)];if(r.range){var i=S.simpleMap(r.range,e.r2l);var o=S.simpleMap(e.range,e.r2l);var l;if(o[0]<o[1]){l=[Math.min(i[0],o[0]),Math.max(i[1],o[1])]}else{l=[Math.max(i[0],o[0]),Math.min(i[1],o[1])]}r.range=r._input.range=S.simpleMap(l,e.l2r)}e.cleanRange("rangeslider.range");var s=A._size;var c=e.domain;r._width=s.w*(c[1]-c[0]);var u=Math.round(s.l+s.w*c[0]);var f=Math.round(s.t+s.h*(1-e._counterDomainMin)+(e.side==="bottom"?e._depth:0)+r._offsetShift+O.extraPad);t.attr("transform",C(u,f));r._rl=S.simpleMap(r.range,e.r2l);var d=r._rl[0];var v=r._rl[1];var h=v-d;r.p2d=function(e){return e/r._width*h+d};r.d2p=function(e){return(e-d)/h*r._width};if(e.rangebreaks){var p=e.locateBreaks(d,v);if(p.length){var g,m;var y=0;for(g=0;g<p.length;g++){m=p[g];y+=m.max-m.min}var x=r._width/(v-d-y);var _=[-x*d];for(g=0;g<p.length;g++){m=p[g];_.push(_[_.length-1]-x*(m.max-m.min))}r.d2p=function(e){var t=_[0];for(var r=0;r<p.length;r++){var a=p[r];if(e>=a.max)t=_[r+1];else if(e<a.min)break}return t+x*e};for(g=0;g<p.length;g++){m=p[g];m.pmin=r.d2p(m.min);m.pmax=r.d2p(m.max)}r.p2d=function(e){var t=_[0];for(var r=0;r<p.length;r++){var a=p[r];if(e>=a.pmax)t=_[r+1];else if(e<a.pmin)break}return(e-t)/x}}}if(n.rangemode!=="match"){var b=a.r2l(n.range[0]);var w=a.r2l(n.range[1]);var T=w-b;r.d2pOppAxis=function(e){return(e-b)/T*r._height}}t.call(drawBg,k,e,r).call(addClipPath,k,e,r).call(drawRangePlot,k,e,r).call(drawMasks,k,e,r,n).call(drawSlideBox,k,e,r).call(drawGrabbers,k,e,r);setupDragElement(t,k,e,r);setPixelRange(t,k,e,r,a,n);if(e.side==="bottom"){L.draw(k,e._id+"title",{propContainer:e,propName:e._name+".title",placeholder:A._dfltTitle.x,attributes:{x:e._offset+e._length/2,y:f+r._height+r._offsetShift+10+1.5*e.title.font.size,"text-anchor":"middle"}})}})};function setupDragElement(v,h,p,g){if(h._context.staticPlot)return;var m=v.select("rect."+O.slideBoxClassName).node();var y=v.select("rect."+O.grabAreaMinClassName).node();var x=v.select("rect."+O.grabAreaMaxClassName).node();function mouseDownHandler(){var e=M.event;var l=e.target;var s=e.clientX||e.touches[0].clientX;var c=s-v.node().getBoundingClientRect().left;var u=g.d2p(p._rl[0]);var f=g.d2p(p._rl[1]);var d=a.coverSlip();this.addEventListener("touchmove",mouseMove);this.addEventListener("touchend",mouseUp);d.addEventListener("mousemove",mouseMove);d.addEventListener("mouseup",mouseUp);function mouseMove(e){var t=e.clientX||e.touches[0].clientX;var r=+t-s;var a,n,i;switch(l){case m:i="ew-resize";if(u+r>p._length||f+r<0){return}a=u+r;n=f+r;break;case y:i="col-resize";if(u+r>p._length){return}a=u+r;n=f;break;case x:i="col-resize";if(f+r<0){return}a=u;n=f+r;break;default:i="ew-resize";a=c;n=c+r;break}if(n<a){var o=n;n=a;a=o}g._pixelMin=a;g._pixelMax=n;_(M.select(d),i);setDataRange(v,h,p,g)}function mouseUp(){d.removeEventListener("mousemove",mouseMove);d.removeEventListener("mouseup",mouseUp);this.removeEventListener("touchmove",mouseMove);this.removeEventListener("touchend",mouseUp);S.removeElement(d)}}v.on("mousedown",mouseDownHandler);v.on("touchstart",mouseDownHandler)}function setDataRange(e,t,r,a){function clamp(e){return r.l2r(S.constrain(e,a._rl[0],a._rl[1]))}var n=clamp(a.p2d(a._pixelMin));var i=clamp(a.p2d(a._pixelMax));window.requestAnimationFrame(function(){o.call("_guiRelayout",t,r._name+".range",[n,i])})}function setPixelRange(e,t,r,a,n,i){var o=O.handleWidth/2;function clamp(e){return S.constrain(e,0,a._width)}function clampOppAxis(e){return S.constrain(e,0,a._height)}function clampHandle(e){return S.constrain(e,-o,a._width+o)}var l=clamp(a.d2p(r._rl[0]));var s=clamp(a.d2p(r._rl[1]));e.select("rect."+O.slideBoxClassName).attr("x",l).attr("width",s-l);e.select("rect."+O.maskMinClassName).attr("width",l);e.select("rect."+O.maskMaxClassName).attr("x",s).attr("width",a._width-s);if(i.rangemode!=="match"){var c=a._height-clampOppAxis(a.d2pOppAxis(n._rl[1]));var u=a._height-clampOppAxis(a.d2pOppAxis(n._rl[0]));e.select("rect."+O.maskMinOppAxisClassName).attr("x",l).attr("height",c).attr("width",s-l);e.select("rect."+O.maskMaxOppAxisClassName).attr("x",l).attr("y",u).attr("height",a._height-u).attr("width",s-l);e.select("rect."+O.slideBoxClassName).attr("y",c).attr("height",u-c)}var f=.5;var d=Math.round(clampHandle(l-o))-f;var v=Math.round(clampHandle(s-o))+f;e.select("g."+O.grabberMinClassName).attr("transform",C(d,f));e.select("g."+O.grabberMaxClassName).attr("transform",C(v,f))}function drawBg(e,t,r,a){var n=S.ensureSingle(e,"rect",O.bgClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})});var i=a.borderwidth%2===0?a.borderwidth:a.borderwidth-1;var o=-a._offsetShift;var l=s.crispRound(t,a.borderwidth);n.attr({width:a._width+i,height:a._height+i,transform:C(o,o),"stroke-width":l}).call(v.stroke,a.bordercolor).call(v.fill,a.bgcolor)}function addClipPath(e,t,r,a){var n=t._fullLayout;var i=S.ensureSingleById(n._topdefs,"clipPath",a._clipId,function(e){e.append("rect").attr({x:0,y:0})});i.select("rect").attr({width:a._width,height:a._height})}function drawRangePlot(e,f,d,v){var h=f.calcdata;var t=e.selectAll("g."+O.rangePlotClassName).data(d._subplotsWith,S.identity);t.enter().append("g").attr("class",function(e){return O.rangePlotClassName+" "+e}).call(s.setClipUrl,v._clipId,f);t.order();t.exit().remove();var p;t.each(function(e,t){var r=M.select(this);var a=t===0;var n=D.getFromId(f,e,"y");var i=n._name;var o=v[i];var l={data:[],layout:{xaxis:{type:d.type,domain:[0,1],range:v.range.slice(),calendar:d.calendar},width:v._width,height:v._height,margin:{t:0,b:0,l:0,r:0}},_context:f._context};if(d.rangebreaks){l.layout.xaxis.rangebreaks=d.rangebreaks}l.layout[i]={type:n.type,domain:[0,1],range:o.rangemode!=="match"?o.range.slice():n.range.slice(),calendar:n.calendar};if(n.rangebreaks){l.layout[i].rangebreaks=n.rangebreaks}g.supplyDefaults(l);var s=l._fullLayout.xaxis;var c=l._fullLayout[i];s.clearCalc();s.setScale();c.clearCalc();c.setScale();var u={id:e,plotgroup:r,xaxis:s,yaxis:c,isRangePlot:true};if(a)p=u;else{u.mainplot="xy";u.mainplotinfo=p}m.rangePlot(f,u,filterRangePlotCalcData(h,e))})}function filterRangePlotCalcData(e,t){var r=[];for(var a=0;a<e.length;a++){var n=e[a];var i=n[0].trace;if(i.xaxis+i.yaxis===t){r.push(n)}}return r}function drawMasks(e,t,r,a,n){var i=S.ensureSingle(e,"rect",O.maskMinClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})});i.attr("height",a._height).call(v.fill,O.maskColor);var o=S.ensureSingle(e,"rect",O.maskMaxClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})});o.attr("height",a._height).call(v.fill,O.maskColor);if(n.rangemode!=="match"){var l=S.ensureSingle(e,"rect",O.maskMinOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})});l.attr("width",a._width).call(v.fill,O.maskOppAxisColor);var s=S.ensureSingle(e,"rect",O.maskMaxOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})});s.attr("width",a._width).style("border-top",O.maskOppBorder).call(v.fill,O.maskOppAxisColor)}}function drawSlideBox(e,t,r,a){if(t._context.staticPlot)return;var n=S.ensureSingle(e,"rect",O.slideBoxClassName,function(e){e.attr({y:0,cursor:O.slideBoxCursor,"shape-rendering":"crispEdges"})});n.attr({height:a._height,fill:O.slideBoxFill})}function drawGrabbers(e,t,r,a){var n=S.ensureSingle(e,"g",O.grabberMinClassName);var i=S.ensureSingle(e,"g",O.grabberMaxClassName);var o={x:0,width:O.handleWidth,rx:O.handleRadius,fill:v.background,stroke:v.defaultLine,"stroke-width":O.handleStrokeWidth,"shape-rendering":"crispEdges"};var l={y:Math.round(a._height/4),height:Math.round(a._height/2)};var s=S.ensureSingle(n,"rect",O.handleMinClassName,function(e){e.attr(o)});s.attr(l);var c=S.ensureSingle(i,"rect",O.handleMaxClassName,function(e){e.attr(o)});c.attr(l);var u={width:O.grabAreaWidth,x:0,y:0,fill:O.grabAreaFill,cursor:!t._context.staticPlot?O.grabAreaCursor:undefined};var f=S.ensureSingle(n,"rect",O.grabAreaMinClassName,function(e){e.attr(u)});f.attr("height",a._height);var d=S.ensureSingle(i,"rect",O.grabAreaMaxClassName,function(e){e.attr(u)});d.attr("height",a._height)}},549:function(e,t,r){"use strict";var l=r(1675);var s=r(3893);var c=r(3251);var u=r(8783).LINE_SPACING;var f=c.name;function isVisible(e){var t=e&&e[f];return t&&t.visible}t.isVisible=isVisible;t.makeData=function(e){var t=l.list({_fullLayout:e},"x",true);var r=e.margin;var a=[];if(!e._has("gl2d")){for(var n=0;n<t.length;n++){var i=t[n];if(isVisible(i)){a.push(i);var o=i[f];o._id=f+i._id;o._height=(e.height-r.b-r.t)*o.thickness;o._offsetShift=Math.floor(o.borderwidth/2)}}}e._rangeSliderData=a};t.autoMarginOpts=function(e,t){var r=e._fullLayout;var a=t[f];var n=t._id.charAt(0);var i=0;var o=0;if(t.side==="bottom"){i=t._depth;if(t.title.text!==r._dfltTitle[n]){o=1.5*t.title.font.size+10+a._offsetShift;var l=(t.title.text.match(s.BR_TAG_ALL)||[]).length;o+=l*t.title.font.size*u}}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:a._height+i+Math.max(r.margin.b,o),pad:c.extraPad+a._offsetShift*2}}},3137:function(e,t,r){"use strict";var a=r(1828);var n=r(5148);var i=r(7850);var o=r(549);e.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:a.extendFlat({},n,{yaxis:i})}}},layoutAttributes:r(5148),handleDefaults:r(6377),calcAutorange:r(8443),draw:r(2413),isVisible:o.isVisible,makeData:o.makeData,autoMarginOpts:o.autoMarginOpts}},7850:function(e){"use strict";e.exports={_isSubplotObj:true,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(e,t,r){"use strict";var a=r(215);var n=r(2196).line;var i=r(9952).P;var o=r(1426).extendFlat;var l=r(962).overrideAll;var s=r(4467).templatedArray;var c=r(4695);e.exports=l(s("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:o({},a.xref,{}),yref:o({},a.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:n.color,width:o({},n.width,{min:1,dflt:1}),dash:o({},i,{dflt:"dot"})}}),"arraydraw","from-root")},4122:function(e){"use strict";e.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},9402:function(e,t,r){"use strict";var b=r(1828);var w=r(9298);var i=r(5501);var T=r(8389);var k=r(477);e.exports=function supplyLayoutDefaults(e,t){i(e,t,{name:"selections",handleItemDefaults:handleSelectionDefaults});var r=t.selections;for(var a=0;a<r.length;a++){var n=r[a];if(!n)continue;if(n.path===undefined){if(n.x0===undefined||n.x1===undefined||n.y0===undefined||n.y1===undefined){t.selections[a]=null}}}};function handleSelectionDefaults(r,a,e){function coerce(e,t){return b.coerce(r,a,T,e,t)}var t=coerce("path");var n=t?"path":"rect";var i=coerce("type",n);var o=i!=="path";if(o)delete a.path;coerce("opacity");coerce("line.color");coerce("line.width");coerce("line.dash");var l=["x","y"];for(var s=0;s<2;s++){var c=l[s];var u={_fullLayout:e};var f;var d;var v;var h=w.coerceRef(r,a,u,c);f=w.getFromId(u,h);f._selectionIndices.push(a._index);v=k.rangeToShapePosition(f);d=k.shapePositionToRange(f);if(o){var p=c+"0";var g=c+"1";var m=r[p];var y=r[g];r[p]=d(r[p],true);r[g]=d(r[g],true);w.coercePosition(a,u,coerce,h,p);w.coercePosition(a,u,coerce,h,g);var x=a[p];var _=a[g];if(x!==undefined&&_!==undefined){a[p]=v(x);a[g]=v(_);r[p]=m;r[g]=y}}}if(o){b.noneOrAll(r,a,["x0","x1","y0","y1"])}}},2485:function(e,t,r){"use strict";var b=r(165).readPaths;var w=r(2359);var i=r(1873).clearOutlineControllers;var T=r(7901);var k=r(1424);var A=r(4467).arrayEditor;var a=r(477);var M=a.getPathString;e.exports={draw:draw,drawOne:drawOne,activateLastSelection:activateLastSelection};function draw(e){var t=e._fullLayout;i(e);t._selectionLayer.selectAll("path").remove();for(var r in t._plots){var a=t._plots[r].selectionLayer;if(a)a.selectAll("path").remove()}for(var n=0;n<t.selections.length;n++){drawOne(e,n)}}function couldHaveActiveSelection(e){return e._context.editSelection}function drawOne(m,y){m._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+y+'"]').remove();var e=a.makeSelectionsOptionsAndPlotinfo(m,y);var x=e.options;var _=e.plotinfo;if(!x._input)return;drawSelection(m._fullLayout._selectionLayer);function drawSelection(e){var t=M(m,x);var r={"data-index":y,"fill-rule":"evenodd",d:t};var a=x.opacity;var n="rgba(0,0,0,0)";var i=x.line.color||T.contrast(m._fullLayout.plot_bgcolor);var o=x.line.width;var l=x.line.dash;if(!o){o=5;l="solid"}var s=couldHaveActiveSelection(m)&&m._fullLayout._activeSelectionIndex===y;if(s){n=m._fullLayout.activeselection.fillcolor;a=m._fullLayout.activeselection.opacity}var c=[];for(var u=1;u>=0;u--){var f=e.append("path").attr(r).style("opacity",u?.1:a).call(T.stroke,i).call(T.fill,n).call(k.dashLine,u?"solid":l,u?4+o:o);setClipPath(f,m,x);if(s){var d=A(m.layout,"selections",x);f.style({cursor:"move"});var v={element:f.node(),plotinfo:_,gd:m,editHelpers:d,isActiveSelection:true};var h=b(t,m);w(h,f,v)}else{f.style("pointer-events",u?"all":"none")}c[u]=f}var p=c[0];var g=c[1];g.node().addEventListener("click",function(){return activateSelection(m,p)})}}function setClipPath(e,t,r){var a=r.xref+r.yref;k.setClipUrl(e,"clip"+t._fullLayout._uid+a,t)}function activateSelection(e,t){if(!couldHaveActiveSelection(e))return;var r=t.node();var a=+r.getAttribute("data-index");if(a>=0){if(a===e._fullLayout._activeSelectionIndex){deactivateSelection(e);return}e._fullLayout._activeSelectionIndex=a;e._fullLayout._deactivateSelection=deactivateSelection;draw(e)}}function activateLastSelection(e){if(!couldHaveActiveSelection(e))return;var t=e._fullLayout.selections.length-1;e._fullLayout._activeSelectionIndex=t;e._fullLayout._deactivateSelection=deactivateSelection;draw(e)}function deactivateSelection(e){if(!couldHaveActiveSelection(e))return;var t=e._fullLayout._activeSelectionIndex;if(t>=0){i(e);delete e._fullLayout._activeSelectionIndex;draw(e)}}},3777:function(e,t,r){"use strict";var a=r(9952).P;var n=r(1426).extendFlat;e.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:n({},a,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},849:function(e){"use strict";e.exports=function supplyDrawNewSelectionDefaults(e,t,r){r("newselection.mode");var a=r("newselection.line.width");if(a){r("newselection.line.color");r("newselection.line.dash")}r("activeselection.fillcolor");r("activeselection.opacity")}},5855:function(e,t,r){"use strict";var a=r(4505);var w=a.selectMode;var n=r(1873);var T=n.clearOutline;var i=r(165);var k=i.readPaths;var A=i.writePaths;var M=i.fixDatesForPaths;e.exports=function newSelections(e,t){if(!e.length)return;var r=e[0][0];if(!r)return;var a=r.getAttribute("d");var n=t.gd;var i=n._fullLayout.newselection;var o=t.plotinfo;var l=o.xaxis;var s=o.yaxis;var c=t.isActiveSelection;var u=t.dragmode;var f=(n.layout||{}).selections||[];if(!w(u)&&c!==undefined){var d=n._fullLayout._activeSelectionIndex;if(d<f.length){switch(n._fullLayout.selections[d].type){case"rect":u="select";break;case"path":u="lasso";break}}}var v=k(a,n,o,c);var h={xref:l._id,yref:s._id,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}};var p;if(v.length===1)p=v[0];if(p&&p.length===5&&u==="select"){h.type="rect";h.x0=p[0][1];h.y0=p[0][2];h.x1=p[2][1];h.y1=p[2][2]}else{h.type="path";if(l&&s)M(v,l,s);h.path=A(v);p=null}T(n);var g=t.editHelpers;var m=(g||{}).modifyItem;var y=[];for(var x=0;x<f.length;x++){var _=n._fullLayout.selections[x];if(!_){y[x]=_;continue}y[x]=_._input;if(c!==undefined&&x===n._fullLayout._activeSelectionIndex){var b=h;switch(_.type){case"rect":m("x0",b.x0);m("x1",b.x1);m("y0",b.y0);m("y1",b.y1);break;case"path":m("path",b.path);break}}}if(c===undefined){y.push(h);return y}return g?g.getUpdateObj():{}}},5549:function(e,t,r){"use strict";var a=r(1828).strTranslate;function p2r(e,t){switch(e.type){case"log":return e.p2d(t);case"date":return e.p2r(t,0,e.calendar);default:return e.p2r(t)}}function r2p(e,t){switch(e.type){case"log":return e.d2p(t);case"date":return e.r2p(t,0,e.calendar);default:return e.r2p(t)}}function axValue(t){var r=t._id.charAt(0)==="y"?1:0;return function(e){return p2r(t,e[r])}}function getTransform(e){return a(e.xaxis._offset,e.yaxis._offset)}e.exports={p2r:p2r,r2p:r2p,axValue:axValue,getTransform:getTransform}},7322:function(e,t,r){"use strict";var a=r(2485);var n=r(3937);e.exports={moduleType:"component",name:"selections",layoutAttributes:r(8389),supplyLayoutDefaults:r(9402),supplyDrawNewSelectionDefaults:r(849),includeBasePlot:r(6325)("selections"),draw:a.draw,drawOne:a.drawOne,reselect:n.reselect,prepSelect:n.prepSelect,clearOutline:n.clearOutline,clearSelectionsCache:n.clearSelectionsCache,selectOnClick:n.selectOnClick}},3937:function(i,o,e){"use strict";var s=e(2142);var l=e(8258);var J=e(3972);var ce=e(1424).dashStyle;var K=e(7901);var ue=e(211);var u=e(3469).makeEventData;var t=e(4505);var fe=t.freeMode;var de=t.rectMode;var ae=t.drawMode;var Q=t.openMode;var ne=t.selectMode;var D=e(477);var O=e(1459);var $=e(2359);var c=e(1873).clearOutline;var r=e(165);var ee=r.handleEllipse;var ve=r.readPaths;var d=e(551);var v=e(5855);var h=e(2485).activateLastSelection;var te=e(1828);var p=te.sorterAsc;var a=e(1082);var re=e(9990);var ie=e(1675).getFromId;var g=e(3306);var m=e(1549).redrawReglTraces;var oe=e(4122);var le=oe.MINSELECT;var he=a.filter;var se=a.tester;var n=e(5549);var f=n.p2r;var y=n.axValue;var pe=n.getTransform;function hasSubplot(e){return e.subplot!==undefined}function prepSelect(e,s,E,f,t){var l=!hasSubplot(f);var d=fe(t);var z=de(t);var v=Q(t);var h=ae(t);var p=ne(t);var B=t==="drawline";var g=t==="drawcircle";var m=B||g;var y=f.gd;var x=y._fullLayout;var r=p&&x.newselection.mode==="immediate"&&l;var a=x._zoomlayer;var n=f.element.getBoundingClientRect();var i=f.plotinfo;var H=pe(i);var _=s-n.left;var b=E-n.top;x._calcInverseTransform(y);var j=te.apply3DTransform(x._invTransform)(_,b);_=j[0];b=j[1];var V=x._invScaleX;var Y=x._invScaleY;var w=_;var T=b;var U="M"+_+","+b;var G=f.xaxes[0];var q=f.yaxes[0];var k=G._length;var A=q._length;var M=e.altKey&&!(ae(t)&&v);var S,C,L,D;var c,u,O;coerceSelectionsCache(e,y,f);if(d){S=he([[_,b]],oe.BENDPX)}var P=a.selectAll("path.select-outline-"+i.id).data([1]);var o=h?x.newshape:x.newselection;var Z=h&&!v?o.fillcolor:"rgba(0,0,0,0)";var W=o.line.color||(l?K.contrast(y._fullLayout.plot_bgcolor):"#7f7f7f");P.enter().append("path").attr("class","select-outline select-outline-"+i.id).style({opacity:h?o.opacity/2:1,"stroke-dasharray":ce(o.line.dash,o.line.width),"stroke-width":o.line.width+"px","shape-rendering":"crispEdges"}).call(K.stroke,W).call(K.fill,Z).attr("fill-rule","evenodd").classed("cursor-move",h?true:false).attr("transform",H).attr("d",U+"Z");var I=a.append("path").attr("class","zoombox-corners").style({fill:K.background,stroke:K.defaultLine,"stroke-width":1}).attr("transform",H).attr("d","M0,0Z");var R=x._uid+oe.SELECTID;var F=[];var N=determineSearchTraces(y,f.xaxes,f.yaxes,f.subplot);if(r&&!e.shiftKey){f._clearSubplotSelections=function(){if(!l)return;var e=G._id;var t=q._id;deselectSubplot(y,e,t,N);var r=(y.layout||{}).selections||[];var a=[];var n=false;for(var i=0;i<r.length;i++){var o=x.selections[i];if(o.xref!==e||o.yref!==t){a.push(r[i])}else{n=true}}if(n){y._fullLayout._noEmitSelectedAtStart=true;J.call("_guiRelayout",y,{selections:a})}}}var X=getFillRangeItems(f);f.moveFn=function(e,t){if(f._clearSubplotSelections){f._clearSubplotSelections();f._clearSubplotSelections=undefined}w=Math.max(0,Math.min(k,V*e+_));T=Math.max(0,Math.min(A,Y*t+b));var r=Math.abs(w-_);var a=Math.abs(T-b);if(z){var n;var i,o;if(p){var l=x.selectdirection;if(l==="any"){if(a<Math.min(r*.6,le)){n="h"}else if(r<Math.min(a*.6,le)){n="v"}else{n="d"}}else{n=l}switch(n){case"h":i=g?A/2:0;o=A;break;case"v":i=g?k/2:0;o=k;break}}if(h){switch(x.newshape.drawdirection){case"vertical":n="h";i=g?A/2:0;o=A;break;case"horizontal":n="v";i=g?k/2:0;o=k;break;case"ortho":if(r<a){n="h";i=b;o=T}else{n="v";i=_;o=w}break;default:n="d"}}if(n==="h"){D=m?ee(g,[w,i],[w,o]):[[_,i],[_,o],[w,o],[w,i]];D.xmin=m?w:Math.min(_,w);D.xmax=m?w:Math.max(_,w);D.ymin=Math.min(i,o);D.ymax=Math.max(i,o);I.attr("d","M"+D.xmin+","+(b-le)+"h-4v"+2*le+"h4Z"+"M"+(D.xmax-1)+","+(b-le)+"h4v"+2*le+"h-4Z")}else if(n==="v"){D=m?ee(g,[i,T],[o,T]):[[i,b],[i,T],[o,T],[o,b]];D.xmin=Math.min(i,o);D.xmax=Math.max(i,o);D.ymin=m?T:Math.min(b,T);D.ymax=m?T:Math.max(b,T);I.attr("d","M"+(_-le)+","+D.ymin+"v-4h"+2*le+"v4Z"+"M"+(_-le)+","+(D.ymax-1)+"v4h"+2*le+"v-4Z")}else if(n==="d"){D=m?ee(g,[_,b],[w,T]):[[_,b],[_,T],[w,T],[w,b]];D.xmin=Math.min(_,w);D.xmax=Math.max(_,w);D.ymin=Math.min(b,T);D.ymax=Math.max(b,T);I.attr("d","M0,0Z")}}else if(d){S.addPt([w,T]);D=S.filtered}if(f.selectionDefs&&f.selectionDefs.length){L=mergePolygons(f.mergedPolygons,D,M);D.subtract=M;C=multiTester(f.selectionDefs.concat([D]))}else{L=[D];C=se(D)}$(convertPoly(L,v),P,f);if(p){var s=reselect(y,false);var c=s.eventData?s.eventData.points.slice():[];s=reselect(y,false,C,N,f);C=s.selectionTesters;O=s.eventData;var u;if(S){u=S.filtered}else{u=castMultiPolygon(L)}re.throttle(R,oe.SELECTDELAY,function(){F=_doSelect(C,N);var e=F.slice();for(var t=0;t<c.length;t++){var r=c[t];var a=false;for(var n=0;n<e.length;n++){if(e[n].curveNumber===r.curveNumber&&e[n].pointNumber===r.pointNumber){a=true;break}}if(!a)e.push(r)}if(e.length){if(!O)O={};O.points=e}X(O,u);emitSelecting(y,O)})}};f.clickFn=function(o,l){I.remove();if(y._fullLayout._activeShapeIndex>=0){y._fullLayout._deactivateShape(y);return}if(h)return;var s=x.clickmode;re.done(R).then(function(){re.clear(R);if(o===2){P.remove();for(c=0;c<N.length;c++){u=N[c];u._module.selectPoints(u,false)}updateSelectedState(y,N);clearSelectionsCache(f);emitDeselect(y);if(N.length){var e=N[0].xaxis;var t=N[0].yaxis;if(e&&t){var r=[];var a=y._fullLayout.selections;for(var n=0;n<a.length;n++){var i=a[n];if(!i)continue;if(i.xref!==e._id||i.yref!==t._id){r.push(i)}}if(r.length<a.length){y._fullLayout._noEmitSelectedAtStart=true;J.call("_guiRelayout",y,{selections:r})}}}}else{if(s.indexOf("select")>-1){selectOnClick(l,y,f.xaxes,f.yaxes,f.subplot,f,P)}if(s==="event"){emitSelected(y,undefined)}}ue.click(y,l)})["catch"](te.error)};f.doneFn=function(){I.remove();re.done(R).then(function(){re.clear(R);if(!r&&D&&f.selectionDefs){D.subtract=M;f.selectionDefs.push(D);f.mergedPolygons.length=0;[].push.apply(f.mergedPolygons,L)}if(r||h){clearSelectionsCache(f,r)}if(f.doneFnCompleted){f.doneFnCompleted(F)}if(p){emitSelected(y,O)}})["catch"](te.error)}}function selectOnClick(e,t,r,a,n,i,o){var l=t._hoverdata;var s=t._fullLayout;var c=s.clickmode;var u=c.indexOf("event")>-1;var f=[];var d,v,h,p,g;var m,y,x,_,b;if(isHoverDataSet(l)){coerceSelectionsCache(e,t,i);d=determineSearchTraces(t,r,a,n);var w=extractClickedPtInfo(l,d);var T=w.pointNumbers.length>0;if(T?isOnlyThisBinSelected(d,w):isOnlyOnePointSelected(d)&&(y=isPointOrBinSelected(w))){if(o)o.remove();for(b=0;b<d.length;b++){v=d[b];v._module.selectPoints(v,false)}updateSelectedState(t,d);clearSelectionsCache(i);if(u){emitDeselect(t)}}else{x=e.shiftKey&&(y!==undefined?y:isPointOrBinSelected(w));h=newPointSelectionDef(w.pointNumber,w.searchInfo,x);var k=i.selectionDefs.concat([h]);p=multiTester(k,p);for(b=0;b<d.length;b++){g=d[b]._module.selectPoints(d[b],p);m=fillSelectionItem(g,d[b]);if(f.length){for(var A=0;A<m.length;A++){f.push(m[A])}}else f=m}_={points:f};updateSelectedState(t,d,_);if(h&&i){i.selectionDefs.push(h)}if(o){var M=i.mergedPolygons;var S=Q(i.dragmode);$(convertPoly(M,S),o,i)}if(u){emitSelected(t,_)}}}}function newPointSelectionDef(e,t,r){return{pointNumber:e,searchInfo:t,subtract:!!r}}function isPointSelectionDef(e){return"pointNumber"in e&&"searchInfo"in e}function newPointNumTester(o){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(e,t,r,a){var n=o.searchInfo.cd[0].trace._expandedIndex;var i=a.cd[0].trace._expandedIndex;return i===n&&r===o.pointNumber},isRect:false,degenerate:false,subtract:!!o.subtract}}function multiTester(e){if(!e.length)return;var o=[];var t=isPointSelectionDef(e[0])?0:e[0][0][0];var r=t;var a=isPointSelectionDef(e[0])?0:e[0][0][1];var n=a;for(var i=0;i<e.length;i++){if(isPointSelectionDef(e[i])){o.push(newPointNumTester(e[i]))}else{var l=se(e[i]);l.subtract=!!e[i].subtract;o.push(l);t=Math.min(t,l.xmin);r=Math.max(r,l.xmax);a=Math.min(a,l.ymin);n=Math.max(n,l.ymax)}}function contains(e,t,r,a){var n=false;for(var i=0;i<o.length;i++){if(o[i].contains(e,t,r,a)){n=!o[i].subtract}}return n}return{xmin:t,xmax:r,ymin:a,ymax:n,pts:[],contains:contains,isRect:false,degenerate:false}}function coerceSelectionsCache(e,t,r){var a=t._fullLayout;var n=r.plotinfo;var i=r.dragmode;var o=a._lastSelectedSubplot&&a._lastSelectedSubplot===n.id;var l=(e.shiftKey||e.altKey)&&!(ae(i)&&Q(i));if(o&&l&&n.selection&&n.selection.selectionDefs&&!r.selectionDefs){r.selectionDefs=n.selection.selectionDefs;r.mergedPolygons=n.selection.mergedPolygons}else if(!l||!n.selection){clearSelectionsCache(r)}if(!o){c(t);a._lastSelectedSubplot=n.id}}function hasActiveShape(e){return e._fullLayout._activeShapeIndex>=0}function hasActiveSelection(e){return e._fullLayout._activeSelectionIndex>=0}function clearSelectionsCache(e,t){var r=e.dragmode;var a=e.plotinfo;var n=e.gd;if(hasActiveShape(n)){n._fullLayout._deactivateShape(n)}if(hasActiveSelection(n)){n._fullLayout._deactivateSelection(n)}var i=n._fullLayout;var o=i._zoomlayer;var l=ae(r);var s=ne(r);if(l||s){var c=o.selectAll(".select-outline-"+a.id);if(c&&n._fullLayout._outlining){var u;if(l){u=d(c,e)}if(u){J.call("_guiRelayout",n,{shapes:u})}var f;if(s&&!hasSubplot(e)){f=v(c,e)}if(f){n._fullLayout._noEmitSelectedAtStart=true;J.call("_guiRelayout",n,{selections:f}).then(function(){if(t){h(n)}})}n._fullLayout._outlining=false}}a.selection={};a.selection.selectionDefs=e.selectionDefs=[];a.selection.mergedPolygons=e.mergedPolygons=[]}function getAxId(e){return e._id}function determineSearchTraces(e,t,r,a){if(!e.calcdata)return[];var n=[];var i=t.map(getAxId);var o=r.map(getAxId);var l,s,c;for(c=0;c<e.calcdata.length;c++){l=e.calcdata[c];s=l[0].trace;if(s.visible!==true||!s._module||!s._module.selectPoints)continue;if(hasSubplot({subplot:a})&&(s.subplot===a||s.geo===a)){n.push(createSearchInfo(s._module,l,t[0],r[0]))}else if(s.type==="splom"){if(s._xaxes[i[0]]&&s._yaxes[o[0]]){var u=createSearchInfo(s._module,l,t[0],r[0]);u.scene=e._fullLayout._splomScenes[s.uid];n.push(u)}}else if(s.type==="sankey"){var f=createSearchInfo(s._module,l,t[0],r[0]);n.push(f)}else{if(i.indexOf(s.xaxis)===-1)continue;if(o.indexOf(s.yaxis)===-1)continue;n.push(createSearchInfo(s._module,l,ie(e,s.xaxis),ie(e,s.yaxis)))}}return n}function createSearchInfo(e,t,r,a){return{_module:e,cd:t,xaxis:r,yaxis:a}}function isHoverDataSet(e){return e&&Array.isArray(e)&&e[0].hoverOnBox!==true}function extractClickedPtInfo(e,t){var r=e[0];var a=-1;var n=[];var i,o;for(o=0;o<t.length;o++){i=t[o];if(r.fullData._expandedIndex===i.cd[0].trace._expandedIndex){if(r.hoverOnBox===true){break}if(r.pointNumber!==undefined){a=r.pointNumber}else if(r.binNumber!==undefined){a=r.binNumber;n=r.pointNumbers}break}}return{pointNumber:a,pointNumbers:n,searchInfo:i}}function isPointOrBinSelected(e){var t=e.searchInfo.cd[0].trace;var r=e.pointNumber;var a=e.pointNumbers;var n=a.length>0;var i=n?a[0]:r;return t.selectedpoints?t.selectedpoints.indexOf(i)>-1:false}function isOnlyThisBinSelected(e,t){var r=[];var a,n,i,o;for(o=0;o<e.length;o++){a=e[o];if(a.cd[0].trace.selectedpoints&&a.cd[0].trace.selectedpoints.length>0){r.push(a)}}if(r.length===1){i=r[0]===t.searchInfo;if(i){n=t.searchInfo.cd[0].trace;if(n.selectedpoints.length===t.pointNumbers.length){for(o=0;o<t.pointNumbers.length;o++){if(n.selectedpoints.indexOf(t.pointNumbers[o])<0){return false}}return true}}}return false}function isOnlyOnePointSelected(e){var t=0;var r,a,n;for(n=0;n<e.length;n++){r=e[n];a=r.cd[0].trace;if(a.selectedpoints){if(a.selectedpoints.length>1)return false;t+=a.selectedpoints.length;if(t>1)return false}}return t===1}function updateSelectedState(e,t,r){var a;for(a=0;a<t.length;a++){var n=t[a].cd[0].trace._fullInput;var i=e._fullLayout._tracePreGUI[n.uid]||{};if(i.selectedpoints===undefined){i.selectedpoints=n._input.selectedpoints||null}}var o;if(r){var l=r.points||[];for(a=0;a<t.length;a++){o=t[a].cd[0].trace;o._input.selectedpoints=o._fullInput.selectedpoints=[];if(o._fullInput!==o)o.selectedpoints=[]}for(var s=0;s<l.length;s++){var c=l[s];var u=c.data;var f=c.fullData;var d=c.pointIndex;var v=c.pointIndices;if(v){[].push.apply(u.selectedpoints,v);if(o._fullInput!==o){[].push.apply(f.selectedpoints,v)}}else{u.selectedpoints.push(d);if(o._fullInput!==o){f.selectedpoints.push(d)}}}}else{for(a=0;a<t.length;a++){o=t[a].cd[0].trace;delete o.selectedpoints;delete o._input.selectedpoints;if(o._fullInput!==o){delete o._fullInput.selectedpoints}}}updateReglSelectedState(e,t)}function updateReglSelectedState(e,t){var r=false;for(var a=0;a<t.length;a++){var n=t[a];var i=n.cd;if(J.traceIs(i[0].trace,"regl")){r=true}var o=n._module;var l=o.styleOnSelect||o.style;if(l){l(e,i,i[0].node3);if(i[0].nodeRangePlot3)l(e,i,i[0].nodeRangePlot3)}}if(r){g(e);m(e)}}function mergePolygons(e,t,r){var a=r?s.difference:s.union;var n=a({regions:e},{regions:[t]});var i=n.regions.reverse();for(var o=0;o<i.length;o++){var l=i[o];l.subtract=getSubtract(l,i.slice(0,o))}return i}function fillSelectionItem(e,t){if(Array.isArray(e)){var r=t.cd;var a=t.cd[0].trace;for(var n=0;n<e.length;n++){e[n]=u(e[n],a,r)}}return e}function convertPoly(e,t){var r=[];for(var a=0;a<e.length;a++){r[a]=[];for(var n=0;n<e[a].length;n++){r[a][n]=[];r[a][n][0]=n?"L":"M";for(var i=0;i<e[a][n].length;i++){r[a][n].push(e[a][n][i])}}if(!t){r[a].push(["Z",r[a][0][1],r[a][0][2]])}}return r}function _doSelect(e,t){var r=[];var a;var n=[];var i;for(var o=0;o<t.length;o++){var l=t[o];i=l._module.selectPoints(l,e);n.push(i);a=fillSelectionItem(i,l);r=r.concat(a)}return r}function reselect(e,t,r,a,n){var N=!!a;var i,o,l;if(n){i=n.plotinfo;o=n.xaxes[0]._id;l=n.yaxes[0]._id}var s=[];var c=[];var u=getLayoutPolygons(e);var f=e._fullLayout;if(i){var E=f._zoomlayer;var d=f.dragmode;var z=ae(d);var B=ne(d);if(z||B){var v=ie(e,o,"x");var h=ie(e,l,"y");if(v&&h){var p=E.selectAll(".select-outline-"+i.id);if(p&&e._fullLayout._outlining){if(p.length){var H=p[0][0];var j=H.getAttribute("d");var g=ve(j,e,i);var m=[];for(var y=0;y<g.length;y++){var x=g[y];var _=[];for(var b=0;b<x.length;b++){_.push([convert(v,x[b][1]),convert(h,x[b][2])])}_.xref=o;_.yref=l;_.subtract=getSubtract(_,m);m.push(_)}u=u.concat(m)}}}}}var w=o&&l?[o+l]:f._subplots.cartesian;epmtySplomSelectionBatch(e);var T={};for(var k=0;k<w.length;k++){var A=w[k];var M=A.indexOf("y");var V=A.slice(0,M);var Y=A.slice(M);var S=o&&l?r:undefined;S=addTester(u,V,Y,S);if(S){var C=a;if(!N){var U=ie(e,V,"x");var G=ie(e,Y,"y");C=determineSearchTraces(e,[U],[G],A);for(var L=0;L<C.length;L++){var D=C[L];var O=D.cd[0];var P=O.trace;if(D._module.name==="scattergl"&&!O.t.xpx){var q=P.x;var Z=P.y;var W=P._length;O.t.xpx=[];O.t.ypx=[];for(var I=0;I<W;I++){O.t.xpx[I]=U.c2p(q[I]);O.t.ypx[I]=G.c2p(Z[I])}}if(D._module.name==="splom"){if(!T[P.uid]){T[P.uid]=true}}}}var X=_doSelect(S,C);s=s.concat(X);c=c.concat(C)}}var R={points:s};updateSelectedState(e,c,R);var J=f.clickmode;var K=J.indexOf("event")>-1&&t;if(!i&&t){var F=getLayoutPolygons(e,true);if(F.length){var Q=F[0].xref;var $=F[0].yref;if(Q&&$){var ee=castMultiPolygon(F);var te=makeFillRangeItems([ie(e,Q,"x"),ie(e,$,"y")]);te(R,ee)}}if(e._fullLayout._noEmitSelectedAtStart){e._fullLayout._noEmitSelectedAtStart=false}else{if(K)emitSelected(e,R)}f._reselect=false}if(!i&&f._deselect){var re=f._deselect;o=re.xref;l=re.yref;if(!subplotSelected(o,l,c)){deselectSubplot(e,o,l,a)}if(K){if(R.points.length){emitSelected(e,R)}else{emitDeselect(e)}}f._deselect=false}return{eventData:R,selectionTesters:r}}function epmtySplomSelectionBatch(e){var t=e.calcdata;if(!t)return;for(var r=0;r<t.length;r++){var a=t[r][0];var n=a.trace;var i=e._fullLayout._splomScenes;if(i){var o=i[n.uid];if(o){o.selectBatch=[]}}}}function subplotSelected(e,t,r){for(var a=0;a<r.length;a++){var n=r[a];if(n.xaxis&&n.xaxis._id===e&&n.yaxis&&n.yaxis._id===t){return true}}return false}function deselectSubplot(e,t,r,a){a=determineSearchTraces(e,[ie(e,t,"x")],[ie(e,r,"y")],t+r);for(var n=0;n<a.length;n++){var i=a[n];i._module.selectPoints(i,false)}updateSelectedState(e,a)}function addTester(e,t,r,a){var n;for(var i=0;i<e.length;i++){var o=e[i];if(t!==o.xref||r!==o.yref)continue;if(n){var l=!!o.subtract;n=mergePolygons(n,o,l);a=multiTester(n)}else{n=[o];a=se(o)}}return a}function getLayoutPolygons(e,t){var r=[];var a=e._fullLayout;var n=a.selections;var i=n.length;for(var o=0;o<i;o++){if(t&&o!==a._activeSelectionIndex)continue;var l=n[o];if(!l)continue;var s=l.xref;var c=l.yref;var u=ie(e,s,"x");var f=ie(e,c,"y");var d,v,h,p;var g;if(l.type==="rect"){g=[];var m=convert(u,l.x0);var y=convert(u,l.x1);var x=convert(f,l.y0);var _=convert(f,l.y1);g=[[m,x],[m,_],[y,_],[y,x]];d=Math.min(m,y);v=Math.max(m,y);h=Math.min(x,_);p=Math.max(x,_);g.xmin=d;g.xmax=v;g.ymin=h;g.ymax=p;g.xref=s;g.yref=c;g.subtract=false;g.isRect=true;r.push(g)}else if(l.type==="path"){var b=l.path.split("Z");var w=[];for(var T=0;T<b.length;T++){var k=b[T];if(!k)continue;k+="Z";var A=D.extractPathCoords(k,O.paramIsX,"raw");var M=D.extractPathCoords(k,O.paramIsY,"raw");d=Infinity;v=-Infinity;h=Infinity;p=-Infinity;g=[];for(var S=0;S<A.length;S++){var C=convert(u,A[S]);var L=convert(f,M[S]);g.push([C,L]);d=Math.min(C,d);v=Math.max(C,v);h=Math.min(L,h);p=Math.max(L,p)}g.xmin=d;g.xmax=v;g.ymin=h;g.ymax=p;g.xref=s;g.yref=c;g.subtract=getSubtract(g,w);w.push(g);r.push(g)}}}return r}function getSubtract(e,t){var r=false;for(var a=0;a<t.length;a++){var n=t[a];for(var i=0;i<e.length;i++){if(l(e[i],n)){r=!r;break}}}return r}function convert(e,t){if(e.type==="date")t=t.replace("_"," ");return e.type==="log"?e.c2p(t):e.r2p(t,null,e.calendar)}function castMultiPolygon(e){var t=e.length;var r=[];for(var a=0;a<t;a++){var n=e[a];r=r.concat(n);r=r.concat([n[0]])}return computeRectAndRanges(r)}function computeRectAndRanges(e){e.isRect=e.length===5&&e[0][0]===e[4][0]&&e[0][1]===e[4][1]&&e[0][0]===e[1][0]&&e[2][0]===e[3][0]&&e[0][1]===e[3][1]&&e[1][1]===e[2][1]||e[0][1]===e[1][1]&&e[2][1]===e[3][1]&&e[0][0]===e[3][0]&&e[1][0]===e[2][0];if(e.isRect){e.xmin=Math.min(e[0][0],e[2][0]);e.xmax=Math.max(e[0][0],e[2][0]);e.ymin=Math.min(e[0][1],e[2][1]);e.ymax=Math.max(e[0][1],e[2][1])}return e}function makeFillRangeItems(u){return function(e,t){var r;var a;for(var n=0;n<u.length;n++){var i=u[n];var o=i._id;var l=o.charAt(0);if(t.isRect){if(!r)r={};var s=t[l+"min"];var c=t[l+"max"];if(s!==undefined&&c!==undefined){r[o]=[f(i,s),f(i,c)].sort(p)}}else{if(!a)a={};a[o]=t.map(y(i))}}if(r){e.range=r}if(a){e.lassoPoints=a}}}function getFillRangeItems(e){var t=e.plotinfo;return t.fillRangeItems||makeFillRangeItems(e.xaxes.concat(e.yaxes))}function emitSelecting(e,t){e.emit("plotly_selecting",t)}function emitSelected(e,t){if(t){t.selections=(e.layout||{}).selections||[]}e.emit("plotly_selected",t)}function emitDeselect(e){e.emit("plotly_deselect",null)}i.exports={reselect:reselect,prepSelect:prepSelect,clearOutline:c,clearSelectionsCache:clearSelectionsCache,selectOnClick:selectOnClick}},9827:function(e,t,r){"use strict";var a=r(215);var n=r(1940);var i=r(2196).line;var o=r(9952).P;var l=r(1426).extendFlat;var s=r(4467).templatedArray;var c=r(4695);e.exports=s("shape",{visible:{valType:"boolean",dflt:true,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:l({},a.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:l({},a.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:l({},i.color,{editType:"arraydraw"}),width:l({},i.width,{editType:"calc+arraydraw"}),dash:l({},o,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:false,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},font:n({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(e,t,r){"use strict";var v=r(1828);var h=r(9298);var p=r(1459);var g=r(477);e.exports=function calcAutorange(e){var t=e._fullLayout;var r=v.filterVisible(t.shapes);if(!r.length||!e._fullData.length)return;for(var a=0;a<r.length;a++){var n=r[a];n._extremes={};var i;var o;var l=h.getRefType(n.xref);var s=h.getRefType(n.yref);if(n.xref!=="paper"&&l!=="domain"){var c=n.xsizemode==="pixel"?n.xanchor:n.x0;var u=n.xsizemode==="pixel"?n.xanchor:n.x1;i=h.getFromId(e,n.xref);o=shapeBounds(i,c,u,n.path,p.paramIsX);if(o){n._extremes[i._id]=h.findExtremes(i,o,calcXPaddingOptions(n))}}if(n.yref!=="paper"&&s!=="domain"){var f=n.ysizemode==="pixel"?n.yanchor:n.y0;var d=n.ysizemode==="pixel"?n.yanchor:n.y1;i=h.getFromId(e,n.yref);o=shapeBounds(i,f,d,n.path,p.paramIsY);if(o){n._extremes[i._id]=h.findExtremes(i,o,calcYPaddingOptions(n))}}}};function calcXPaddingOptions(e){return calcPaddingOptions(e.line.width,e.xsizemode,e.x0,e.x1,e.path,false)}function calcYPaddingOptions(e){return calcPaddingOptions(e.line.width,e.ysizemode,e.y0,e.y1,e.path,true)}function calcPaddingOptions(e,t,r,a,n,i){var o=e/2;var l=i;if(t==="pixel"){var s=n?g.extractPathCoords(n,i?p.paramIsY:p.paramIsX):[r,a];var c=v.aggNums(Math.max,null,s);var u=v.aggNums(Math.min,null,s);var f=u<0?Math.abs(u)+o:o;var d=c>0?c+o:o;return{ppad:o,ppadplus:l?f:d,ppadminus:l?d:f}}else{return{ppad:o}}}function shapeBounds(e,t,r,a,n){var i=e.type==="category"||e.type==="multicategory"?e.r2c:e.d2c;if(t!==undefined)return[i(t),i(r)];if(!a)return;var o=Infinity;var l=-Infinity;var s=a.match(p.segmentRE);var c;var u;var f;var d;var v;if(e.type==="date")i=g.decodeDate(i);for(c=0;c<s.length;c++){u=s[c];f=n[u.charAt(0)].drawn;if(f===undefined)continue;d=s[c].substr(1).match(p.paramRE);if(!d||d.length<f)continue;v=i(d[f]);if(v<o)o=v;if(v>l)l=v}if(l>=o)return[o,l]}},1459:function(e){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:true,drawn:0},L:{0:true,drawn:0},H:{0:true,drawn:0},V:{},Q:{0:true,2:true,drawn:2},C:{0:true,2:true,4:true,drawn:4},T:{0:true,drawn:0},S:{0:true,2:true,drawn:2},Z:{}},paramIsY:{M:{1:true,drawn:1},L:{1:true,drawn:1},H:{},V:{0:true,drawn:0},Q:{1:true,3:true,drawn:3},C:{1:true,3:true,5:true,drawn:5},T:{1:true,drawn:1},S:{1:true,3:true,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},4726:function(e,t,r){"use strict";var P=r(1828);var I=r(9298);var a=r(5501);var R=r(9827);var F=r(477);e.exports=function supplyLayoutDefaults(e,t){a(e,t,{name:"shapes",handleItemDefaults:handleShapeDefaults})};function dfltLabelYanchor(e,t){return e?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function handleShapeDefaults(r,a,e){function coerce(e,t){return P.coerce(r,a,R,e,t)}var t=coerce("visible");if(!t)return;var n=coerce("path");var i=n?"path":"rect";var o=coerce("type",i);var l=o!=="path";if(l)delete a.path;coerce("editable");coerce("layer");coerce("opacity");coerce("fillcolor");coerce("fillrule");var s=coerce("line.width");if(s){coerce("line.color");coerce("line.dash")}var c=coerce("xsizemode");var u=coerce("ysizemode");var f=["x","y"];for(var d=0;d<2;d++){var v=f[d];var h=v+"anchor";var p=v==="x"?c:u;var g={_fullLayout:e};var m;var y;var x;var _=I.coerceRef(r,a,g,v,undefined,"paper");var b=I.getRefType(_);if(b==="range"){m=I.getFromId(g,_);m._shapeIndices.push(a._index);x=F.rangeToShapePosition(m);y=F.shapePositionToRange(m)}else{y=x=P.identity}if(l){var w=.25;var T=.75;var k=v+"0";var A=v+"1";var M=r[k];var S=r[A];r[k]=y(r[k],true);r[A]=y(r[A],true);if(p==="pixel"){coerce(k,0);coerce(A,10)}else{I.coercePosition(a,g,coerce,_,k,w);I.coercePosition(a,g,coerce,_,A,T)}a[k]=x(a[k]);a[A]=x(a[A]);r[k]=M;r[A]=S}if(p==="pixel"){var C=r[h];r[h]=y(r[h],true);I.coercePosition(a,g,coerce,_,h,.25);a[h]=x(a[h]);r[h]=C}}if(l){P.noneOrAll(r,a,["x0","x1","y0","y1"])}var L=o==="line";var D=coerce("label.text");if(D){coerce("label.textangle");var O=coerce("label.textposition",L?"middle":"middle center");coerce("label.xanchor");coerce("label.yanchor",dfltLabelYanchor(L,O));coerce("label.padding");P.coerceFont(coerce,"label.font",e.font)}}},2359:function(e,t,r){"use strict";var a=r(1828);var _=a.strTranslate;var b=r(8569);var n=r(4505);var c=n.drawMode;var u=n.selectMode;var f=r(3972);var w=r(7901);var i=r(9995);var T=i.i000;var k=i.i090;var A=i.i180;var M=i.i270;var o=r(1873);var d=o.clearOutlineControllers;var l=r(165);var S=l.pointsOnRectangle;var C=l.pointsOnEllipse;var L=l.writePaths;var D=r(551);var O=r(5855);e.exports=function displayOutlines(g,r,m,e){if(!e)e=0;var y=m.gd;function redraw(){displayOutlines(g,r,m,e++);if(C(g[0])||m.hasText){update({redrawing:true})}}function update(e){var t={};if(m.isActiveShape!==undefined){m.isActiveShape=false;t=D(r,m)}if(m.isActiveSelection!==undefined){m.isActiveSelection=false;t=O(r,m);y._fullLayout._reselect=true}if(Object.keys(t).length){f.call((e||{}).redrawing?"relayout":"_guiRelayout",y,t)}}var t=y._fullLayout;var a=t._zoomlayer;var n=m.dragmode;var i=c(n);var o=u(n);if(i||o){y._fullLayout._outlining=true}d(y);r.attr("d",L(g));var x;var l;var v;var h;var p;if(!e&&(m.isActiveShape||m.isActiveSelection)){p=recordPositions([],g);var s=a.append("g").attr("class","outline-controllers");addVertexControllers(s);addGroupControllers()}function startDragVertex(e){v=+e.srcElement.getAttribute("data-i");h=+e.srcElement.getAttribute("data-j");x[v][h].moveFn=moveVertexController}function moveVertexController(e,t){if(!g.length)return;var r=p[v][h][1];var a=p[v][h][2];var n=g[v];var i=n.length;if(S(n)){var o=e;var l=t;if(m.isActiveSelection){var s=getNextPoint(n,h);if(s[1]===n[h][1]){l=0}else{o=0}}for(var c=0;c<i;c++){if(c===h)continue;var u=n[c];if(u[1]===n[h][1]){u[1]=r+o}if(u[2]===n[h][2]){u[2]=a+l}}n[h][1]=r+o;n[h][2]=a+l;if(!S(n)){for(var f=0;f<i;f++){for(var d=0;d<n[f].length;d++){n[f][d]=p[v][f][d]}}}}else{n[h][1]=r+e;n[h][2]=a+t}redraw()}function endDragVertexController(){update()}function removeVertex(){if(!g.length)return;if(!g[v])return;if(!g[v].length)return;var e=[];for(var t=0;t<g[v].length;t++){if(t!==h){e.push(g[v][t])}}if(e.length>1&&!(e.length===2&&e[1][0]==="Z")){if(h===0){e[0][0]="M"}g[v]=e;redraw();update()}}function clickVertexController(e,t){if(e===2){v=+t.srcElement.getAttribute("data-i");h=+t.srcElement.getAttribute("data-j");var r=g[v];if(!S(r)&&!C(r)){removeVertex()}}}function addVertexControllers(e){x=[];for(var t=0;t<g.length;t++){var r=g[t];var a=S(r);var n=!a&&C(r);x[t]=[];var i=r.length;for(var o=0;o<i;o++){if(r[o][0]==="Z")continue;if(n&&o!==T&&o!==k&&o!==A&&o!==M){continue}var l=a&&m.isActiveSelection;var s;if(l)s=getNextPoint(r,o);var c=r[o][1];var u=r[o][2];var f=e.append(l?"rect":"circle").attr("data-i",t).attr("data-j",o).style({fill:w.background,stroke:w.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(l){var d=s[1]-c;var v=s[2]-u;var h=v?5:Math.max(Math.min(25,Math.abs(d)-5),5);var p=d?5:Math.max(Math.min(25,Math.abs(v)-5),5);f.classed(v?"cursor-ew-resize":"cursor-ns-resize",true).attr("width",h).attr("height",p).attr("x",c-h/2).attr("y",u-p/2).attr("transform",_(d/2,v/2))}else{f.classed("cursor-grab",true).attr("r",5).attr("cx",c).attr("cy",u)}x[t][o]={element:f.node(),gd:y,prepFn:startDragVertex,doneFn:endDragVertexController,clickFn:clickVertexController};b.init(x[t][o])}}}function moveGroup(e,t){if(!g.length)return;for(var r=0;r<g.length;r++){for(var a=0;a<g[r].length;a++){for(var n=0;n+2<g[r][a].length;n+=2){g[r][a][n+1]=p[r][a][n+1]+e;g[r][a][n+2]=p[r][a][n+2]+t}}}}function moveGroupController(e,t){moveGroup(e,t);redraw()}function startDragGroupController(e){v=+e.srcElement.getAttribute("data-i");if(!v)v=0;l[v].moveFn=moveGroupController}function endDragGroupController(){update()}function clickGroupController(e){if(e===2){eraseActiveSelection(y)}}function addGroupControllers(){l=[];if(!g.length)return;var e=0;l[e]={element:r[0][0],gd:y,prepFn:startDragGroupController,doneFn:endDragGroupController,clickFn:clickGroupController};b.init(l[e])}};function recordPositions(e,t){for(var r=0;r<t.length;r++){var a=t[r];e[r]=[];for(var n=0;n<a.length;n++){e[r][n]=[];for(var i=0;i<a[n].length;i++){e[r][n][i]=a[n][i]}}}return e}function getNextPoint(e,t){var r=e[t][1];var a=e[t][2];var n=e.length;var i,o,l;i=(t+1)%n;o=e[i][1];l=e[i][2];if(o===r&&l===a){i=(t+2)%n;o=e[i][1];l=e[i][2]}return[i,o,l]}function eraseActiveSelection(e){if(!u(e._fullLayout.dragmode))return;d(e);var t=e._fullLayout._activeSelectionIndex;var r=(e.layout||{}).selections||[];if(t<r.length){var a=[];for(var n=0;n<r.length;n++){if(n!==t){a.push(r[n])}}delete e._fullLayout._activeSelectionIndex;var i=e._fullLayout.selections[t];e._fullLayout._deselect={xref:i.xref,yref:i.yref};f.call("_guiRelayout",e,{selections:a})}}},4031:function(e,t,r){"use strict";var n=r(9898);var i=r(3972);var u=r(1828);var $=r(9298);var R=r(165).readPaths;var x=r(2359);var o=r(1873).clearOutlineControllers;var _=r(7901);var ee=r(1424);var b=r(4467).arrayEditor;var s=r(8569);var c=r(6964);var F=r(3893);var f=r(1459);var te=r(477);var re=te.getPathString;var D=r(8783).FROM_TL;e.exports={draw:draw,drawOne:drawOne,eraseActiveShape:eraseActiveShape};function draw(e){var t=e._fullLayout;t._shapeUpperLayer.selectAll("path").remove();t._shapeLowerLayer.selectAll("path").remove();t._shapeUpperLayer.selectAll("text").remove();t._shapeLowerLayer.selectAll("text").remove();for(var r in t._plots){var a=t._plots[r].shapelayer;if(a){a.selectAll("path").remove();a.selectAll("text").remove()}}for(var n=0;n<t.shapes.length;n++){if(t.shapes[n].visible){drawOne(e,n)}}}function shouldSkipEdits(e){return!!e._fullLayout._outlining}function couldHaveActiveShape(e){return!e._context.edits.shapePosition}function drawOne(p,g){p._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+g+'"]').remove();var e=te.makeShapesOptionsAndPlotinfo(p,g);var m=e.options;var y=e.plotinfo;if(!m._input||m.visible===false)return;if(m.layer!=="below"){drawShape(p._fullLayout._shapeUpperLayer)}else if(m.xref==="paper"||m.yref==="paper"){drawShape(p._fullLayout._shapeLowerLayer)}else{if(y._hadPlotinfo){var t=y.mainplotinfo||y;drawShape(t.shapelayer)}else{drawShape(p._fullLayout._shapeLowerLayer)}}function drawShape(e){var t=re(p,m);var r={"data-index":g,"fill-rule":m.fillrule,d:t};var a=m.opacity;var n=m.fillcolor;var i=m.line.width?m.line.color:"rgba(0,0,0,0)";var o=m.line.width;var l=m.line.dash;if(!o&&m.editable===true){o=5;l="solid"}var s=t[t.length-1]!=="Z";var c=couldHaveActiveShape(p)&&m.editable&&p._fullLayout._activeShapeIndex===g;if(c){n=s?"rgba(0,0,0,0)":p._fullLayout.activeshape.fillcolor;a=p._fullLayout.activeshape.opacity}var u=e.append("g").classed("shape-group",true).attr({"data-index":g});var f=u.append("path").attr(r).style("opacity",a).call(_.stroke,i).call(_.fill,n).call(ee.dashLine,l,o);setClipPath(u,p,m);drawLabel(p,g,m,u);var d;if(c||p._context.edits.shapePosition)d=b(p.layout,"shapes",m);if(c){f.style({cursor:"move"});var v={element:f.node(),plotinfo:y,gd:p,editHelpers:d,hasText:m.label.text,isActiveShape:true};var h=R(t,p);x(h,f,v)}else{if(p._context.edits.shapePosition){setupDragElement(p,f,m,g,e,d)}else if(m.editable===true){f.style("pointer-events",s||_.opacity(n)*a<=.5?"stroke":"all")}}f.node().addEventListener("click",function(){return activateShape(p,f)})}}function setClipPath(e,t,r){var a=(r.xref+r.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");ee.setClipUrl(e,a?"clip"+t._fullLayout._uid+a:null,t)}function setupDragElement(y,x,_,b,w,e){var T=10;var k=10;var A=_.xsizemode==="pixel";var M=_.ysizemode==="pixel";var S=_.type==="line";var K=_.type==="path";var C=e.modifyItem;var L,D,O,P,I,R;var F,N,E,z,B,H,j,V;var Y;var Q=n.select(x.node().parentNode);var U=$.getFromId(y,_.xref);var t=$.getRefType(_.xref);var G=$.getFromId(y,_.yref);var r=$.getRefType(_.yref);var q=te.getDataToPixel(y,U,false,t);var Z=te.getDataToPixel(y,G,true,r);var W=te.getPixelToData(y,U,false,t);var X=te.getPixelToData(y,G,true,r);var a=obtainSensoryElement();var l={element:a.node(),gd:y,prepFn:startDrag,doneFn:endDrag,clickFn:abortDrag};var J;s.init(l);a.node().onmousemove=updateDragMode;function obtainSensoryElement(){return S?createLineDragHandles():x}function createLineDragHandles(){var e=10;var t=Math.max(_.line.width,e);var r=w.append("g").attr("data-index",b).attr("drag-helper",true);r.append("path").attr("d",x.attr("d")).style({cursor:"move","stroke-width":t,"stroke-opacity":"0"});var a={"fill-opacity":"0"};var n=Math.max(t/2,e);r.append("circle").attr({"data-line-point":"start-point",cx:A?q(_.xanchor)+_.x0:q(_.x0),cy:M?Z(_.yanchor)-_.y0:Z(_.y0),r:n}).style(a).classed("cursor-grab",true);r.append("circle").attr({"data-line-point":"end-point",cx:A?q(_.xanchor)+_.x1:q(_.x1),cy:M?Z(_.yanchor)-_.y1:Z(_.y1),r:n}).style(a).classed("cursor-grab",true);return r}function updateDragMode(e){if(shouldSkipEdits(y)){J=null;return}if(S){if(e.target.tagName==="path"){J="move"}else{J=e.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point"}}else{var t=l.element.getBoundingClientRect();var r=t.right-t.left;var a=t.bottom-t.top;var n=e.clientX-t.left;var i=e.clientY-t.top;var o=!K&&r>T&&a>k&&!e.shiftKey?s.getCursor(n/r,1-i/a):"move";c(x,o);J=o.split("-")[0]}}function startDrag(e){if(shouldSkipEdits(y))return;if(A){I=q(_.xanchor)}if(M){R=Z(_.yanchor)}if(_.type==="path"){Y=_.path}else{L=A?_.x0:q(_.x0);D=M?_.y0:Z(_.y0);O=A?_.x1:q(_.x1);P=M?_.y1:Z(_.y1)}if(L<O){E=L;j="x0";z=O;V="x1"}else{E=O;j="x1";z=L;V="x0"}if(!M&&D<P||M&&D>P){F=D;B="y0";N=P;H="y1"}else{F=P;B="y1";N=D;H="y0"}updateDragMode(e);renderVisualCues(w,_);deactivateClipPathTemporarily(x,_,y);l.moveFn=J==="move"?moveShape:resizeShape;l.altKey=e.altKey}function endDrag(){if(shouldSkipEdits(y))return;c(x);removeVisualCues(w);setClipPath(x,y,_);i.call("_guiRelayout",y,e.getUpdateObj())}function abortDrag(){if(shouldSkipEdits(y))return;removeVisualCues(w)}function moveShape(t,r){if(_.type==="path"){var e=function(e){return e};var a=e;var n=e;if(A){C("xanchor",_.xanchor=W(I+t))}else{a=function a(e){return W(q(e)+t)};if(U&&U.type==="date")a=te.encodeDate(a)}if(M){C("yanchor",_.yanchor=X(R+r))}else{n=function n(e){return X(Z(e)+r)};if(G&&G.type==="date")n=te.encodeDate(n)}C("path",_.path=movePath(Y,a,n))}else{if(A){C("xanchor",_.xanchor=W(I+t))}else{C("x0",_.x0=W(L+t));C("x1",_.x1=W(O+t))}if(M){C("yanchor",_.yanchor=X(R+r))}else{C("y0",_.y0=X(D+r));C("y1",_.y1=X(P+r))}}x.attr("d",re(y,_));renderVisualCues(w,_);drawLabel(y,b,_,Q)}function resizeShape(t,r){if(K){var e=function(e){return e};var a=e;var n=e;if(A){C("xanchor",_.xanchor=W(I+t))}else{a=function a(e){return W(q(e)+t)};if(U&&U.type==="date")a=te.encodeDate(a)}if(M){C("yanchor",_.yanchor=X(R+r))}else{n=function n(e){return X(Z(e)+r)};if(G&&G.type==="date")n=te.encodeDate(n)}C("path",_.path=movePath(Y,a,n))}else if(S){if(J==="resize-over-start-point"){var i=L+t;var o=M?D-r:D+r;C("x0",_.x0=A?i:W(i));C("y0",_.y0=M?o:X(o))}else if(J==="resize-over-end-point"){var l=O+t;var s=M?P-r:P+r;C("x1",_.x1=A?l:W(l));C("y1",_.y1=M?s:X(s))}}else{var c=function(e){return J.indexOf(e)!==-1};var u=c("n");var f=c("s");var d=c("w");var v=c("e");var h=u?F+r:F;var p=f?N+r:N;var g=d?E+t:E;var m=v?z+t:z;if(M){if(u)h=F-r;if(f)p=N-r}if(!M&&p-h>k||M&&h-p>k){C(B,_[B]=M?h:X(h));C(H,_[H]=M?p:X(p))}if(m-g>T){C(j,_[j]=A?g:W(g));C(V,_[V]=A?m:W(m))}}x.attr("d",re(y,_));renderVisualCues(w,_);drawLabel(y,b,_,Q)}function renderVisualCues(s,c){if(A||M){renderAnchor()}function renderAnchor(){var e=c.type!=="path";var t=s.selectAll(".visual-cue").data([0]);var r=1;t.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":r}).classed("visual-cue",true);var a=q(A?c.xanchor:u.midRange(e?[c.x0,c.x1]:te.extractPathCoords(c.path,f.paramIsX)));var n=Z(M?c.yanchor:u.midRange(e?[c.y0,c.y1]:te.extractPathCoords(c.path,f.paramIsY)));a=te.roundPositionForSharpStrokeRendering(a,r);n=te.roundPositionForSharpStrokeRendering(n,r);if(A&&M){var i="M"+(a-1-r)+","+(n-1-r)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";t.attr("d",i)}else if(A){var o="M"+(a-1-r)+","+(n-9-r)+"v18 h2 v-18 Z";t.attr("d",o)}else{var l="M"+(a-9-r)+","+(n-1-r)+"h18 v2 h-18 Z";t.attr("d",l)}}}function removeVisualCues(e){e.selectAll(".visual-cue").remove()}function deactivateClipPathTemporarily(e,t,r){var a=t.xref;var n=t.yref;var i=$.getFromId(r,a);var o=$.getFromId(r,n);var l="";if(a!=="paper"&&!i.autorange)l+=a;if(n!=="paper"&&!o.autorange)l+=n;ee.setClipUrl(e,l?"clip"+r._fullLayout._uid+l:null,r)}}function drawLabel(t,e,r,a){a.selectAll(".shape-label").remove();if(!r.label.text)return;var n={"data-index":e};var i=r.label.text;var o=r.label.font;var l={"data-notex":1};var s=a.append("g").attr(n).classed("shape-label",true);var c=s.append("text").attr(l).classed("shape-label-text",true).text(i);var u,f,d,v;if(r.path){var h=re(t,r);var p=R(h,t);u=Infinity;d=Infinity;f=-Infinity;v=-Infinity;for(var g=0;g<p.length;g++){for(var m=0;m<p[g].length;m++){var y=p[g][m];for(var x=1;x<y.length;x+=2){var _=y[x];var b=y[x+1];u=Math.min(u,_);f=Math.max(f,_);d=Math.min(d,b);v=Math.max(v,b)}}}}else{var w=$.getFromId(t,r.xref);var T=$.getRefType(r.xref);var k=$.getFromId(t,r.yref);var A=$.getRefType(r.yref);var M=te.getDataToPixel(t,w,false,T);var S=te.getDataToPixel(t,k,true,A);u=M(r.x0);f=M(r.x1);d=S(r.y0);v=S(r.y1)}var C=r.label.textangle;if(C==="auto"){if(r.type==="line"){C=calcTextAngle(u,d,f,v)}else{C=0}}c.call(function(e){e.call(ee.font,o).attr({});F.convertToTspans(e,t);return e});var L=ee.bBox(c.node());var D=calcTextPosition(u,d,f,v,r,C,L);var O=D.textx;var P=D.texty;var I=D.xanchor;c.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[I],y:P,x:O,transform:"rotate("+C+","+O+","+P+")"}).call(F.positionText,O,P)}function calcTextAngle(e,t,r,a){var n,i;i=Math.abs(r-e);if(r>=e){n=t-a}else{n=a-t}return-180/Math.PI*Math.atan2(n,i)}function calcTextPosition(e,t,r,a,n,i,o){var l=n.label.textposition;var s=n.label.textangle;var c=n.label.padding;var u=n.type;var f=Math.PI/180*i;var d=Math.sin(f);var v=Math.cos(f);var h=n.label.xanchor;var p=n.label.yanchor;var g,m,y,x;if(u==="line"){if(l==="start"){g=e;m=t}else if(l==="end"){g=r;m=a}else{g=(e+r)/2;m=(t+a)/2}if(h==="auto"){if(l==="start"){if(s==="auto"){if(r>e)h="left";else if(r<e)h="right";else h="center"}else{if(r>e)h="right";else if(r<e)h="left";else h="center"}}else if(l==="end"){if(s==="auto"){if(r>e)h="right";else if(r<e)h="left";else h="center"}else{if(r>e)h="left";else if(r<e)h="right";else h="center"}}else{h="center"}}var _={left:1,center:0,right:-1};var b={bottom:-1,middle:0,top:1};if(s==="auto"){var w=b[p];y=-c*d*w;x=c*v*w}else{var T=_[h];var k=b[p];y=c*T;x=c*k}g=g+y;m=m+x}else{y=c+3;if(l.indexOf("right")!==-1){g=Math.max(e,r)-y;if(h==="auto")h="right"}else if(l.indexOf("left")!==-1){g=Math.min(e,r)+y;if(h==="auto")h="left"}else{g=(e+r)/2;if(h==="auto")h="center"}if(l.indexOf("top")!==-1){m=Math.min(t,a)}else if(l.indexOf("bottom")!==-1){m=Math.max(t,a)}else{m=(t+a)/2}x=c;if(p==="bottom"){m=m-x}else if(p==="top"){m=m+x}}var A=D[p];var M=n.label.font.size;var S=o.height;var C=(S*A-M)*d;var L=-(S*A-M)*v;return{textx:g+C,texty:m+L,xanchor:h}}function movePath(e,l,s){return e.replace(f.segmentRE,function(e){var t=0;var r=e.charAt(0);var a=f.paramIsX[r];var n=f.paramIsY[r];var i=f.numParams[r];var o=e.substr(1).replace(f.paramRE,function(e){if(t>=i)return e;if(a[t])e=l(e);else if(n[t])e=s(e);t++;return e});return r+o})}function activateShape(e,t){if(!couldHaveActiveShape(e))return;var r=t.node();var a=+r.getAttribute("data-index");if(a>=0){if(a===e._fullLayout._activeShapeIndex){deactivateShape(e);return}e._fullLayout._activeShapeIndex=a;e._fullLayout._deactivateShape=deactivateShape;draw(e)}}function deactivateShape(e){if(!couldHaveActiveShape(e))return;var t=e._fullLayout._activeShapeIndex;if(t>=0){o(e);delete e._fullLayout._activeShapeIndex;draw(e)}}function eraseActiveShape(e){if(!couldHaveActiveShape(e))return;o(e);var t=e._fullLayout._activeShapeIndex;var r=(e.layout||{}).shapes||[];if(t<r.length){var a=[];for(var n=0;n<r.length;n++){if(n!==t){a.push(r[n])}}delete e._fullLayout._activeShapeIndex;i.call("_guiRelayout",e,{shapes:a})}}},9241:function(e,t,r){"use strict";var a=r(1940);var n=r(9952).P;var i=r(1426).extendFlat;e.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:i({},n,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},label:{text:{valType:"string",dflt:"",editType:"none"},font:a({editType:"none"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"none"},textangle:{valType:"angle",dflt:"auto",editType:"none"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"none"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"none"},padding:{valType:"number",dflt:3,min:0,editType:"none"},editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},9995:function(e){"use strict";var t=32;e.exports={CIRCLE_SIDES:t,i000:0,i090:t/4,i180:t/2,i270:t/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5547:function(e,t,r){"use strict";var s=r(7901);var c=r(1828);function dfltLabelYanchor(e,t){return e?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}e.exports=function supplyDrawNewShapeDefaults(e,t,r){r("newshape.drawdirection");r("newshape.layer");r("newshape.fillcolor");r("newshape.fillrule");r("newshape.opacity");var a=r("newshape.line.width");if(a){var n=(e||{}).plot_bgcolor||"#FFF";r("newshape.line.color",s.contrast(n));r("newshape.line.dash")}var i=e.dragmode==="drawline";var o=r("newshape.label.text");if(o){r("newshape.label.textangle");var l=r("newshape.label.textposition",i?"middle":"middle center");r("newshape.label.xanchor");r("newshape.label.yanchor",dfltLabelYanchor(i,l));r("newshape.label.padding");c.coerceFont(r,"newshape.label.font",t.font)}r("activeshape.fillcolor");r("activeshape.opacity")}},165:function(e,f,t){"use strict";var F=t(5616);var r=t(9995);var N=r.CIRCLE_SIDES;var d=r.SQRT2;var a=t(5549);var E=a.p2r;var z=a.r2p;var u=[0,3,4,5,6,1,2];var v=[0,3,4,1,2];f.writePaths=function(e){var t=e.length;if(!t)return"M0,0Z";var r="";for(var a=0;a<t;a++){var n=e[a].length;for(var i=0;i<n;i++){var o=e[a][i][0];if(o==="Z"){r+="Z"}else{var l=e[a][i].length;for(var s=0;s<l;s++){var c=s;if(o==="Q"||o==="S"){c=v[s]}else if(o==="C"){c=u[s]}r+=e[a][i][c];if(s>0&&s<l-1){r+=","}}}}}return r};f.readPaths=function(e,t,r,a){var n=F(e);var i=[];var o=-1;var l=function(){o++;i[o]=[]};var s;var c=0;var u=0;var f;var d;var v=function(){f=c;d=u};v();for(var h=0;h<n.length;h++){var p=[];var g,m,y,x;var _=n[h][0];var b=_;switch(_){case"M":l();c=+n[h][1];u=+n[h][2];p.push([b,c,u]);v();break;case"Q":case"S":g=+n[h][1];y=+n[h][2];c=+n[h][3];u=+n[h][4];p.push([b,c,u,g,y]);break;case"C":g=+n[h][1];y=+n[h][2];m=+n[h][3];x=+n[h][4];c=+n[h][5];u=+n[h][6];p.push([b,c,u,g,y,m,x]);break;case"T":case"L":c=+n[h][1];u=+n[h][2];p.push([b,c,u]);break;case"H":b="L";c=+n[h][1];p.push([b,c,u]);break;case"V":b="L";u=+n[h][1];p.push([b,c,u]);break;case"A":b="L";var w=+n[h][1];var T=+n[h][2];if(!+n[h][4]){w=-w;T=-T}var k=c-w;var A=u;for(s=1;s<=N/2;s++){var M=2*Math.PI*s/N;p.push([b,k+w*Math.cos(M),A+T*Math.sin(M)])}break;case"Z":if(c!==f||u!==d){c=f;u=d;p.push([b,c,u])}break}var S=(r||{}).domain;var C=t._fullLayout._size;var L=r&&r.xsizemode==="pixel";var D=r&&r.ysizemode==="pixel";var O=a===false;for(var P=0;P<p.length;P++){for(s=0;s+2<7;s+=2){var I=p[P][s+1];var R=p[P][s+2];if(I===undefined||R===undefined)continue;c=I;u=R;if(r){if(r.xaxis&&r.xaxis.p2r){if(O)I-=r.xaxis._offset;if(L){I=z(r.xaxis,r.xanchor)+I}else{I=E(r.xaxis,I)}}else{if(O)I-=C.l;if(S)I=S.x[0]+I/C.w;else I=I/C.w}if(r.yaxis&&r.yaxis.p2r){if(O)R-=r.yaxis._offset;if(D){R=z(r.yaxis,r.yanchor)-R}else{R=E(r.yaxis,R)}}else{if(O)R-=C.t;if(S)R=S.y[1]-R/C.h;else R=1-R/C.h}}p[P][s+1]=I;p[P][s+2]=R}i[o].push(p[P].slice())}}return i};function almostEq(e,t){return Math.abs(e-t)<=1e-6}function dist(e,t){var r=t[1]-e[1];var a=t[2]-e[2];return Math.sqrt(r*r+a*a)}f.pointsOnRectangle=function(e){var t=e.length;if(t!==5)return false;for(var r=1;r<3;r++){var a=e[0][r]-e[1][r];var n=e[3][r]-e[2][r];if(!almostEq(a,n))return false;var i=e[0][r]-e[3][r];var o=e[1][r]-e[2][r];if(!almostEq(i,o))return false}if(!almostEq(e[0][1],e[1][1])&&!almostEq(e[0][1],e[3][1]))return false;return!!(dist(e[0],e[1])*dist(e[0],e[3]))};f.pointsOnEllipse=function(e){var t=e.length;if(t!==N+1)return false;t=N;for(var r=0;r<t;r++){var a=(t*2-r)%t;var n=(t/2+a)%t;var i=(t/2+r)%t;if(!almostEq(dist(e[r],e[i]),dist(e[a],e[n])))return false}return true};f.handleEllipse=function(e,t,r){if(!e)return[t,r];var a=f.ellipseOver({x0:t[0],y0:t[1],x1:r[0],y1:r[1]});var n=(a.x1+a.x0)/2;var i=(a.y1+a.y0)/2;var o=(a.x1-a.x0)/2;var l=(a.y1-a.y0)/2;if(!o)o=l=l/d;if(!l)l=o=o/d;var s=[];for(var c=0;c<N;c++){var u=c*2*Math.PI/N;s.push([n+o*Math.cos(u),i+l*Math.sin(u)])}return s};f.ellipseOver=function(e){var t=e.x0;var r=e.y0;var a=e.x1;var n=e.y1;var i=a-t;var o=n-r;t-=i;r-=o;var l=(t+a)/2;var s=(r+n)/2;var c=d;i*=c;o*=c;return{x0:l-i,y0:s-o,x1:l+i,y1:s+o}};f.fixDatesForPaths=function(e,t,r){var a=t.type==="date";var n=r.type==="date";if(!a&&!n)return e;for(var i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++){for(var l=0;l+2<e[i][o].length;l+=2){if(a)e[i][o][l+1]=e[i][o][l+1].replace(" ","_");if(n)e[i][o][l+2]=e[i][o][l+2].replace(" ","_")}}}return e}},551:function(e,t,r){"use strict";var a=r(4505);var j=a.drawMode;var V=a.openMode;var n=r(9995);var Y=n.i000;var U=n.i090;var G=n.i180;var q=n.i270;var Z=n.cos45;var W=n.sin45;var i=r(5549);var X=i.p2r;var J=i.r2p;var o=r(1873);var K=o.clearOutline;var l=r(165);var Q=l.readPaths;var $=l.writePaths;var ee=l.ellipseOver;var te=l.fixDatesForPaths;e.exports=function newShapes(e,t){if(!e.length)return;var r=e[0][0];if(!r)return;var a=r.getAttribute("d");var n=t.gd;var i=n._fullLayout.newshape;var o=t.plotinfo;var l=o.xaxis;var s=o.yaxis;var N=!!o.domain||!o.xaxis;var E=!!o.domain||!o.yaxis;var c=t.isActiveShape;var u=t.dragmode;var f=(n.layout||{}).shapes||[];if(!j(u)&&c!==undefined){var d=n._fullLayout._activeShapeIndex;if(d<f.length){switch(n._fullLayout.shapes[d].type){case"rect":u="drawrect";break;case"circle":u="drawcircle";break;case"line":u="drawline";break;case"path":var v=f[d].path||"";if(v[v.length-1]==="Z"){u="drawclosedpath"}else{u="drawopenpath"}break}}}var z=V(u);var h=Q(a,n,o,c);var p={editable:true,label:i.label,xref:N?"paper":l._id,yref:E?"paper":s._id,layer:i.layer,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}};if(!z){p.fillcolor=i.fillcolor;p.fillrule=i.fillrule}var g;if(h.length===1)g=h[0];if(g&&g.length===5&&u==="drawrect"){p.type="rect";p.x0=g[0][1];p.y0=g[0][2];p.x1=g[2][1];p.y1=g[2][2]}else if(g&&u==="drawline"){p.type="line";p.x0=g[0][1];p.y0=g[0][2];p.x1=g[1][1];p.y1=g[1][2]}else if(g&&u==="drawcircle"){p.type="circle";var m=g[Y][1];var y=g[U][1];var x=g[G][1];var _=g[q][1];var b=g[Y][2];var w=g[U][2];var T=g[G][2];var k=g[q][2];var A=o.xaxis&&(o.xaxis.type==="date"||o.xaxis.type==="log");var M=o.yaxis&&(o.yaxis.type==="date"||o.yaxis.type==="log");if(A){m=J(o.xaxis,m);y=J(o.xaxis,y);x=J(o.xaxis,x);_=J(o.xaxis,_)}if(M){b=J(o.yaxis,b);w=J(o.yaxis,w);T=J(o.yaxis,T);k=J(o.yaxis,k)}var S=(y+_)/2;var C=(b+T)/2;var B=(_-y+x-m)/2;var H=(k-w+T-b)/2;var L=ee({x0:S,y0:C,x1:S+B*Z,y1:C+H*W});if(A){L.x0=X(o.xaxis,L.x0);L.x1=X(o.xaxis,L.x1)}if(M){L.y0=X(o.yaxis,L.y0);L.y1=X(o.yaxis,L.y1)}p.x0=L.x0;p.y0=L.y0;p.x1=L.x1;p.y1=L.y1}else{p.type="path";if(l&&s)te(h,l,s);p.path=$(h);g=null}K(n);var D=t.editHelpers;var O=(D||{}).modifyItem;var P=[];for(var I=0;I<f.length;I++){var R=n._fullLayout.shapes[I];P[I]=R._input;if(c!==undefined&&I===n._fullLayout._activeShapeIndex){var F=p;switch(R.type){case"line":case"rect":case"circle":O("x0",F.x0);O("x1",F.x1);O("y0",F.y0);O("y1",F.y1);break;case"path":O("path",F.path);break}}}if(c===undefined){P.push(p);return P}return D?D.getUpdateObj():{}}},1873:function(e){"use strict";function clearOutlineControllers(e){var t=e._fullLayout._zoomlayer;if(t){t.selectAll(".outline-controllers").remove()}}function clearOutline(e){var t=e._fullLayout._zoomlayer;if(t){t.selectAll(".select-outline").remove()}e._fullLayout._outlining=false}e.exports={clearOutlineControllers:clearOutlineControllers,clearOutline:clearOutline}},477:function(e,A,t){"use strict";var v=t(1459);var h=t(1828);var M=t(9298);A.rangeToShapePosition=function(e){return e.type==="log"?e.r2d:function(e){return e}};A.shapePositionToRange=function(e){return e.type==="log"?e.d2r:function(e){return e}};A.decodeDate=function(t){return function(e){if(e.replace)e=e.replace("_"," ");return t(e)}};A.encodeDate=function(t){return function(e){return t(e).replace(" ","_")}};A.extractPathCoords=function(e,i,o){var l=[];var t=e.match(v.segmentRE);t.forEach(function(e){var t=i[e.charAt(0)].drawn;if(t===undefined)return;var r=e.substr(1).match(v.paramRE);if(!r||r.length<t)return;var a=r[t];var n=o?a:h.cleanNumber(a);l.push(n)});return l};A.getDataToPixel=function(e,t,r,a){var n=e._fullLayout._size;var i;if(t){if(a==="domain"){i=function(e){return t._length*(r?1-e:e)+t._offset}}else{var o=A.shapePositionToRange(t);i=function(e){return t._offset+t.r2p(o(e,true))};if(t.type==="date")i=A.decodeDate(i)}}else if(r){i=function(e){return n.t+n.h*(1-e)}}else{i=function(e){return n.l+n.w*e}}return i};A.getPixelToData=function(e,r,a,t){var n=e._fullLayout._size;var i;if(r){if(t==="domain"){i=function(e){var t=(e-r._offset)/r._length;return a?1-t:t}}else{var o=A.rangeToShapePosition(r);i=function(e){return o(r.p2r(e-r._offset))}}}else if(a){i=function(e){return 1-(e-n.t)/n.h}}else{i=function(e){return(e-n.l)/n.w}}return i};A.roundPositionForSharpStrokeRendering=function(e,t){var r=Math.round(t%2)===1;var a=Math.round(e);return r?a+.5:a};A.makeShapesOptionsAndPlotinfo=function(e,t){var r=e._fullLayout.shapes[t]||{};var a=e._fullLayout._plots[r.xref+r.yref];var n=!!a;if(n){a._hadPlotinfo=true}else{a={};if(r.xref&&r.xref!=="paper")a.xaxis=e._fullLayout[r.xref+"axis"];if(r.yref&&r.yref!=="paper")a.yaxis=e._fullLayout[r.yref+"axis"]}a.xsizemode=r.xsizemode;a.ysizemode=r.ysizemode;a.xanchor=r.xanchor;a.yanchor=r.yanchor;return{options:r,plotinfo:a}};A.makeSelectionsOptionsAndPlotinfo=function(e,t){var r=e._fullLayout.selections[t]||{};var a=e._fullLayout._plots[r.xref+r.yref];var n=!!a;if(n){a._hadPlotinfo=true}else{a={};if(r.xref)a.xaxis=e._fullLayout[r.xref+"axis"];if(r.yref)a.yaxis=e._fullLayout[r.yref+"axis"]}return{options:r,plotinfo:a}};A.getPathString=function(e,t){var r=t.type;var a=M.getRefType(t.xref);var n=M.getRefType(t.yref);var i=M.getFromId(e,t.xref);var o=M.getFromId(e,t.yref);var l=e._fullLayout._size;var s,c,u,f;var d,v,h,p;if(i){if(a==="domain"){c=function(e){return i._offset+i._length*e}}else{s=A.shapePositionToRange(i);c=function(e){return i._offset+i.r2p(s(e,true))}}}else{c=function(e){return l.l+l.w*e}}if(o){if(n==="domain"){f=function(e){return o._offset+o._length*(1-e)}}else{u=A.shapePositionToRange(o);f=function(e){return o._offset+o.r2p(u(e,true))}}}else{f=function(e){return l.t+l.h*(1-e)}}if(r==="path"){if(i&&i.type==="date")c=A.decodeDate(c);if(o&&o.type==="date")f=A.decodeDate(f);return convertPath(t,c,f)}if(t.xsizemode==="pixel"){var g=c(t.xanchor);d=g+t.x0;v=g+t.x1}else{d=c(t.x0);v=c(t.x1)}if(t.ysizemode==="pixel"){var m=f(t.yanchor);h=m-t.y0;p=m-t.y1}else{h=f(t.y0);p=f(t.y1)}if(r==="line")return"M"+d+","+h+"L"+v+","+p;if(r==="rect")return"M"+d+","+h+"H"+v+"V"+p+"H"+d+"Z";var y=(d+v)/2;var x=(h+p)/2;var _=Math.abs(y-d);var b=Math.abs(x-h);var w="A"+_+","+b;var T=y+_+","+x;var k=y+","+(x-b);return"M"+T+w+" 0 1,1 "+k+w+" 0 0,1 "+T+"Z"};function convertPath(e,l,s){var t=e.path;var c=e.xsizemode;var u=e.ysizemode;var f=e.xanchor;var d=e.yanchor;return t.replace(v.segmentRE,function(e){var t=0;var r=e.charAt(0);var a=v.paramIsX[r];var n=v.paramIsY[r];var i=v.numParams[r];var o=e.substr(1).replace(v.paramRE,function(e){if(a[t]){if(c==="pixel")e=l(f)+Number(e);else e=l(e)}else if(n[t]){if(u==="pixel")e=s(d)-Number(e);else e=s(e)}t++;if(t>i)e="X";return e});if(t>i){o=o.replace(/[\s,]*X.*/,"");h.log("Ignoring extra params in segment "+e)}return r+o})}},9853:function(e,t,r){"use strict";var a=r(4031);e.exports={moduleType:"component",name:"shapes",layoutAttributes:r(9827),supplyLayoutDefaults:r(4726),supplyDrawNewShapeDefaults:r(5547),includeBasePlot:r(6325)("shapes"),calcAutorange:r(5627),draw:a.draw,drawOne:a.drawOne}},5067:function(e,t,r){"use strict";var a=r(1940);var n=r(5025);var i=r(1426).extendDeepAll;var o=r(962).overrideAll;var l=r(5594);var s=r(4467).templatedArray;var c=r(8292);var u=s("step",{visible:{valType:"boolean",dflt:true},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:true,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:true}});e.exports=o(s("slider",{visible:{valType:"boolean",dflt:true},active:{valType:"number",min:0,dflt:0},steps:u,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(n({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:l.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:true},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:a({})},font:a({}),activebgcolor:{valType:"color",dflt:c.gripBgActiveColor},bgcolor:{valType:"color",dflt:c.railBgColor},bordercolor:{valType:"color",dflt:c.railBorderColor},borderwidth:{valType:"number",min:0,dflt:c.railBorderWidth},ticklen:{valType:"number",min:0,dflt:c.tickLength},tickcolor:{valType:"color",dflt:c.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:c.minorTickLength}}),"arraydraw","from-root")},8292:function(e){"use strict";e.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},2343:function(e,t,r){"use strict";var u=r(1828);var f=r(5501);var d=r(5067);var a=r(8292);var n=a.name;var i=d.steps;e.exports=function slidersDefaults(e,t){f(e,t,{name:n,handleItemDefaults:sliderDefaults})};function sliderDefaults(r,a,e){function coerce(e,t){return u.coerce(r,a,d,e,t)}var t=f(r,a,{name:"steps",handleItemDefaults:stepDefaults});var n=0;for(var i=0;i<t.length;i++){if(t[i].visible)n++}var o;if(n<2)o=a.visible=false;else o=coerce("visible");if(!o)return;a._stepCount=n;var l=a._visibleSteps=u.filterVisible(t);var s=coerce("active");if(!(t[s]||{}).visible)a.active=l[0]._index;coerce("x");coerce("y");u.noneOrAll(r,a,["x","y"]);coerce("xanchor");coerce("yanchor");coerce("len");coerce("lenmode");coerce("pad.t");coerce("pad.r");coerce("pad.b");coerce("pad.l");u.coerceFont(coerce,"font",e.font);var c=coerce("currentvalue.visible");if(c){coerce("currentvalue.xanchor");coerce("currentvalue.prefix");coerce("currentvalue.suffix");coerce("currentvalue.offset");u.coerceFont(coerce,"currentvalue.font",a.font)}coerce("transition.duration");coerce("transition.easing");coerce("bgcolor");coerce("activebgcolor");coerce("bordercolor");coerce("borderwidth");coerce("ticklen");coerce("tickwidth");coerce("tickcolor");coerce("minorticklen")}function stepDefaults(r,a){function coerce(e,t){return u.coerce(r,a,i,e,t)}var e;if(r.method!=="skip"&&!Array.isArray(r.args)){e=a.visible=false}else e=coerce("visible");if(e){coerce("method");coerce("args");var t=coerce("label","step-"+a._index);coerce("value",t);coerce("execute")}}},4504:function(e,a,t){"use strict";var h=t(9898);var p=t(4875);var l=t(7901);var g=t(1424);var m=t(1828);var s=m.strTranslate;var y=t(3893);var c=t(4467).arrayEditor;var x=t(8292);var r=t(8783);var d=r.LINE_SPACING;var _=r.FROM_TL;var b=r.FROM_BR;e.exports=function draw(a){var e=a._context.staticPlot;var t=a._fullLayout;var r=makeSliderData(t,a);var n=t._infolayer.selectAll("g."+x.containerClassName).data(r.length>0?[0]:[]);n.enter().append("g").classed(x.containerClassName,true).style("cursor",e?null:"ew-resize");function clearSlider(e){if(e._commandObserver){e._commandObserver.remove();delete e._commandObserver}p.autoMargin(a,autoMarginId(e))}n.exit().each(function(){h.select(this).selectAll("g."+x.groupClassName).each(clearSlider)}).remove();if(r.length===0)return;var i=n.selectAll("g."+x.groupClassName).data(r,keyFunction);i.enter().append("g").classed(x.groupClassName,true);i.exit().each(clearSlider).remove();for(var o=0;o<r.length;o++){var l=r[o];findDimensions(a,l)}i.each(function(e){var r=h.select(this);computeLabelSteps(e);p.manageCommandObserver(a,e,e._visibleSteps,function(e){var t=r.data()[0];if(t.active===e.index)return;if(t._dragging)return;setActive(a,r,t,e.index,false,true)});drawSlider(a,h.select(this),e)})};function autoMarginId(e){return x.autoMarginIdRoot+e._index}function makeSliderData(e,t){var r=e[x.name];var a=[];for(var n=0;n<r.length;n++){var i=r[n];if(!i.visible)continue;i._gd=t;a.push(i)}return a}function keyFunction(e){return e._index}function findDimensions(e,i){var t=g.tester.selectAll("g."+x.labelGroupClass).data(i._visibleSteps);t.enter().append("g").classed(x.labelGroupClass,true);var o=0;var l=0;t.each(function(e){var t=h.select(this);var r=drawLabel(t,{step:e},i);var a=r.node();if(a){var n=g.bBox(a);l=Math.max(l,n.height);o=Math.max(o,n.width)}});t.remove();var n=i._dims={};n.inputAreaWidth=Math.max(x.railWidth,x.gripHeight);var r=e._fullLayout._size;n.lx=r.l+r.w*i.x;n.ly=r.t+r.h*(1-i.y);if(i.lenmode==="fraction"){n.outerLength=Math.round(r.w*i.len)}else{n.outerLength=i.len}n.inputAreaStart=0;n.inputAreaLength=Math.round(n.outerLength-i.pad.l-i.pad.r);var a=n.inputAreaLength-2*x.stepInset;var s=a/(i._stepCount-1);var c=o+x.labelPadding;n.labelStride=Math.max(1,Math.ceil(c/s));n.labelHeight=l;n.currentValueMaxWidth=0;n.currentValueHeight=0;n.currentValueTotalHeight=0;n.currentValueMaxLines=1;if(i.currentvalue.visible){var u=g.tester.append("g");t.each(function(e){var t=drawCurrentValue(u,i,e.label);var r=t.node()&&g.bBox(t.node())||{width:0,height:0};var a=y.lineCount(t);n.currentValueMaxWidth=Math.max(n.currentValueMaxWidth,Math.ceil(r.width));n.currentValueHeight=Math.max(n.currentValueHeight,Math.ceil(r.height));n.currentValueMaxLines=Math.max(n.currentValueMaxLines,a)});n.currentValueTotalHeight=n.currentValueHeight+i.currentvalue.offset;u.remove()}n.height=n.currentValueTotalHeight+x.tickOffset+i.ticklen+x.labelOffset+n.labelHeight+i.pad.t+i.pad.b;var f="left";if(m.isRightAnchor(i)){n.lx-=n.outerLength;f="right"}if(m.isCenterAnchor(i)){n.lx-=n.outerLength/2;f="center"}var d="top";if(m.isBottomAnchor(i)){n.ly-=n.height;d="bottom"}if(m.isMiddleAnchor(i)){n.ly-=n.height/2;d="middle"}n.outerLength=Math.ceil(n.outerLength);n.height=Math.ceil(n.height);n.lx=Math.round(n.lx);n.ly=Math.round(n.ly);var v={y:i.y,b:n.height*b[d],t:n.height*_[d]};if(i.lenmode==="fraction"){v.l=0;v.xl=i.x-i.len*_[f];v.r=0;v.xr=i.x+i.len*b[f]}else{v.x=i.x;v.l=n.outerLength*_[f];v.r=n.outerLength*b[f]}p.autoMargin(e,autoMarginId(i),v)}function drawSlider(e,t,r){if(!(r.steps[r.active]||{}).visible){r.active=r._visibleSteps[0]._index}t.call(drawCurrentValue,r).call(drawRail,r).call(drawLabelGroup,r).call(drawTicks,r).call(drawTouchRect,e,r).call(drawGrip,e,r);var a=r._dims;g.setTranslate(t,a.lx+r.pad.l,a.ly+r.pad.t);t.call(setGripPosition,r,false);t.call(drawCurrentValue,r)}function drawCurrentValue(e,t,r){if(!t.currentvalue.visible)return;var a=t._dims;var n,i;switch(t.currentvalue.xanchor){case"right":n=a.inputAreaLength-x.currentValueInset-a.currentValueMaxWidth;i="left";break;case"center":n=a.inputAreaLength*.5;i="middle";break;default:n=x.currentValueInset;i="left"}var o=m.ensureSingle(e,"text",x.labelClass,function(e){e.attr({"text-anchor":i,"data-notex":1})});var l=t.currentvalue.prefix?t.currentvalue.prefix:"";if(typeof r==="string"){l+=r}else{var s=t.steps[t.active].label;var c=t._gd._fullLayout._meta;if(c)s=m.templateString(s,c);l+=s}if(t.currentvalue.suffix){l+=t.currentvalue.suffix}o.call(g.font,t.currentvalue.font).text(l).call(y.convertToTspans,t._gd);var u=y.lineCount(o);var f=(a.currentValueMaxLines+1-u)*t.currentvalue.font.size*d;y.positionText(o,n,f);return o}function drawGrip(t,r,a){var e=m.ensureSingle(t,"rect",x.gripRectClass,function(e){e.call(attachGripEvents,r,t,a).style("pointer-events","all")});e.attr({width:x.gripWidth,height:x.gripHeight,rx:x.gripRadius,ry:x.gripRadius}).call(l.stroke,a.bordercolor).call(l.fill,a.bgcolor).style("stroke-width",a.borderwidth+"px")}function drawLabel(e,t,r){var a=m.ensureSingle(e,"text",x.labelClass,function(e){e.attr({"text-anchor":"middle","data-notex":1})});var n=t.step.label;var i=r._gd._fullLayout._meta;if(i)n=m.templateString(n,i);a.call(g.font,r.font).text(n).call(y.convertToTspans,r._gd);return a}function drawLabelGroup(e,r){var t=m.ensureSingle(e,"g",x.labelsClass);var a=r._dims;var n=t.selectAll("g."+x.labelGroupClass).data(a.labelSteps);n.enter().append("g").classed(x.labelGroupClass,true);n.exit().remove();n.each(function(e){var t=h.select(this);t.call(drawLabel,e,r);g.setTranslate(t,normalizedValueToPosition(r,e.fraction),x.tickOffset+r.ticklen+r.font.size*d+x.labelOffset+a.currentValueTotalHeight)})}function handleInput(e,t,r,a,n){var i=Math.round(a*(r._stepCount-1));var o=r._visibleSteps[i]._index;if(o!==r.active){setActive(e,t,r,o,true,n)}}function setActive(t,r,e,a,n,i){var o=e.active;e.active=a;c(t.layout,x.name,e).applyUpdate("active",a);var l=e.steps[e.active];r.call(setGripPosition,e,i);r.call(drawCurrentValue,e);t.emit("plotly_sliderchange",{slider:e,step:e.steps[e.active],interaction:n,previousActive:o});if(l&&l.method&&n){if(r._nextMethod){r._nextMethod.step=l;r._nextMethod.doCallback=n;r._nextMethod.doTransition=i}else{r._nextMethod={step:l,doCallback:n,doTransition:i};r._nextMethodRaf=window.requestAnimationFrame(function(){var e=r._nextMethod.step;if(!e.method)return;if(e.execute){p.executeAPICommand(t,e.method,e.args)}r._nextMethod=null;r._nextMethodRaf=null})}}}function attachGripEvents(e,a,n){if(a._context.staticPlot)return;var i=n.node();var o=h.select(a);function getSliderOpts(){return n.data()[0]}function mouseDownHandler(){var e=getSliderOpts();a.emit("plotly_sliderstart",{slider:e});var t=n.select("."+x.gripRectClass);h.event.stopPropagation();h.event.preventDefault();t.call(l.fill,e.activebgcolor);var r=positionToNormalizedValue(e,h.mouse(i)[0]);handleInput(a,n,e,r,true);e._dragging=true;function mouseMoveHandler(){var e=getSliderOpts();var t=positionToNormalizedValue(e,h.mouse(i)[0]);handleInput(a,n,e,t,false)}o.on("mousemove",mouseMoveHandler);o.on("touchmove",mouseMoveHandler);function mouseUpHandler(){var e=getSliderOpts();e._dragging=false;t.call(l.fill,e.bgcolor);o.on("mouseup",null);o.on("mousemove",null);o.on("touchend",null);o.on("touchmove",null);a.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})}o.on("mouseup",mouseUpHandler);o.on("touchend",mouseUpHandler)}e.on("mousedown",mouseDownHandler);e.on("touchstart",mouseDownHandler)}function drawTicks(e,n){var t=e.selectAll("rect."+x.tickRectClass).data(n._visibleSteps);var i=n._dims;t.enter().append("rect").classed(x.tickRectClass,true);t.exit().remove();t.attr({width:n.tickwidth+"px","shape-rendering":"crispEdges"});t.each(function(e,t){var r=t%i.labelStride===0;var a=h.select(this);a.attr({height:r?n.ticklen:n.minorticklen}).call(l.fill,r?n.tickcolor:n.tickcolor);g.setTranslate(a,normalizedValueToPosition(n,t/(n._stepCount-1))-.5*n.tickwidth,(r?x.tickOffset:x.minorTickOffset)+i.currentValueTotalHeight)})}function computeLabelSteps(e){var t=e._dims;t.labelSteps=[];var r=e._stepCount;for(var a=0;a<r;a+=t.labelStride){t.labelSteps.push({fraction:a/(r-1),step:e._visibleSteps[a]})}}function setGripPosition(e,t,r){var a=e.select("rect."+x.gripRectClass);var n=0;for(var i=0;i<t._stepCount;i++){if(t._visibleSteps[i]._index===t.active){n=i;break}}var o=normalizedValueToPosition(t,n/(t._stepCount-1));if(t._invokingCommand)return;var l=a;if(r&&t.transition.duration>0){l=l.transition().duration(t.transition.duration).ease(t.transition.easing)}l.attr("transform",s(o-x.gripWidth*.5,t._dims.currentValueTotalHeight))}function normalizedValueToPosition(e,t){var r=e._dims;return r.inputAreaStart+x.stepInset+(r.inputAreaLength-2*x.stepInset)*Math.min(1,Math.max(0,t))}function positionToNormalizedValue(e,t){var r=e._dims;return Math.min(1,Math.max(0,(t-x.stepInset-r.inputAreaStart)/(r.inputAreaLength-2*x.stepInset-2*r.inputAreaStart)))}function drawTouchRect(t,r,a){var e=a._dims;var n=m.ensureSingle(t,"rect",x.railTouchRectClass,function(e){e.call(attachGripEvents,r,t,a).style("pointer-events","all")});n.attr({width:e.inputAreaLength,height:Math.max(e.inputAreaWidth,x.tickOffset+a.ticklen+e.labelHeight)}).call(l.fill,a.bgcolor).attr("opacity",0);g.setTranslate(n,0,e.currentValueTotalHeight)}function drawRail(e,t){var r=t._dims;var a=r.inputAreaLength-x.railInset*2;var n=m.ensureSingle(e,"rect",x.railRectClass);n.attr({width:a,height:x.railWidth,rx:x.railRadius,ry:x.railRadius,"shape-rendering":"crispEdges"}).call(l.stroke,t.bordercolor).call(l.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");g.setTranslate(n,x.railInset,(r.inputAreaWidth-x.railWidth)*.5+r.currentValueTotalHeight)}},3243:function(e,t,r){"use strict";var a=r(8292);e.exports={moduleType:"component",name:a.name,layoutAttributes:r(5067),supplyLayoutDefaults:r(2343),draw:r(4504)}},2998:function(e,t,r){"use strict";var A=r(9898);var M=r(2770);var S=r(4875);var C=r(3972);var L=r(1828);var D=L.strTranslate;var O=r(1424);var P=r(7901);var I=r(3893);var R=r(7822);var F=r(8783).OPPOSITE_SIDE;var N=/ [XY][0-9]* /;function draw(m,e,t){var y=t.propContainer;var r=t.propName;var a=t.placeholder;var n=t.traceIndex;var x=t.avoid||{};var i=t.attributes;var o=t.transform;var l=t.containerGroup;var _=m._fullLayout;var s=1;var c=false;var u=y.title;var b=(u&&u.text?u.text:"").trim();var f=u&&u.font?u.font:{};var d=f.family;var v=f.size;var h=f.color;var p;if(r==="title.text")p="titleText";else if(r.indexOf("axis")!==-1)p="axisTitleText";else if(r.indexOf("colorbar"!==-1))p="colorbarTitleText";var g=m._context.edits[p];if(b==="")s=0;else if(b.replace(N," % ")===a.replace(N," % ")){s=.2;c=true;if(!g)b=""}if(t._meta){b=L.templateString(b,t._meta)}else if(_._meta){b=L.templateString(b,_._meta)}var w=b||g;var T;if(!l){l=L.ensureSingle(_._infolayer,"g","g-"+e);T=_._hColorbarMoveTitle}var k=l.selectAll("text").data(w?[0]:[]);k.enter().append("text");k.text(b).attr("class",e);k.exit().remove();if(!w)return l;function titleLayout(e){L.syncOrAsync([drawTitle,scootTitle],e)}function drawTitle(e){var t;if(!o&&T){o={}}if(o){t="";if(o.rotate){t+="rotate("+[o.rotate,i.x,i.y]+")"}if(o.offset||T){t+=D(0,(o.offset||0)-(T||0))}}else{t=null}e.attr("transform",t);e.style({"font-family":d,"font-size":A.round(v,2)+"px",fill:P.rgb(h),opacity:s*P.opacity(h),"font-weight":S.fontWeight}).attr(i).call(I.convertToTspans,m);return S.previousPromises(m)}function scootTitle(e){var t=A.select(e.node().parentNode);if(x&&x.selection&&x.side&&b){t.attr("transform",null);var r=F[x.side];var a=x.side==="left"||x.side==="top"?-1:1;var n=M(x.pad)?x.pad:2;var i=O.bBox(t.node());var o={t:0,b:0,l:0,r:0};var l=m._fullLayout._reservedMargin;for(var s in l){for(var c in l[s]){var u=l[s][c];o[c]=Math.max(o[c],u)}}var f={left:o.l,top:o.t,right:_.width-o.r,bottom:_.height-o.b};var d=x.maxShift||a*(f[x.side]-i[x.side]);var v=0;if(d<0){v=d}else{var h=x.offsetLeft||0;var p=x.offsetTop||0;i.left-=h;i.right-=h;i.top-=p;i.bottom-=p;x.selection.each(function(){var e=O.bBox(this);if(L.bBoxIntersect(i,e,n)){v=Math.max(v,a*(e[x.side]-i[r])+n)}});v=Math.min(d,v);y._titleScoot=Math.abs(v)}if(v>0||d<0){var g={left:[-v,0],right:[v,0],top:[0,-v],bottom:[0,v]}[x.side];t.attr("transform",D(g[0],g[1]))}}}k.call(titleLayout);function setPlaceholder(){s=0;c=true;k.text(a).on("mouseover.opacity",function(){A.select(this).transition().duration(R.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){A.select(this).transition().duration(R.HIDE_PLACEHOLDER).style("opacity",0)})}if(g){if(!b)setPlaceholder();else k.on(".opacity",null);k.call(I.makeEditable,{gd:m}).on("edit",function(e){if(n!==undefined){C.call("_guiRestyle",m,r,e,n)}else{C.call("_guiRelayout",m,r,e)}}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(titleLayout)}).on("input",function(e){this.text(e||" ").call(I.positionText,i.x,i.y)})}k.classed("js-placeholder",c);return l}e.exports={draw:draw}},7163:function(e,t,r){"use strict";var a=r(1940);var n=r(2399);var i=r(1426).extendFlat;var o=r(962).overrideAll;var l=r(5025);var s=r(4467).templatedArray;var c=s("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:true,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:true,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:true}});e.exports=o(s("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:true},buttons:c,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(l({editType:"arraydraw"}),{}),font:a({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:n.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},5909:function(e){"use strict";e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},4897:function(e,t,r){"use strict";var i=r(1828);var o=r(5501);var l=r(7163);var a=r(5909);var n=a.name;var s=l.buttons;e.exports=function updateMenusDefaults(e,t){var r={name:n,handleItemDefaults:menuDefaults};o(e,t,r)};function menuDefaults(r,a,e){function coerce(e,t){return i.coerce(r,a,l,e,t)}var t=o(r,a,{name:"buttons",handleItemDefaults:buttonDefaults});var n=coerce("visible",t.length>0);if(!n)return;coerce("active");coerce("direction");coerce("type");coerce("showactive");coerce("x");coerce("y");i.noneOrAll(r,a,["x","y"]);coerce("xanchor");coerce("yanchor");coerce("pad.t");coerce("pad.r");coerce("pad.b");coerce("pad.l");i.coerceFont(coerce,"font",e.font);coerce("bgcolor",e.paper_bgcolor);coerce("bordercolor");coerce("borderwidth")}function buttonDefaults(r,a){function coerce(e,t){return i.coerce(r,a,s,e,t)}var e=coerce("visible",r.method==="skip"||Array.isArray(r.args));if(e){coerce("method");coerce("args");coerce("args2");coerce("label");coerce("execute")}}},3689:function(e,t,r){"use strict";var g=r(9898);var m=r(4875);var i=r(7901);var h=r(1424);var y=r(1828);var p=r(3893);var s=r(4467).arrayEditor;var x=r(8783).LINE_SPACING;var _=r(5909);var u=r(5849);e.exports=function draw(n){var e=n._fullLayout;var t=y.filterVisible(e[_.name]);function clearAutoMargin(e){m.autoMargin(n,autoMarginId(e))}var r=e._menulayer.selectAll("g."+_.containerClassName).data(t.length>0?[0]:[]);r.enter().append("g").classed(_.containerClassName,true).style("cursor","pointer");r.exit().each(function(){g.select(this).selectAll("g."+_.headerGroupClassName).each(clearAutoMargin)}).remove();if(t.length===0)return;var a=r.selectAll("g."+_.headerGroupClassName).data(t,keyFunction);a.enter().append("g").classed(_.headerGroupClassName,true);var i=y.ensureSingle(r,"g",_.dropdownButtonGroupClassName,function(e){e.style("pointer-events","all")});for(var o=0;o<t.length;o++){var l=t[o];findDimensions(n,l)}var s="updatemenus"+e._uid;var c=new u(n,i,s);if(a.enter().size()){i.node().parentNode.appendChild(i.node());i.call(removeAllButtons)}a.exit().each(function(e){i.call(removeAllButtons);clearAutoMargin(e)}).remove();a.each(function(t){var r=g.select(this);var a=t.type==="dropdown"?i:null;m.manageCommandObserver(n,t,t.buttons,function(e){setActive(n,t,t.buttons[e.index],r,a,c,e.index,true)});if(t.type==="dropdown"){drawHeader(n,r,i,c,t);if(isActive(i,t)){drawButtons(n,r,i,c,t)}}else{drawButtons(n,r,null,null,t)}})};function keyFunction(e){return e._index}function isFolded(e){return+e.attr(_.menuIndexAttrName)===-1}function isActive(e,t){return+e.attr(_.menuIndexAttrName)===t._index}function setActive(e,t,r,a,n,i,o,l){t.active=o;s(e.layout,_.name,t).applyUpdate("active",o);if(t.type==="buttons"){drawButtons(e,a,null,null,t)}else if(t.type==="dropdown"){n.attr(_.menuIndexAttrName,"-1");drawHeader(e,a,n,i,t);if(!l){drawButtons(e,a,n,i,t)}}}function drawHeader(e,t,r,a,n){var i=y.ensureSingle(t,"g",_.headerClassName,function(e){e.style("pointer-events","all")});var o=n._dims;var l=n.active;var s=n.buttons[l]||_.blankHeaderOpts;var c={y:n.pad.t,yPad:0,x:n.pad.l,xPad:0,index:0};var u={width:o.headerWidth,height:o.headerHeight};i.call(drawItem,n,s,e).call(setItemPosition,n,c,u);var f=y.ensureSingle(t,"text",_.headerArrowClassName,function(e){e.attr("text-anchor","end").call(h.font,n.font).text(_.arrowSymbol[n.direction])});f.attr({x:o.headerWidth-_.arrowOffsetX+n.pad.l,y:o.headerHeight/2+_.textOffsetY+n.pad.t});i.on("click",function(){r.call(removeAllButtons,String(isActive(r,n)?-1:n._index));drawButtons(e,t,r,a,n)});i.on("mouseover",function(){i.call(styleOnMouseOver)});i.on("mouseout",function(){i.call(styleOnMouseOut,n)});h.setTranslate(t,o.lx,o.ly)}function drawButtons(a,n,i,o,l){if(!i){i=n;i.attr("pointer-events","all")}var e=!isFolded(i)||l.type==="buttons"?l.buttons:[];var t=l.type==="dropdown"?_.dropdownButtonClassName:_.buttonClassName;var s=i.selectAll("g."+t).data(y.filterVisible(e));var r=s.enter().append("g").classed(t,true);var c=s.exit();if(l.type==="dropdown"){r.attr("opacity","0").transition().attr("opacity","1");c.transition().attr("opacity","0").remove()}else{c.remove()}var u=0;var f=0;var d=l._dims;var v=["up","down"].indexOf(l.direction)!==-1;if(l.type==="dropdown"){if(v){f=d.headerHeight+_.gapButtonHeader}else{u=d.headerWidth+_.gapButtonHeader}}if(l.type==="dropdown"&&l.direction==="up"){f=-_.gapButtonHeader+_.gapButton-d.openHeight}if(l.type==="dropdown"&&l.direction==="left"){u=-_.gapButtonHeader+_.gapButton-d.openWidth}var h={x:d.lx+u+l.pad.l,y:d.ly+f+l.pad.t,yPad:_.gapButton,xPad:_.gapButton,index:0};var p={l:h.x+l.borderwidth,t:h.y+l.borderwidth};s.each(function(e,t){var r=g.select(this);r.call(drawItem,l,e,a).call(setItemPosition,l,h);r.on("click",function(){if(g.event.defaultPrevented)return;if(e.execute){if(e.args2&&l.active===t){setActive(a,l,e,n,i,o,-1);m.executeAPICommand(a,e.method,e.args2)}else{setActive(a,l,e,n,i,o,t);m.executeAPICommand(a,e.method,e.args)}}a.emit("plotly_buttonclicked",{menu:l,button:e,active:l.active})});r.on("mouseover",function(){r.call(styleOnMouseOver)});r.on("mouseout",function(){r.call(styleOnMouseOut,l);s.call(styleButtons,l)})});s.call(styleButtons,l);if(v){p.w=Math.max(d.openWidth,d.headerWidth);p.h=h.y-p.t}else{p.w=h.x-p.l;p.h=Math.max(d.openHeight,d.headerHeight)}p.direction=l.direction;if(o){if(s.size()){drawScrollBox(a,n,i,o,l,p)}else{hideScrollBox(o)}}}function drawScrollBox(e,t,r,a,n,i){var o=n.direction;var l=o==="up"||o==="down";var s=n._dims;var c=n.active;var u,f;var d;if(l){f=0;for(d=0;d<c;d++){f+=s.heights[d]+_.gapButton}}else{u=0;for(d=0;d<c;d++){u+=s.widths[d]+_.gapButton}}a.enable(i,u,f);if(a.hbar){a.hbar.attr("opacity","0").transition().attr("opacity","1")}if(a.vbar){a.vbar.attr("opacity","0").transition().attr("opacity","1")}}function hideScrollBox(e){var t=!!e.hbar;var r=!!e.vbar;if(t){e.hbar.transition().attr("opacity","0").each("end",function(){t=false;if(!r)e.disable()})}if(r){e.vbar.transition().attr("opacity","0").each("end",function(){r=false;if(!t)e.disable()})}}function drawItem(e,t,r,a){e.call(drawItemRect,t).call(drawItemText,t,r,a)}function drawItemRect(e,t){var r=y.ensureSingle(e,"rect",_.itemRectClassName,function(e){e.attr({rx:_.rx,ry:_.ry,"shape-rendering":"crispEdges"})});r.call(i.stroke,t.bordercolor).call(i.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function drawItemText(e,t,r,a){var n=y.ensureSingle(e,"text",_.itemTextClassName,function(e){e.attr({"text-anchor":"start","data-notex":1})});var i=r.label;var o=a._fullLayout._meta;if(o)i=y.templateString(i,o);n.call(h.font,t.font).text(i).call(p.convertToTspans,a)}function styleButtons(e,a){var n=a.active;e.each(function(e,t){var r=g.select(this);if(t===n&&a.showactive){r.select("rect."+_.itemRectClassName).call(i.fill,_.activeColor)}})}function styleOnMouseOver(e){e.select("rect."+_.itemRectClassName).call(i.fill,_.hoverColor)}function styleOnMouseOut(e,t){e.select("rect."+_.itemRectClassName).call(i.fill,t.bgcolor)}function findDimensions(c,u){var f=u._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0};var e=h.tester.selectAll("g."+_.dropdownButtonClassName).data(y.filterVisible(u.buttons));e.enter().append("g").classed(_.dropdownButtonClassName,true);var d=["up","down"].indexOf(u.direction)!==-1;e.each(function(e,t){var r=g.select(this);r.call(drawItem,u,e,c);var a=r.select("."+_.itemTextClassName);var n=a.node()&&h.bBox(a.node()).width;var i=Math.max(n+_.textPadX,_.minWidth);var o=u.font.size*x;var l=p.lineCount(a);var s=Math.max(o*l,_.minHeight)+_.textOffsetY;s=Math.ceil(s);i=Math.ceil(i);f.widths[t]=i;f.heights[t]=s;f.height1=Math.max(f.height1,s);f.width1=Math.max(f.width1,i);if(d){f.totalWidth=Math.max(f.totalWidth,i);f.openWidth=f.totalWidth;f.totalHeight+=s+_.gapButton;f.openHeight+=s+_.gapButton}else{f.totalWidth+=i+_.gapButton;f.openWidth+=i+_.gapButton;f.totalHeight=Math.max(f.totalHeight,s);f.openHeight=f.totalHeight}});if(d){f.totalHeight-=_.gapButton}else{f.totalWidth-=_.gapButton}f.headerWidth=f.width1+_.arrowPadX;f.headerHeight=f.height1;if(u.type==="dropdown"){if(d){f.width1+=_.arrowPadX;f.totalHeight=f.height1}else{f.totalWidth=f.width1}f.totalWidth+=_.arrowPadX}e.remove();var t=f.totalWidth+u.pad.l+u.pad.r;var r=f.totalHeight+u.pad.t+u.pad.b;var a=c._fullLayout._size;f.lx=a.l+a.w*u.x;f.ly=a.t+a.h*(1-u.y);var n="left";if(y.isRightAnchor(u)){f.lx-=t;n="right"}if(y.isCenterAnchor(u)){f.lx-=t/2;n="center"}var i="top";if(y.isBottomAnchor(u)){f.ly-=r;i="bottom"}if(y.isMiddleAnchor(u)){f.ly-=r/2;i="middle"}f.totalWidth=Math.ceil(f.totalWidth);f.totalHeight=Math.ceil(f.totalHeight);f.lx=Math.round(f.lx);f.ly=Math.round(f.ly);m.autoMargin(c,autoMarginId(u),{x:u.x,y:u.y,l:t*({right:1,center:.5}[n]||0),r:t*({left:1,center:.5}[n]||0),b:r*({top:1,middle:.5}[i]||0),t:r*({bottom:1,middle:.5}[i]||0)})}function autoMarginId(e){return _.autoMarginIdRoot+e._index}function setItemPosition(e,t,r,a){a=a||{};var n=e.select("."+_.itemRectClassName);var i=e.select("."+_.itemTextClassName);var o=t.borderwidth;var l=r.index;var s=t._dims;h.setTranslate(e,o+r.x,o+r.y);var c=["up","down"].indexOf(t.direction)!==-1;var u=a.height||(c?s.heights[l]:s.height1);n.attr({x:0,y:0,width:a.width||(c?s.width1:s.widths[l]),height:u});var f=t.font.size*x;var d=p.lineCount(i);var v=(d-1)*f/2;p.positionText(i,_.textOffsetX,u/2-v+_.textOffsetY);if(c){r.y+=s.heights[l]+r.yPad}else{r.x+=s.widths[l]+r.xPad}r.index++}function removeAllButtons(e,t){e.attr(_.menuIndexAttrName,t||"-1").selectAll("g."+_.dropdownButtonClassName).remove()}},763:function(e,t,r){"use strict";var a=r(5909);e.exports={moduleType:"component",name:a.name,layoutAttributes:r(7163),supplyLayoutDefaults:r(4897),draw:r(3689)}},5849:function(e,t,r){"use strict";e.exports=ScrollBox;var V=r(9898);var Y=r(7901);var U=r(1424);var d=r(1828);function ScrollBox(e,t,r){this.gd=e;this.container=t;this.id=r;this.position=null;this.translateX=null;this.translateY=null;this.hbar=null;this.vbar=null;this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]);this.bg.exit().on(".drag",null).on("wheel",null).remove();this.bg.enter().append("rect").classed("scrollbox-bg",true).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}ScrollBox.barWidth=2;ScrollBox.barLength=20;ScrollBox.barRadius=2;ScrollBox.barPad=1;ScrollBox.barColor="#808BA4";ScrollBox.prototype.enable=function enable(e,t,N){var r=this.gd._fullLayout;var a=r.width;var n=r.height;this.position=e;var i=this.position.l;var o=this.position.w;var l=this.position.t;var s=this.position.h;var c=this.position.direction;var u=c==="down";var f=c==="left";var E=c==="right";var d=c==="up";var v=o;var h=s;var p,g;var m,y;if(!u&&!f&&!E&&!d){this.position.direction="down";u=true}var z=u||d;if(z){p=i;g=p+v;if(u){m=l;y=Math.min(m+h,n);h=y-m}else{y=l+h;m=Math.max(y-h,0);h=y-m}}else{m=l;y=m+h;if(f){g=i+v;p=Math.max(g-v,0);v=g-p}else{p=i;g=Math.min(p+v,a);v=g-p}}this._box={l:p,t:m,w:v,h:h};var x=o>v;var _=ScrollBox.barLength+2*ScrollBox.barPad;var b=ScrollBox.barWidth+2*ScrollBox.barPad;var w=i;var T=l+s;if(T+b>n)T=n-b;var k=this.container.selectAll("rect.scrollbar-horizontal").data(x?[0]:[]);k.exit().on(".drag",null).remove();k.enter().append("rect").classed("scrollbar-horizontal",true).call(Y.fill,ScrollBox.barColor);if(x){this.hbar=k.attr({rx:ScrollBox.barRadius,ry:ScrollBox.barRadius,x:w,y:T,width:_,height:b});this._hbarXMin=w+_/2;this._hbarTranslateMax=v-_}else{delete this.hbar;delete this._hbarXMin;delete this._hbarTranslateMax}var A=s>h;var M=ScrollBox.barWidth+2*ScrollBox.barPad;var S=ScrollBox.barLength+2*ScrollBox.barPad;var C=i+o;var L=l;if(C+M>a)C=a-M;var D=this.container.selectAll("rect.scrollbar-vertical").data(A?[0]:[]);D.exit().on(".drag",null).remove();D.enter().append("rect").classed("scrollbar-vertical",true).call(Y.fill,ScrollBox.barColor);if(A){this.vbar=D.attr({rx:ScrollBox.barRadius,ry:ScrollBox.barRadius,x:C,y:L,width:M,height:S});this._vbarYMin=L+S/2;this._vbarTranslateMax=h-S}else{delete this.vbar;delete this._vbarYMin;delete this._vbarTranslateMax}var O=this.id;var P=p-.5;var B=A?g+M+.5:g+.5;var I=m-.5;var H=x?y+b+.5:y+.5;var R=r._topdefs.selectAll("#"+O).data(x||A?[0]:[]);R.exit().remove();R.enter().append("clipPath").attr("id",O).append("rect");if(x||A){this._clipRect=R.select("rect").attr({x:Math.floor(P),y:Math.floor(I),width:Math.ceil(B)-Math.floor(P),height:Math.ceil(H)-Math.floor(I)});this.container.call(U.setClipUrl,O,this.gd);this.bg.attr({x:i,y:l,width:o,height:s})}else{this.bg.attr({width:0,height:0});this.container.on("wheel",null).on(".drag",null).call(U.setClipUrl,null);delete this._clipRect}if(x||A){var j=V.behavior.drag().on("dragstart",function(){V.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(j);var F=V.behavior.drag().on("dragstart",function(){V.event.sourceEvent.preventDefault();V.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));if(x){this.hbar.on(".drag",null).call(F)}if(A){this.vbar.on(".drag",null).call(F)}}this.setTranslate(t,N)};ScrollBox.prototype.disable=function disable(){if(this.hbar||this.vbar){this.bg.attr({width:0,height:0});this.container.on("wheel",null).on(".drag",null).call(U.setClipUrl,null);delete this._clipRect}if(this.hbar){this.hbar.on(".drag",null);this.hbar.remove();delete this.hbar;delete this._hbarXMin;delete this._hbarTranslateMax}if(this.vbar){this.vbar.on(".drag",null);this.vbar.remove();delete this.vbar;delete this._vbarYMin;delete this._vbarTranslateMax}};ScrollBox.prototype._onBoxDrag=function _onBoxDrag(){var e=this.translateX;var t=this.translateY;if(this.hbar){e-=V.event.dx}if(this.vbar){t-=V.event.dy}this.setTranslate(e,t)};ScrollBox.prototype._onBoxWheel=function _onBoxWheel(){var e=this.translateX;var t=this.translateY;if(this.hbar){e+=V.event.deltaY}if(this.vbar){t+=V.event.deltaY}this.setTranslate(e,t)};ScrollBox.prototype._onBarDrag=function _onBarDrag(){var e=this.translateX;var t=this.translateY;if(this.hbar){var r=e+this._hbarXMin;var a=r+this._hbarTranslateMax;var n=d.constrain(V.event.x,r,a);var i=(n-r)/(a-r);var o=this.position.w-this._box.w;e=i*o}if(this.vbar){var l=t+this._vbarYMin;var s=l+this._vbarTranslateMax;var c=d.constrain(V.event.y,l,s);var u=(c-l)/(s-l);var f=this.position.h-this._box.h;t=u*f}this.setTranslate(e,t)};ScrollBox.prototype.setTranslate=function setTranslate(e,t){var r=this.position.w-this._box.w;var a=this.position.h-this._box.h;e=d.constrain(e||0,0,r);t=d.constrain(t||0,0,a);this.translateX=e;this.translateY=t;this.container.call(U.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t);if(this._clipRect){this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)})}if(this.hbar){var n=e/r;this.hbar.call(U.setTranslate,e+n*this._hbarTranslateMax,t)}if(this.vbar){var i=t/a;this.vbar.call(U.setTranslate,e,t+i*this._vbarTranslateMax)}}},8783:function(e){"use strict";e.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},4695:function(e){"use strict";e.exports={axisRefDescription:function(e,t,r){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+r+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",t,"and the",r,"of the domain of the","second",e,"axis."].join(" ")}}},1562:function(e){"use strict";e.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},4808:function(e){"use strict";e.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},7822:function(e){"use strict";e.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},606:function(e){"use strict";e.exports={BADNUM:undefined,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:""}},7922:function(e,t){"use strict";t.xmlns="http://www.w3.org/2000/xmlns/";t.svg="http://www.w3.org/2000/svg";t.xlink="http://www.w3.org/1999/xlink";t.svgAttrs={xmlns:t.svg,"xmlns:xlink":t.xlink}},8729:function(e,t,r){"use strict";t.version=r(1506).version;r(7417);r(8847);var a=r(3972);var n=t.register=a.register;var i=r(641);var o=Object.keys(i);for(var l=0;l<o.length;l++){var s=o[l];if(s.charAt(0)!=="_")t[s]=i[s];n({moduleType:"apiMethod",name:s,fn:i[s]})}n(r(7368));n([r(2199),r(211),r(2745),r(2468),r(7322),r(9853),r(8804),r(763),r(3243),r(3137),r(7218),r(3312),r(7369),r(1081),r(2311),r(4168)]);n([r(2177),r(7815)]);if(window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)){n(window.PlotlyLocales);delete window.PlotlyLocales}t.Icons=r(4255);var c=r(211);var u=r(4875);t.Plots={resize:u.resize,graphJson:u.graphJson,sendDataToCloud:u.sendDataToCloud};t.Fx={hover:c.hover,unhover:c.unhover,loneHover:c.loneHover,loneUnhover:c.loneUnhover};t.Snapshot=r(4511);t.PlotSchema=r(6281)},4255:function(e){"use strict";e.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},9863:function(e,t){"use strict";t.isLeftAnchor=function isLeftAnchor(e){return e.xanchor==="left"||e.xanchor==="auto"&&e.x<=1/3};t.isCenterAnchor=function isCenterAnchor(e){return e.xanchor==="center"||e.xanchor==="auto"&&e.x>1/3&&e.x<2/3};t.isRightAnchor=function isRightAnchor(e){return e.xanchor==="right"||e.xanchor==="auto"&&e.x>=2/3};t.isTopAnchor=function isTopAnchor(e){return e.yanchor==="top"||e.yanchor==="auto"&&e.y>=2/3};t.isMiddleAnchor=function isMiddleAnchor(e){return e.yanchor==="middle"||e.yanchor==="auto"&&e.y>1/3&&e.y<2/3};t.isBottomAnchor=function isBottomAnchor(e){return e.yanchor==="bottom"||e.yanchor==="auto"&&e.y<=1/3}},6348:function(e,t,r){"use strict";var a=r(4872);var o=a.mod;var n=a.modHalf;var p=Math.PI;var g=2*p;function deg2rad(e){return e/180*p}function rad2deg(e){return e/p*180}function isFullCircle(e){return Math.abs(e[1]-e[0])>g-1e-14}function angleDelta(e,t){return n(t-e,g)}function angleDist(e,t){return Math.abs(angleDelta(e,t))}function isAngleInsideSector(e,t){if(isFullCircle(t))return true;var r,a;if(t[0]<t[1]){r=t[0];a=t[1]}else{r=t[1];a=t[0]}r=o(r,g);a=o(a,g);if(r>a)a+=g;var n=o(e,g);var i=n+g;return n>=r&&n<=a||i>=r&&i<=a}function isPtInsideSector(e,t,r,a){if(!isAngleInsideSector(t,a))return false;var n,i;if(r[0]<r[1]){n=r[0];i=r[1]}else{n=r[1];i=r[0]}return e>=n&&e<=i}function _path(e,t,r,a,n,i,o){n=n||0;i=i||0;var l=isFullCircle([r,a]);var s,c,u;var f,d;if(l){s=0;c=p;u=g}else{if(r<a){s=r;u=a}else{s=a;u=r}}if(e<t){f=e;d=t}else{f=t;d=e}function pt(e,t){return[e*Math.cos(t)+n,i-e*Math.sin(t)]}var v=Math.abs(u-s)<=p?0:1;function arc(e,t,r){return"A"+[e,e]+" "+[0,v,r]+" "+pt(e,t)}var h;if(l){if(f===null){h="M"+pt(d,s)+arc(d,c,0)+arc(d,u,0)+"Z"}else{h="M"+pt(f,s)+arc(f,c,0)+arc(f,u,0)+"Z"+"M"+pt(d,s)+arc(d,c,1)+arc(d,u,1)+"Z"}}else{if(f===null){h="M"+pt(d,s)+arc(d,u,0);if(o)h+="L0,0Z"}else{h="M"+pt(f,s)+"L"+pt(d,s)+arc(d,u,0)+"L"+pt(f,u)+arc(f,s,1)+"Z"}}return h}function pathArc(e,t,r,a,n){return _path(null,e,t,r,a,n,0)}function pathSector(e,t,r,a,n){return _path(null,e,t,r,a,n,1)}function pathAnnulus(e,t,r,a,n,i){return _path(e,t,r,a,n,i,1)}e.exports={deg2rad:deg2rad,rad2deg:rad2deg,angleDelta:angleDelta,angleDist:angleDist,isFullCircle:isFullCircle,isAngleInsideSector:isAngleInsideSector,isPtInsideSector:isPtInsideSector,pathArc:pathArc,pathSector:pathSector,pathAnnulus:pathAnnulus}},3627:function(e,t){"use strict";var f=Array.isArray;var r=ArrayBuffer;var a=DataView;function isTypedArray(e){return r.isView(e)&&!(e instanceof a)}t.isTypedArray=isTypedArray;function isArrayOrTypedArray(e){return f(e)||isTypedArray(e)}t.isArrayOrTypedArray=isArrayOrTypedArray;function isArray1D(e){return!isArrayOrTypedArray(e[0])}t.isArray1D=isArray1D;t.ensureArray=function(e,t){if(!f(e))e=[];e.length=t;return e};t.concat=function(){var e=[];var t=true;var r=0;var a,n,i,o,l,s,c,u;for(i=0;i<arguments.length;i++){o=arguments[i];s=o.length;if(s){if(n)e.push(o);else{n=o;l=s}if(f(o)){a=false}else{t=false;if(!r){a=o.constructor}else if(a!==o.constructor){a=false}}r+=s}}if(!r)return[];if(!e.length)return n;if(t)return n.concat.apply(n,e);if(a){c=new a(r);c.set(n);for(i=0;i<e.length;i++){o=e[i];c.set(o,l);l+=o.length}return c}c=new Array(r);for(u=0;u<n.length;u++)c[u]=n[u];for(i=0;i<e.length;i++){o=e[i];for(u=0;u<o.length;u++)c[l+u]=o[u];l+=u}return c};t.maxRowLength=function(e){return _rowLength(e,Math.max,0)};t.minRowLength=function(e){return _rowLength(e,Math.min,Infinity)};function _rowLength(e,t,r){if(isArrayOrTypedArray(e)){if(isArrayOrTypedArray(e[0])){var a=r;for(var n=0;n<e.length;n++){a=t(a,e[n].length)}return a}else{return e.length}}return 0}},5218:function(e,t,r){"use strict";var a=r(2770);var n=r(606).BADNUM;var i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;e.exports=function cleanNumber(e){if(typeof e==="string"){e=e.replace(i,"")}if(a(e))return Number(e);return n}},3306:function(e){"use strict";e.exports=function clearGlCanvases(e){var t=e._fullLayout;if(t._glcanvas&&t._glcanvas.size()){t._glcanvas.each(function(e){if(e.regl)e.regl.clear({color:true,depth:true})})}}},6367:function(e){"use strict";e.exports=function clearResponsive(e){if(e._responsiveChartHandler){window.removeEventListener("resize",e._responsiveChartHandler);delete e._responsiveChartHandler}}},6554:function(e,m,t){"use strict";var n=t(2770);var a=t(4267);var s=t(9012);var i=t(3282);var c=t(7901);var o=t(7822).DESELECTDIM;var d=t(5487);var l=t(587).counter;var u=t(4872).modHalf;var v=t(3627).isArrayOrTypedArray;m.valObjectMeta={data_array:{coerceFunction:function(e,t,r){if(v(e))t.set(e);else if(r!==undefined)t.set(r)}},enumerated:{coerceFunction:function(e,t,r,a){if(a.coerceNumber)e=+e;if(a.values.indexOf(e)===-1)t.set(r);else t.set(e)},validateFunction:function(e,t){if(t.coerceNumber)e=+e;var r=t.values;for(var a=0;a<r.length;a++){var n=String(r[a]);if(n.charAt(0)==="/"&&n.charAt(n.length-1)==="/"){var i=new RegExp(n.substr(1,n.length-2));if(i.test(e))return true}else if(e===r[a])return true}return false}},"boolean":{coerceFunction:function(e,t,r){if(e===true||e===false)t.set(e);else t.set(r)}},number:{coerceFunction:function(e,t,r,a){if(!n(e)||a.min!==undefined&&e<a.min||a.max!==undefined&&e>a.max){t.set(r)}else t.set(+e)}},integer:{coerceFunction:function(e,t,r,a){if(e%1||!n(e)||a.min!==undefined&&e<a.min||a.max!==undefined&&e>a.max){t.set(r)}else t.set(+e)}},string:{coerceFunction:function(e,t,r,a){if(typeof e!=="string"){var n=typeof e==="number";if(a.strict===true||!n)t.set(r);else t.set(String(e))}else if(a.noBlank&&!e)t.set(r);else t.set(e)}},color:{coerceFunction:function(e,t,r){if(a(e).isValid())t.set(e);else t.set(r)}},colorlist:{coerceFunction:function(e,t,r){function isColor(e){return a(e).isValid()}if(!Array.isArray(e)||!e.length)t.set(r);else if(e.every(isColor))t.set(e);else t.set(r)}},colorscale:{coerceFunction:function(e,t,r){t.set(i.get(e,r))}},angle:{coerceFunction:function(e,t,r){if(e==="auto")t.set("auto");else if(!n(e))t.set(r);else t.set(u(+e,360))}},subplotid:{coerceFunction:function(e,t,r,a){var n=a.regex||l(r);if(typeof e==="string"&&n.test(e)){t.set(e);return}t.set(r)},validateFunction:function(e,t){var r=t.dflt;if(e===r)return true;if(typeof e!=="string")return false;if(l(r).test(e))return true;return false}},flaglist:{coerceFunction:function(e,t,r,a){if((a.extras||[]).indexOf(e)!==-1){t.set(e);return}if(typeof e!=="string"){t.set(r);return}var n=e.split("+");var i=0;while(i<n.length){var o=n[i];if(a.flags.indexOf(o)===-1||n.indexOf(o)<i){n.splice(i,1)}else i++}if(!n.length)t.set(r);else t.set(n.join("+"))}},any:{coerceFunction:function(e,t,r){if(e===undefined)t.set(r);else t.set(e)}},info_array:{coerceFunction:function(e,t,r,a){function coercePart(e,t,r){var a;var n={set:function(e){a=e}};if(r===undefined)r=t.dflt;m.valObjectMeta[t.valType].coerceFunction(e,n,r,t);return a}var n=a.dimensions===2||a.dimensions==="1-2"&&Array.isArray(e)&&Array.isArray(e[0]);if(!Array.isArray(e)){t.set(r);return}var i=a.items;var o=[];var l=Array.isArray(i);var s=l&&n&&Array.isArray(i[0]);var c=n&&l&&!s;var u=l&&!c?i.length:e.length;var f,d,v,h,p,g;r=Array.isArray(r)?r:[];if(n){for(f=0;f<u;f++){o[f]=[];v=Array.isArray(e[f])?e[f]:[];if(c)p=i.length;else if(l)p=i[f].length;else p=v.length;for(d=0;d<p;d++){if(c)h=i[d];else if(l)h=i[f][d];else h=i;g=coercePart(v[d],h,(r[f]||[])[d]);if(g!==undefined)o[f][d]=g}}}else{for(f=0;f<u;f++){g=coercePart(e[f],l?i[f]:i,r[f]);if(g!==undefined)o[f]=g}}t.set(o)},validateFunction:function(e,t){if(!Array.isArray(e))return false;var r=t.items;var a=Array.isArray(r);var n=t.dimensions===2;if(!t.freeLength&&e.length!==r.length)return false;for(var i=0;i<e.length;i++){if(n){if(!Array.isArray(e[i])||!t.freeLength&&e[i].length!==r[i].length){return false}for(var o=0;o<e[i].length;o++){if(!validate(e[i][o],a?r[i][o]:r)){return false}}}else if(!validate(e[i],a?r[i]:r))return false}return true}}};m.coerce=function(e,t,r,a,n){var i=d(r,a).get();var o=d(e,a);var l=d(t,a);var s=o.get();var c=t._template;if(s===undefined&&c){s=d(c,a).get();c=0}if(n===undefined)n=i.dflt;if(i.arrayOk&&v(s)){l.set(s);return s}var u=m.valObjectMeta[i.valType].coerceFunction;u(s,l,n,i);var f=l.get();if(c&&f===n&&!validate(s,i)){s=d(c,a).get();u(s,l,n,i);f=l.get()}return f};m.coerce2=function(e,t,r,a,n){var i=d(e,a);var o=m.coerce(e,t,r,a,n);var l=i.get();return l!==undefined&&l!==null?o:false};m.coerceFont=function(e,t,r){var a={};r=r||{};a.family=e(t+".family",r.family);a.size=e(t+".size",r.size);a.color=e(t+".color",r.color);return a};m.coercePattern=function(e,t,r,a){var n=e(t+".shape");if(n){e(t+".solidity");e(t+".size");var i=e(t+".fillmode");var o=i==="overlay";if(!a){var l=e(t+".bgcolor",o?r:undefined);e(t+".fgcolor",o?c.contrast(l):r)}e(t+".fgopacity",o?.5:1)}};m.coerceHoverinfo=function(e,t,r){var a=t._module.attributes;var n=a.hoverinfo?a:s;var i=n.hoverinfo;var o;if(r._dataLength===1){var l=i.dflt==="all"?i.flags.slice():i.dflt.split("+");l.splice(l.indexOf("name"),1);o=l.join("+")}return m.coerce(e,t,n,"hoverinfo",o)};m.coerceSelectionMarkerOpacity=function(e,t){if(!e.marker)return;var r=e.marker.opacity;if(r===undefined)return;var a;var n;if(!v(r)&&!e.selected&&!e.unselected){a=r;n=o*r}t("selected.marker.opacity",a);t("unselected.marker.opacity",n)};function validate(e,t){var r=m.valObjectMeta[t.valType];if(t.arrayOk&&v(e))return true;if(r.validateFunction){return r.validateFunction(e,t)}var a={};var n=a;var i={set:function(e){n=e}};r.coerceFunction(e,i,a,t);return n!==a}m.validate=validate},1631:function(e,_,t){"use strict";var s=t(4096).i$;var d=t(2770);var c=t(7769);var b=t(4872).mod;var r=t(606);var w=r.BADNUM;var T=r.ONEDAY;var k=r.ONEHOUR;var A=r.ONEMIN;var M=r.ONESEC;var S=r.EPOCHJD;var C=t(3972);var h=t(4096).g0;var L=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m;var D=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m;var O=(new Date).getFullYear()-70;function isWorldCalendar(e){return e&&C.componentsRegistry.calendars&&typeof e==="string"&&e!=="gregorian"}_.dateTick0=function(e,t){var r=_dateTick0(e,!!t);if(t<2)return r;var a=_.dateTime2ms(r,e);a+=T*(t-1);return _.ms2DateTime(a,0,e)};function _dateTick0(e,t){if(isWorldCalendar(e)){return t?C.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:C.getComponentMethod("calendars","CANONICAL_TICK")[e]}else{return t?"2000-01-02":"2000-01-01"}}_.dfltRange=function(e){if(isWorldCalendar(e)){return C.getComponentMethod("calendars","DFLTRANGE")[e]}else{return["2000-01-01","2001-01-01"]}};_.isJSDate=function(e){return typeof e==="object"&&e!==null&&typeof e.getTime==="function"};var P,I;_.dateTime2ms=function(e,t){if(_.isJSDate(e)){var r=e.getTimezoneOffset()*A;var a=(e.getUTCMinutes()-e.getMinutes())*A+(e.getUTCSeconds()-e.getSeconds())*M+(e.getUTCMilliseconds()-e.getMilliseconds());if(a){var n=3*A;r=r-n/2+b(a-r+n/2,n)}e=Number(e)-r;if(e>=P&&e<=I)return e;return w}if(typeof e!=="string"&&typeof e!=="number")return w;e=String(e);var i=isWorldCalendar(t);var o=e.charAt(0);if(i&&(o==="G"||o==="g")){e=e.substr(1);t=""}var l=i&&t.substr(0,7)==="chinese";var s=e.match(l?D:L);if(!s)return w;var c=s[1];var u=s[3]||"1";var f=Number(s[5]||1);var d=Number(s[7]||0);var v=Number(s[9]||0);var h=Number(s[11]||0);if(i){if(c.length===2)return w;c=Number(c);var p;try{var g=C.getComponentMethod("calendars","getCal")(t);if(l){var m=u.charAt(u.length-1)==="i";u=parseInt(u,10);p=g.newDate(c,g.toMonthIndex(c,u,m),f)}else{p=g.newDate(c,Number(u),f)}}catch(x){return w}if(!p)return w;return(p.toJD()-S)*T+d*k+v*A+h*M}if(c.length===2){c=(Number(c)+2e3-O)%100+O}else c=Number(c);u-=1;var y=new Date(Date.UTC(2e3,u,f,d,v));y.setUTCFullYear(c);if(y.getUTCMonth()!==u)return w;if(y.getUTCDate()!==f)return w;return y.getTime()+h*M};P=_.MIN_MS=_.dateTime2ms("-9999");I=_.MAX_MS=_.dateTime2ms("9999-12-31 23:59:59.9999");_.isDateTime=function(e,t){return _.dateTime2ms(e,t)!==w};function lpad(e,t){return String(e+Math.pow(10,t)).substr(1)}var p=90*T;var g=3*k;var m=5*A;_.ms2DateTime=function(e,t,r){if(typeof e!=="number"||!(e>=P&&e<=I))return w;if(!t)t=0;var a=Math.floor(b(e+.05,1)*10);var n=Math.round(e-a/10);var i,o,l,s,c,u;if(isWorldCalendar(r)){var f=Math.floor(n/T)+S;var d=Math.floor(b(e,T));try{i=C.getComponentMethod("calendars","getCal")(r).fromJD(f).formatDate("yyyy-mm-dd")}catch(v){i=h("G%Y-%m-%d")(new Date(n))}if(i.charAt(0)==="-"){while(i.length<11)i="-0"+i.substr(1)}else{while(i.length<10)i="0"+i}o=t<p?Math.floor(d/k):0;l=t<p?Math.floor(d%k/A):0;s=t<g?Math.floor(d%A/M):0;c=t<m?d%M*10+a:0}else{u=new Date(n);i=h("%Y-%m-%d")(u);o=t<p?u.getUTCHours():0;l=t<p?u.getUTCMinutes():0;s=t<g?u.getUTCSeconds():0;c=t<m?u.getUTCMilliseconds()*10+a:0}return includeTime(i,o,l,s,c)};_.ms2DateTimeLocal=function(e){if(!(e>=P+T&&e<=I-T))return w;var t=Math.floor(b(e+.05,1)*10);var r=new Date(Math.round(e-t/10));var a=s("%Y-%m-%d")(r);var n=r.getHours();var i=r.getMinutes();var o=r.getSeconds();var l=r.getUTCMilliseconds()*10+t;return includeTime(a,n,i,o,l)};function includeTime(e,t,r,a,n){if(t||r||a||n){e+=" "+lpad(t,2)+":"+lpad(r,2);if(a||n){e+=":"+lpad(a,2);if(n){var i=4;while(n%10===0){i-=1;n/=10}e+="."+lpad(n,i)}}}return e}_.cleanDate=function(e,t,r){if(e===w)return t;if(_.isJSDate(e)||typeof e==="number"&&isFinite(e)){if(isWorldCalendar(r)){c.error("JS Dates and milliseconds are incompatible with world calendars",e);return t}e=_.ms2DateTimeLocal(+e);if(!e&&t!==undefined)return t}else if(!_.isDateTime(e,r)){c.error("unrecognized date",e);return t}return e};var o=/%\d?f/g;var l=/%h/g;var u={1:"1",2:"1",3:"2",4:"2"};function modDateFormat(e,a,t,r){e=e.replace(o,function(e){var t=Math.min(+e.charAt(1)||6,6);var r=(a/1e3%1+2).toFixed(t).substr(2).replace(/0+$/,"")||"0";return r});var n=new Date(Math.floor(a+.05));e=e.replace(l,function(){return u[t("%q")(n)]});if(isWorldCalendar(r)){try{e=C.getComponentMethod("calendars","worldCalFmt")(e,a,r)}catch(i){return"Invalid"}}return t(e)(n)}var f=[59,59.9,59.99,59.999,59.9999];function formatTime(e,t){var r=b(e+.05,T);var a=lpad(Math.floor(r/k),2)+":"+lpad(b(Math.floor(r/A),60),2);if(t!=="M"){if(!d(t))t=0;var n=Math.min(b(e/M,60),f[t]);var i=(100+n).toFixed(t).substr(1);if(t>0){i=i.replace(/0+$/,"").replace(/[\.]$/,"")}a+=":"+i}return a}_.formatDate=function(e,t,r,a,n,i){n=isWorldCalendar(n)&&n;if(!t){if(r==="y")t=i.year;else if(r==="m")t=i.month;else if(r==="d"){t=i.dayMonth+"\n"+i.year}else{return formatTime(e,r)+"\n"+modDateFormat(i.dayMonthYear,e,a,n)}}return modDateFormat(t,e,a,n)};var v=3*T;_.incrementMonth=function(e,t,r){r=isWorldCalendar(r)&&r;var a=b(e,T);e=Math.round(e-a);if(r){try{var n=Math.round(e/T)+S;var i=C.getComponentMethod("calendars","getCal")(r);var o=i.fromJD(n);if(t%12)i.add(o,t,"m");else i.add(o,t/12,"y");return(o.toJD()-S)*T+a}catch(s){c.error("invalid ms "+e+" in calendar "+r)}}var l=new Date(e+v);return l.setUTCMonth(l.getUTCMonth()+t)+a-v};_.findExactDates=function(e,t){var r=0;var a=0;var n=0;var i=0;var o;var l;var s=isWorldCalendar(t)&&C.getComponentMethod("calendars","getCal")(t);for(var c=0;c<e.length;c++){l=e[c];if(!d(l)){i++;continue}if(l%T)continue;if(s){try{o=s.fromJD(l/T+S);if(o.day()===1){if(o.month()===1)r++;else a++}else n++}catch(f){}}else{o=new Date(l);if(o.getUTCDate()===1){if(o.getUTCMonth()===0)r++;else a++}else n++}}a+=r;n+=a;var u=e.length-i;return{exactYears:r/u,exactMonths:a/u,exactDays:n/u}}},4401:function(e,t,r){"use strict";var a=r(9898);var o=r(7769);var n=r(5657);var i=r(9576);function getGraphDiv(e){var t;if(typeof e==="string"){t=document.getElementById(e);if(t===null){throw new Error("No DOM element with id '"+e+"' exists on the page.")}return t}else if(e===null||e===undefined){throw new Error("DOM element provided is null or undefined")}return e}function isPlotDiv(e){var t=a.select(e);return t.node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")}function removeElement(e){var t=e&&e.parentNode;if(t)t.removeChild(e)}function addStyleRule(e,t){addRelatedStyleRule("global",e,t)}function addRelatedStyleRule(e,t,r){var a="plotly.js-style-"+e;var n=document.getElementById(a);if(!n){n=document.createElement("style");n.setAttribute("id",a);n.setAttribute("nonce",cspnonce);n.appendChild(document.createTextNode(""));document.head.appendChild(n)}var i=n.sheet;if(i.insertRule){i.insertRule(t+"{"+r+"}",0)}else if(i.addRule){i.addRule(t,r,0)}else o.warn("addStyleRule failed")}function deleteRelatedStyleRule(e){var t="plotly.js-style-"+e;var r=document.getElementById(t);if(r)removeElement(r)}function getFullTransformMatrix(e){var t=getElementAndAncestors(e);var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];t.forEach(function(e){var t=getElementTransformMatrix(e);if(t){var r=n.convertCssMatrix(t);a=i.multiply(a,a,r)}});return a}function getElementTransformMatrix(e){var t=window.getComputedStyle(e,null);var r=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform");if(r==="none")return null;return r.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(e){return+e})}function getElementAndAncestors(e){var t=[];while(isTransformableElement(e)){t.push(e);e=e.parentNode}return t}function isTransformableElement(e){return e&&(e instanceof Element||e instanceof HTMLElement)}function equalDomRects(e,t){return e&&t&&e.top===t.top&&e.left===t.left&&e.right===t.right&&e.bottom===t.bottom}e.exports={getGraphDiv:getGraphDiv,isPlotDiv:isPlotDiv,removeElement:removeElement,addStyleRule:addStyleRule,addRelatedStyleRule:addRelatedStyleRule,deleteRelatedStyleRule:deleteRelatedStyleRule,getFullTransformMatrix:getFullTransformMatrix,getElementTransformMatrix:getElementTransformMatrix,getElementAndAncestors:getElementAndAncestors,equalDomRects:equalDomRects}},1086:function(e,t,r){"use strict";var i=r(5398).EventEmitter;var a={init:function(r){if(r._ev instanceof i)return r;var a=new i;var n=new i;r._ev=a;r._internalEv=n;r.on=a.on.bind(a);r.once=a.once.bind(a);r.removeListener=a.removeListener.bind(a);r.removeAllListeners=a.removeAllListeners.bind(a);r._internalOn=n.on.bind(n);r._internalOnce=n.once.bind(n);r._removeInternalListener=n.removeListener.bind(n);r._removeAllInternalListeners=n.removeAllListeners.bind(n);r.emit=function(e,t){if(typeof jQuery!=="undefined"){jQuery(r).trigger(e,t)}a.emit(e,t);n.emit(e,t)};return r},triggerHandler:function(e,t,r){var a;var n;if(typeof jQuery!=="undefined"){a=jQuery(e).triggerHandler(t,r)}var i=e._ev;if(!i)return a;var o=i._events[t];if(!o)return a;function apply(e){if(e.listener){i.removeListener(t,e.listener);if(!e.fired){e.fired=true;return e.listener.apply(i,[r])}}else{return e.apply(i,[r])}}o=Array.isArray(o)?o:[o];var l;for(l=0;l<o.length-1;l++){apply(o[l])}n=apply(o[l]);return a!==undefined?a:n},purge:function(e){delete e._ev;delete e.on;delete e.once;delete e.removeListener;delete e.removeAllListeners;delete e.emit;delete e._ev;delete e._internalEv;delete e._internalOn;delete e._internalOnce;delete e._removeInternalListener;delete e._removeAllInternalListeners;return e}};e.exports=a},1426:function(e,t,r){"use strict";var h=r(1965);var p=Array.isArray;function primitivesLoopSplice(e,t){var r,a;for(r=0;r<e.length;r++){a=e[r];if(a!==null&&typeof a==="object"){return false}if(a!==void 0){t[r]=a}}return true}t.extendFlat=function(){return _extend(arguments,false,false,false)};t.extendDeep=function(){return _extend(arguments,true,false,false)};t.extendDeepAll=function(){return _extend(arguments,true,true,false)};t.extendDeepNoArrays=function(){return _extend(arguments,true,false,true)};function _extend(e,t,r,a){var n=e[0];var i=e.length;var o,l,s,c,u,f,d;if(i===2&&p(n)&&p(e[1])&&n.length===0){d=primitivesLoopSplice(e[1],n);if(d){return n}else{n.splice(0,n.length)}}for(var v=1;v<i;v++){o=e[v];for(l in o){s=n[l];c=o[l];if(a&&p(c)){n[l]=c}else if(t&&c&&(h(c)||(u=p(c)))){if(u){u=false;f=s&&p(s)?s:[]}else{f=s&&h(s)?s:{}}n[l]=_extend([f,c],t,r,a)}else if(typeof c!=="undefined"||r){n[l]=c}}}return n}},5744:function(e){"use strict";e.exports=function filterUnique(e){var t={};var r=[];var a=0;for(var n=0;n<e.length;n++){var i=e[n];if(t[i]!==1){t[i]=1;r[a++]=i}}return r}},6756:function(e){"use strict";e.exports=function filterVisible(e){var t=isCalcData(e)?calcDataFilter:baseFilter;var r=[];for(var a=0;a<e.length;a++){var n=e[a];if(t(n))r.push(n)}return r};function baseFilter(e){return e.visible===true}function calcDataFilter(e){var t=e[0].trace;return t.visible===true&&t._length!==0}function isCalcData(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}},7642:function(e,t,r){"use strict";var f=r(4872).mod;t.segmentsIntersect=segmentsIntersect;function segmentsIntersect(e,t,r,a,n,i,o,l){var s=r-e;var c=n-e;var u=o-n;var f=a-t;var d=i-t;var v=l-i;var h=s*v-u*f;if(h===0)return null;var p=(c*v-u*d)/h;var g=(c*f-s*d)/h;if(g<0||g>1||p<0||p>1)return null;return{x:e+s*p,y:t+f*p}}t.segmentDistance=function segmentDistance(e,t,r,a,n,i,o,l){if(segmentsIntersect(e,t,r,a,n,i,o,l))return 0;var s=r-e;var c=a-t;var u=o-n;var f=l-i;var d=s*s+c*c;var v=u*u+f*f;var h=Math.min(perpDistance2(s,c,d,n-e,i-t),perpDistance2(s,c,d,o-e,l-t),perpDistance2(u,f,v,e-n,t-i),perpDistance2(u,f,v,r-n,a-i));return Math.sqrt(h)};function perpDistance2(e,t,r,a,n){var i=a*e+n*t;if(i<0){return a*a+n*n}else if(i>r){var o=a-e;var l=n-t;return o*o+l*l}else{var s=a*t-n*e;return s*s/r}}var d,v,h;t.getTextLocation=function getTextLocation(e,t,r,a){if(e!==v||a!==h){d={};v=e;h=a}if(d[r]){return d[r]}var n=e.getPointAtLength(f(r-a/2,t));var i=e.getPointAtLength(f(r+a/2,t));var o=Math.atan((i.y-n.y)/(i.x-n.x));var l=e.getPointAtLength(f(r,t));var s=(l.x*4+n.x+i.x)/6;var c=(l.y*4+n.y+i.y)/6;var u={x:s,y:c,theta:o};d[r]=u;return u};t.clearLocationCache=function(){v=null};t.getVisibleSegment=function getVisibleSegment(n,e,t){var i=e.left;var o=e.right;var l=e.top;var s=e.bottom;var r=0;var c=n.getTotalLength();var a=c;var u,f;function getDistToPlot(e){var t=n.getPointAtLength(e);if(e===0)u=t;else if(e===c)f=t;var r=t.x<i?i-t.x:t.x>o?t.x-o:0;var a=t.y<l?l-t.y:t.y>s?t.y-s:0;return Math.sqrt(r*r+a*a)}var d=getDistToPlot(r);while(d){r+=d+t;if(r>a)return;d=getDistToPlot(r)}d=getDistToPlot(a);while(d){a-=d+t;if(r>a)return;d=getDistToPlot(a)}return{min:r,max:a,len:a-r,total:c,isClosed:r===0&&a===c&&Math.abs(u.x-f.x)<.1&&Math.abs(u.y-f.y)<.1}};t.findPointOnPath=function findPointOnPath(e,t,r,a){a=a||{};var n=a.pathLength||e.getTotalLength();var i=a.tolerance||.001;var o=a.iterationLimit||30;var l=e.getPointAtLength(0)[r]>e.getPointAtLength(n)[r]?-1:1;var s=0;var c=0;var u=n;var f;var d;var v;while(s<o){f=(c+u)/2;d=e.getPointAtLength(f);v=d[r]-t;if(Math.abs(v)<i){return d}else{if(l*v>0){u=f}else{c=f}s++}}return d}},3389:function(e){"use strict";e.exports=function identity(e){return e}},9240:function(e){"use strict";e.exports=function incrementNumeric(e,t){if(!t)return e;var r=1/Math.abs(t);var a=r>1?(r*e+r*t)/r:e+t;var n=String(a).length;if(n>16){var i=String(t).length;var o=String(e).length;if(n>=o+i){var l=parseFloat(a).toPrecision(12);if(l.indexOf("e+")===-1)a=+l}}return a}},1828:function(e,I,t){"use strict";var r=t(9898);var _=t(4096).g0;var a=t(721).WU;var n=t(2770);var i=t(606);var o=i.FP_SAFE;var l=-o;var s=i.BADNUM;var b=e.exports={};b.adjustFormat=function adjustFormat(e){if(!e||/^\d[.]\df/.test(e)||/[.]\d%/.test(e))return e;if(e==="0.f")return"~f";if(/^\d%/.test(e))return"~%";if(/^\ds/.test(e))return"~s";if(!/^[~,.0$]/.test(e)&&/[&fps]/.test(e))return"~"+e;return e};var c={};b.warnBadFormat=function(e){var t=String(e);if(!c[t]){c[t]=1;b.warn('encountered bad format: "'+t+'"')}};b.noFormat=function(e){return String(e)};b.numberFormat=function(e){var t;try{t=a(b.adjustFormat(e))}catch(r){b.warnBadFormat(e);return b.noFormat}return t};b.nestedProperty=t(5487);b.keyedContainer=t(6636);b.relativeAttr=t(6962);b.isPlainObject=t(1965);b.toLogRange=t(8163);b.relinkPrivateKeys=t(1332);var u=t(3627);b.isTypedArray=u.isTypedArray;b.isArrayOrTypedArray=u.isArrayOrTypedArray;b.isArray1D=u.isArray1D;b.ensureArray=u.ensureArray;b.concat=u.concat;b.maxRowLength=u.maxRowLength;b.minRowLength=u.minRowLength;var f=t(4872);b.mod=f.mod;b.modHalf=f.modHalf;var d=t(6554);b.valObjectMeta=d.valObjectMeta;b.coerce=d.coerce;b.coerce2=d.coerce2;b.coerceFont=d.coerceFont;b.coercePattern=d.coercePattern;b.coerceHoverinfo=d.coerceHoverinfo;b.coerceSelectionMarkerOpacity=d.coerceSelectionMarkerOpacity;b.validate=d.validate;var v=t(1631);b.dateTime2ms=v.dateTime2ms;b.isDateTime=v.isDateTime;b.ms2DateTime=v.ms2DateTime;b.ms2DateTimeLocal=v.ms2DateTimeLocal;b.cleanDate=v.cleanDate;b.isJSDate=v.isJSDate;b.formatDate=v.formatDate;b.incrementMonth=v.incrementMonth;b.dateTick0=v.dateTick0;b.dfltRange=v.dfltRange;b.findExactDates=v.findExactDates;b.MIN_MS=v.MIN_MS;b.MAX_MS=v.MAX_MS;var h=t(5888);b.findBin=h.findBin;b.sorterAsc=h.sorterAsc;b.sorterDes=h.sorterDes;b.distinctVals=h.distinctVals;b.roundUp=h.roundUp;b.sort=h.sort;b.findIndexOfMin=h.findIndexOfMin;b.sortObjectKeys=t(8607);var p=t(38);b.aggNums=p.aggNums;b.len=p.len;b.mean=p.mean;b.median=p.median;b.midRange=p.midRange;b.variance=p.variance;b.stdev=p.stdev;b.interp=p.interp;var g=t(5657);b.init2dArray=g.init2dArray;b.transposeRagged=g.transposeRagged;b.dot=g.dot;b.translationMatrix=g.translationMatrix;b.rotationMatrix=g.rotationMatrix;b.rotationXYMatrix=g.rotationXYMatrix;b.apply3DTransform=g.apply3DTransform;b.apply2DTransform=g.apply2DTransform;b.apply2DTransform2=g.apply2DTransform2;b.convertCssMatrix=g.convertCssMatrix;b.inverseTransformMatrix=g.inverseTransformMatrix;var m=t(6348);b.deg2rad=m.deg2rad;b.rad2deg=m.rad2deg;b.angleDelta=m.angleDelta;b.angleDist=m.angleDist;b.isFullCircle=m.isFullCircle;b.isAngleInsideSector=m.isAngleInsideSector;b.isPtInsideSector=m.isPtInsideSector;b.pathArc=m.pathArc;b.pathSector=m.pathSector;b.pathAnnulus=m.pathAnnulus;var y=t(9863);b.isLeftAnchor=y.isLeftAnchor;b.isCenterAnchor=y.isCenterAnchor;b.isRightAnchor=y.isRightAnchor;b.isTopAnchor=y.isTopAnchor;b.isMiddleAnchor=y.isMiddleAnchor;b.isBottomAnchor=y.isBottomAnchor;var x=t(7642);b.segmentsIntersect=x.segmentsIntersect;b.segmentDistance=x.segmentDistance;b.getTextLocation=x.getTextLocation;b.clearLocationCache=x.clearLocationCache;b.getVisibleSegment=x.getVisibleSegment;b.findPointOnPath=x.findPointOnPath;var w=t(1426);b.extendFlat=w.extendFlat;b.extendDeep=w.extendDeep;b.extendDeepAll=w.extendDeepAll;b.extendDeepNoArrays=w.extendDeepNoArrays;var T=t(7769);b.log=T.log;b.warn=T.warn;b.error=T.error;var k=t(587);b.counterRegex=k.counter;var A=t(9990);b.throttle=A.throttle;b.throttleDone=A.done;b.clearThrottle=A.clear;var M=t(4401);b.getGraphDiv=M.getGraphDiv;b.isPlotDiv=M.isPlotDiv;b.removeElement=M.removeElement;b.addStyleRule=M.addStyleRule;b.addRelatedStyleRule=M.addRelatedStyleRule;b.deleteRelatedStyleRule=M.deleteRelatedStyleRule;b.getFullTransformMatrix=M.getFullTransformMatrix;b.getElementTransformMatrix=M.getElementTransformMatrix;b.getElementAndAncestors=M.getElementAndAncestors;b.equalDomRects=M.equalDomRects;b.clearResponsive=t(6367);b.preserveDrawingBuffer=t(5142);b.makeTraceGroups=t(7310);b._=t(5867);b.notifier=t(5046);b.filterUnique=t(5744);b.filterVisible=t(6756);b.pushUnique=t(5138);b.increment=t(9240);b.cleanNumber=t(5218);b.ensureNumber=function ensureNumber(e){if(!n(e))return s;e=Number(e);return e>o||e<l?s:e};b.isIndex=function(e,t){if(t!==undefined&&e>=t)return false;return n(e)&&e>=0&&e%1===0};b.noop=t(4213);b.identity=t(3389);b.repeat=function(e,t){var r=new Array(t);for(var a=0;a<t;a++){r[a]=e}return r};b.swapAttrs=function(e,t,r,a){if(!r)r="x";if(!a)a="y";for(var n=0;n<t.length;n++){var i=t[n];var o=b.nestedProperty(e,i.replace("?",r));var l=b.nestedProperty(e,i.replace("?",a));var s=o.get();o.set(l.get());l.set(s)}};b.raiseToTop=function raiseToTop(e){e.parentNode.appendChild(e)};b.cancelTransition=function(e){return e.transition().duration(0)};b.constrain=function(e,t,r){if(t>r)return Math.max(r,Math.min(t,e));return Math.max(t,Math.min(r,e))};b.bBoxIntersect=function(e,t,r){r=r||0;return e.left<=t.right+r&&t.left<=e.right+r&&e.top<=t.bottom+r&&t.top<=e.bottom+r};b.simpleMap=function(e,t,r,a,n){var i=e.length;var o=new Array(i);for(var l=0;l<i;l++)o[l]=t(e[l],r,a,n);return o};b.randstr=function randstr(e,t,r,a){if(!r)r=16;if(t===undefined)t=24;if(t<=0)return"0";var n=Math.log(Math.pow(2,t))/Math.log(r);var i="";var o,l,s;for(o=2;n===Infinity;o*=2){n=Math.log(Math.pow(2,t/o))/Math.log(r)*o}var c=n-Math.floor(n);for(o=0;o<Math.floor(n);o++){s=Math.floor(Math.random()*r).toString(r);i=s+i}if(c){l=Math.pow(r,c);s=Math.floor(Math.random()*l).toString(r);i=s+i}var u=parseInt(i,r);if(e&&e[i]||u!==Infinity&&u>=Math.pow(2,t)){if(a>10){b.warn("randstr failed uniqueness");return i}return randstr(e,t,r,(a||0)+1)}else return i};b.OptionControl=function(t,r){if(!t)t={};if(!r)r="opt";var a={};a.optionList=[];a._newoption=function(e){e[r]=t;a[e.name]=e;a.optionList.push(e)};a["_"+r]=t;return a};b.smooth=function(e,t){t=Math.round(t)||0;if(t<2)return e;var r=e.length;var a=2*r;var n=2*t-1;var i=new Array(n);var o=new Array(r);var l;var s;var c;var u;for(l=0;l<n;l++){i[l]=(1-Math.cos(Math.PI*(l+1)/t))/(2*t)}for(l=0;l<r;l++){u=0;for(s=0;s<n;s++){c=l+s+1-t;if(c<-r)c-=a*Math.round(c/a);else if(c>=a)c-=a*Math.floor(c/a);if(c<0)c=-1-c;else if(c>=r)c=a-1-c;u+=e[c]*i[s]}o[l]=u}return o};b.syncOrAsync=function(e,t,r){var a,n;function continueAsync(){return b.syncOrAsync(e,t,r)}while(e.length){n=e.splice(0,1)[0];a=n(t);if(a&&a.then){return a.then(continueAsync)}}return r&&r(t)};b.stripTrailingSlash=function(e){if(e.substr(-1)==="/")return e.substr(0,e.length-1);return e};b.noneOrAll=function(e,t,r){if(!e)return;var a=false;var n=true;var i;var o;for(i=0;i<r.length;i++){o=e[r[i]];if(o!==undefined&&o!==null)a=true;else n=false}if(a&&!n){for(i=0;i<r.length;i++){e[r[i]]=t[r[i]]}}};b.mergeArray=function(e,t,r,a){var n=typeof a==="function";if(b.isArrayOrTypedArray(e)){var i=Math.min(e.length,t.length);for(var o=0;o<i;o++){var l=e[o];t[o][r]=n?a(l):l}}};b.mergeArrayCastPositive=function(e,t,r){return b.mergeArray(e,t,r,function(e){var t=+e;return!isFinite(t)?0:t>0?t:0})};b.fillArray=function(e,t,r,a){a=a||b.identity;if(b.isArrayOrTypedArray(e)){for(var n=0;n<t.length;n++){t[n][r]=a(e[n])}}};b.castOption=function(e,t,r,a){a=a||b.identity;var n=b.nestedProperty(e,r).get();if(b.isArrayOrTypedArray(n)){if(Array.isArray(t)&&b.isArrayOrTypedArray(n[t[0]])){return a(n[t[0]][t[1]])}else{return a(n[t])}}else{return n}};b.extractOption=function(e,t,r,a){if(r in e)return e[r];var n=b.nestedProperty(t,a).get();if(!Array.isArray(n))return n};function makePtIndex2PtNumber(e){var t={};for(var r in e){var a=e[r];for(var n=0;n<a.length;n++){t[a[n]]=+r}}return t}b.tagSelected=function(t,e,r){var a=e.selectedpoints;var n=e._indexToPoints;var i;if(n){i=makePtIndex2PtNumber(n)}function isCdIndexValid(e){return e!==undefined&&e<t.length}for(var o=0;o<a.length;o++){var l=a[o];if(b.isIndex(l)||b.isArrayOrTypedArray(l)&&b.isIndex(l[0])&&b.isIndex(l[1])){var s=i?i[l]:l;var c=r?r[s]:s;if(isCdIndexValid(c)){t[c].selected=1}}}};b.selIndices2selPoints=function(e){var t=e.selectedpoints;var r=e._indexToPoints;if(r){var a=makePtIndex2PtNumber(r);var n=[];for(var i=0;i<t.length;i++){var o=t[i];if(b.isIndex(o)){var l=a[o];if(b.isIndex(l)){n.push(l)}}}return n}else{return t}};b.getTargetArray=function(e,t){var r=t.target;if(typeof r==="string"&&r){var a=b.nestedProperty(e,r).get();return Array.isArray(a)?a:false}else if(Array.isArray(r)){return r}return false};b.minExtend=function(e,t){var r={};if(typeof t!=="object")t={};var a=3;var n=Object.keys(e);var i,o,l;for(i=0;i<n.length;i++){o=n[i];l=e[o];if(o.charAt(0)==="_"||typeof l==="function")continue;else if(o==="module")r[o]=l;else if(Array.isArray(l)){if(o==="colorscale"){r[o]=l.slice()}else{r[o]=l.slice(0,a)}}else if(b.isTypedArray(l)){r[o]=l.subarray(0,a)}else if(l&&typeof l==="object")r[o]=b.minExtend(e[o],t[o]);else r[o]=l}n=Object.keys(t);for(i=0;i<n.length;i++){o=n[i];l=t[o];if(typeof l!=="object"||!(o in r)||typeof r[o]!=="object"){r[o]=l}}return r};b.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)};b.containsAny=function(e,t){for(var r=0;r<t.length;r++){if(e.indexOf(t[r])!==-1)return true}return false};b.isIE=function(){return typeof window.navigator.msSaveBlob!=="undefined"};var R=/Version\/[\d\.]+.*Safari/;b.isSafari=function(){return R.test(window.navigator.userAgent)};var F=/iPad|iPhone|iPod/;b.isIOS=function(){return F.test(window.navigator.userAgent)};var N=/Firefox\/(\d+)\.\d+/;b.getFirefoxVersion=function(){var e=N.exec(window.navigator.userAgent);if(e&&e.length===2){var t=parseInt(e[1]);if(!isNaN(t)){return t}}return null};b.isD3Selection=function(e){return e instanceof r.selection};b.ensureSingle=function(e,t,r,a){var n=e.select(t+(r?"."+r:""));if(n.size())return n;var i=e.append(t);if(r)i.classed(r,true);if(a)i.call(a);return i};b.ensureSingleById=function(e,t,r,a){var n=e.select(t+"#"+r);if(n.size())return n;var i=e.append(t).attr("id",r);if(a)i.call(a);return i};b.objectFromPath=function(e,t){var r=e.split(".");var a;var n=a={};for(var i=0;i<r.length;i++){var o=r[i];var l=null;var s=r[i].match(/(.*)\[([0-9]+)\]/);if(s){o=s[1];l=s[2];a=a[o]=[];if(i===r.length-1){a[l]=t}else{a[l]={}}a=a[l]}else{if(i===r.length-1){a[o]=t}else{a[o]={}}a=a[o]}}return n};var E=/^([^\[\.]+)\.(.+)?/;var z=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;b.expandObjectPaths=function(e){var t,r,a,n,i,o,l;if(typeof e==="object"&&!Array.isArray(e)){for(r in e){if(e.hasOwnProperty(r)){if(t=r.match(E)){n=e[r];a=t[1];delete e[r];e[a]=b.extendDeepNoArrays(e[a]||{},b.objectFromPath(r,b.expandObjectPaths(n))[a])}else if(t=r.match(z)){n=e[r];a=t[1];i=parseInt(t[2]);delete e[r];e[a]=e[a]||[];if(t[3]==="."){l=t[4];o=e[a][i]=e[a][i]||{};b.extendDeepNoArrays(o,b.objectFromPath(l,b.expandObjectPaths(n)))}else{e[a][i]=b.expandObjectPaths(n)}}else{e[r]=b.expandObjectPaths(e[r])}}}}return e};b.numSeparate=function(e,t,r){if(!r)r=false;if(typeof t!=="string"||t.length===0){throw new Error("Separator string required for formatting!")}if(typeof e==="number"){e=String(e)}var a=/(\d+)(\d{3})/;var n=t.charAt(0);var i=t.charAt(1);var o=e.split(".");var l=o[0];var s=o.length>1?n+o[1]:"";if(i&&(o.length>1||l.length>4||r)){while(a.test(l)){l=l.replace(a,"$1"+i+"$2")}}return l+s};b.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var S=/^\w*$/;b.templateString=function(e,a){var n={};return e.replace(b.TEMPLATE_STRING_REGEX,function(e,t){var r;if(S.test(t)){r=a[t]}else{n[t]=n[t]||b.nestedProperty(a,t).get;r=n[t]()}return b.isValidTextValue(r)?r:""})};var B={max:10,count:0,name:"hovertemplate"};b.hovertemplateString=function(){return templateFormatString.apply(B,arguments)};var H={max:10,count:0,name:"texttemplate"};b.texttemplateString=function(){return templateFormatString.apply(H,arguments)};var C=/^[:|\|]/;function templateFormatString(e,p,g){var m=this;var y=arguments;if(!p)p={};var x={};return e.replace(b.TEMPLATE_STRING_REGEX,function(e,t,r){var a=t==="xother"||t==="yother";var n=t==="_xother"||t==="_yother";var i=t==="_xother_"||t==="_yother_";var o=t==="xother_"||t==="yother_";var l=a||n||o||i;var s=t;if(n||i)s=s.substring(1);if(o||i)s=s.substring(0,s.length-1);var c;if(l){c=p[s];if(c===undefined)return""}else{var u,f;for(f=3;f<y.length;f++){u=y[f];if(!u)continue;if(u.hasOwnProperty(s)){c=u[s];break}if(!S.test(s)){c=b.nestedProperty(u,s).get();c=x[s]||b.nestedProperty(u,s).get();if(c)x[s]=c}if(c!==undefined)break}}if(c===undefined&&m){if(m.count<m.max){b.warn("Variable '"+s+"' in "+m.name+" could not be found!");c=e}if(m.count===m.max){b.warn("Too many "+m.name+" warnings - additional warnings will be suppressed")}m.count++;return e}if(r){var d;if(r[0]===":"){d=g?g.numberFormat:b.numberFormat;c=d(r.replace(C,""))(c)}if(r[0]==="|"){d=g?g.timeFormat:_;var v=b.dateTime2ms(c);c=b.formatDate(v,r.replace(C,""),false,d)}}else{var h=s+"Label";if(p.hasOwnProperty(h))c=p[h]}if(l){c="("+c+")";if(n||i)c=" "+c;if(o||i)c=c+" "}return c})}var L=48;var D=57;b.subplotSort=function(e,t){var r=Math.min(e.length,t.length)+1;var a=0;var n=0;for(var i=0;i<r;i++){var o=e.charCodeAt(i)||0;var l=t.charCodeAt(i)||0;var s=o>=L&&o<=D;var c=l>=L&&l<=D;if(s)a=10*a+o-L;if(c)n=10*n+l-L;if(!s||!c){if(a!==n)return a-n;if(o!==l)return o-l}}return n-a};var O=2e9;b.seedPseudoRandom=function(){O=2e9};b.pseudoRandom=function(){var e=O;O=(69069*O+1)%4294967296;if(Math.abs(O-e)<429496729)return b.pseudoRandom();return O/4294967296};b.fillText=function(e,t,r){var a=Array.isArray(r)?function(e){r.push(e)}:function(e){r.text=e};var n=b.extractOption(e,t,"htx","hovertext");if(b.isValidTextValue(n))return a(n);var i=b.extractOption(e,t,"tx","text");if(b.isValidTextValue(i))return a(i)};b.isValidTextValue=function(e){return e||e===0};b.formatPercent=function(e,t){t=t||0;var r=(Math.round(100*e*Math.pow(10,t))*Math.pow(.1,t)).toFixed(t)+"%";for(var a=0;a<t;a++){if(r.indexOf(".")!==-1){r=r.replace("0%","%");r=r.replace(".%","%")}}return r};b.isHidden=function(e){var t=window.getComputedStyle(e).display;return!t||t==="none"};b.strTranslate=function(e,t){return e||t?"translate("+e+","+t+")":""};b.strRotate=function(e){return e?"rotate("+e+")":""};b.strScale=function(e){return e!==1?"scale("+e+")":""};b.getTextTransform=function(e){var t=e.noCenter;var r=e.textX;var a=e.textY;var n=e.targetX;var i=e.targetY;var o=e.anchorX||0;var l=e.anchorY||0;var s=e.rotate;var c=e.scale;if(!c)c=0;else if(c>1)c=1;return b.strTranslate(n-c*(r+o),i-c*(a+l))+b.strScale(c)+(s?"rotate("+s+(t?"":" "+r+" "+a)+")":"")};b.setTransormAndDisplay=function(e,t){e.attr("transform",b.getTextTransform(t));e.style("display",t.scale?null:"none")};b.ensureUniformFontSize=function(e,t){var r=b.extendFlat({},t);r.size=Math.max(t.size,e._fullLayout.uniformtext.minsize||0);return r};b.join2=function(e,t,r){var a=e.length;if(a>1){return e.slice(0,-1).join(t)+r+e[a-1]}return e.join(t)};b.bigFont=function(e){return Math.round(1.2*e)};var P=b.getFirefoxVersion();var j=P!==null&&P<86;b.getPositionFromD3Event=function(){if(j){return[r.event.layerX,r.event.layerY]}else{return[r.event.offsetX,r.event.offsetY]}}},1965:function(e){"use strict";e.exports=function isPlainObject(e){if(window&&window.process&&window.process.versions){return Object.prototype.toString.call(e)==="[object Object]"}return Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},6636:function(e,t,r){"use strict";var h=r(5487);var n=/^\w*$/;var p=0;var g=1;var m=2;var y=3;var x=4;e.exports=function keyedContainer(e,i,o,l){o=o||"name";l=l||"value";var a,s,c;var u={};if(i&&i.length){c=h(e,i);s=c.get()}else{s=e}i=i||"";var f={};if(s){for(a=0;a<s.length;a++){f[s[a][o]]=a}}var d=n.test(l);var v={set:function(e,t){var r=t===null?x:p;if(!s){if(!c||r===x)return;s=[];c.set(s)}var a=f[e];if(a===undefined){if(r===x)return;r=r|y;a=s.length;f[e]=a}else if(t!==(d?s[a][l]:h(s[a],l).get())){r=r|m}var n=s[a]=s[a]||{};n[o]=e;if(d){n[l]=t}else{h(n,l).set(t)}if(t!==null){r=r&~x}u[a]=u[a]|r;return v},get:function(e){if(!s)return;var t=f[e];if(t===undefined){return undefined}else if(d){return s[t][l]}else{return h(s[t],l).get()}},rename:function(e,t){var r=f[e];if(r===undefined)return v;u[r]=u[r]|g;f[t]=r;delete f[e];s[r][o]=t;return v},remove:function(e){var t=f[e];if(t===undefined)return v;var r=s[t];if(Object.keys(r).length>2){u[t]=u[t]|m;return v.set(e,null)}if(d){for(a=t;a<s.length;a++){u[a]=u[a]|y}for(a=t;a<s.length;a++){f[s[a][o]]--}s.splice(t,1);delete f[e]}else{h(r,l).set(null);u[t]=u[t]|m|x}return v},constructUpdate:function(){var e,t;var r={};var a=Object.keys(u);for(var n=0;n<a.length;n++){t=a[n];e=i+"["+t+"]";if(s[t]){if(u[t]&g){r[e+"."+o]=s[t][o]}if(u[t]&m){if(d){r[e+"."+l]=u[t]&x?null:s[t][l]}else{r[e+"."+l]=u[t]&x?null:h(s[t],l).get()}}}else{r[e]=null}}return r}};return v}},5867:function(e,t,r){"use strict";var c=r(3972);e.exports=function localize(e,t){var r=e._context.locale;for(var a=0;a<2;a++){var n=e._context.locales;for(var i=0;i<2;i++){var o=(n[r]||{}).dictionary;if(o){var l=o[t];if(l)return l}n=c.localeRegistry}var s=r.split("-")[0];if(s===r)break;r=s}return t}},7769:function(e,t,r){"use strict";var a=r(2075).dfltConfig;var n=r(5046);var i=e.exports={};i.log=function(){var e;if(a.logging>1){var t=["LOG:"];for(e=0;e<arguments.length;e++){t.push(arguments[e])}console.trace.apply(console,t)}if(a.notifyOnLogging>1){var r=[];for(e=0;e<arguments.length;e++){r.push(arguments[e])}n(r.join("<br>"),"long")}};i.warn=function(){var e;if(a.logging>0){var t=["WARN:"];for(e=0;e<arguments.length;e++){t.push(arguments[e])}console.trace.apply(console,t)}if(a.notifyOnLogging>0){var r=[];for(e=0;e<arguments.length;e++){r.push(arguments[e])}n(r.join("<br>"),"stick")}};i.error=function(){var e;if(a.logging>0){var t=["ERROR:"];for(e=0;e<arguments.length;e++){t.push(arguments[e])}console.error.apply(console,t)}if(a.notifyOnLogging>0){var r=[];for(e=0;e<arguments.length;e++){r.push(arguments[e])}n(r.join("<br>"),"stick")}}},7310:function(e,t,r){"use strict";var i=r(9898);e.exports=function makeTraceGroups(e,t,r){var a=e.selectAll("g."+r.replace(/\s/g,".")).data(t,function(e){return e[0].trace.uid});a.exit().remove();a.enter().append("g").attr("class",r);a.order();var n=e.classed("rangeplot")?"nodeRangePlot3":"node3";a.each(function(e){e[0][n]=i.select(this)});return a}},5657:function(e,o,t){"use strict";var r=t(9576);o.init2dArray=function(e,t){var r=new Array(e);for(var a=0;a<e;a++)r[a]=new Array(t);return r};o.transposeRagged=function(e){var t=0;var r=e.length;var a,n;for(a=0;a<r;a++)t=Math.max(t,e[a].length);var i=new Array(t);for(a=0;a<t;a++){i[a]=new Array(r);for(n=0;n<r;n++)i[a][n]=e[n][a]}return i};o.dot=function(e,t){if(!(e.length&&t.length)||e.length!==t.length)return null;var r=e.length;var a;var n;if(e[0].length){a=new Array(r);for(n=0;n<r;n++)a[n]=o.dot(e[n],t)}else if(t[0].length){var i=o.transposeRagged(t);a=new Array(i.length);for(n=0;n<i.length;n++)a[n]=o.dot(e,i[n])}else{a=0;for(n=0;n<r;n++)a+=e[n]*t[n]}return a};o.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]};o.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]};o.rotationXYMatrix=function(e,t,r){return o.dot(o.dot(o.translationMatrix(t,r),o.rotationMatrix(e)),o.translationMatrix(-t,-r))};o.apply3DTransform=function(r){return function(){var e=arguments;var t=arguments.length===1?e[0]:[e[0],e[1],e[2]||0];return o.dot(r,[t[0],t[1],t[2],1]).slice(0,3)}};o.apply2DTransform=function(r){return function(){var e=arguments;if(e.length===3){e=e[0]}var t=arguments.length===1?e[0]:[e[0],e[1]];return o.dot(r,[t[0],t[1],1]).slice(0,2)}};o.apply2DTransform2=function(e){var t=o.apply2DTransform(e);return function(e){return t(e.slice(0,2)).concat(t(e.slice(2,4)))}};o.convertCssMatrix=function(e){if(e){var t=e.length;if(t===16)return e;if(t===6){return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};o.inverseTransformMatrix=function(e){var t=[];r.invert(t,e);return[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]],[t[8],t[9],t[10],t[11]],[t[12],t[13],t[14],t[15]]]}},4872:function(e){"use strict";function mod(e,t){var r=e%t;return r<0?r+t:r}function modHalf(e,t){return Math.abs(e)>t/2?e-Math.round(e/t)*t:e}e.exports={mod:mod,modHalf:modHalf}},5487:function(e,t,r){"use strict";var l=r(2770);var f=r(3627).isArrayOrTypedArray;e.exports=function nestedProperty(e,t){if(l(t))t=String(t);else if(typeof t!=="string"||t.substr(t.length-4)==="[-1]"){throw"bad property string"}var r=0;var a=t.split(".");var n;var i;var o;while(r<a.length){n=String(a[r]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/);if(n){if(n[1])a[r]=n[1];else if(r===0)a.splice(0,1);else throw"bad property string";i=n[2].substr(1,n[2].length-2).split("][");for(o=0;o<i.length;o++){r++;a.splice(r,0,Number(i[o]))}}r++}if(typeof e!=="object"){return badContainer(e,t,a)}return{set:npSet(e,a,t),get:npGet(e,a),astr:t,parts:a,obj:e}};function npGet(o,l){return function(){var e=o;var t;var r;var a;var n;var i;for(n=0;n<l.length-1;n++){t=l[n];if(t===-1){r=true;a=[];for(i=0;i<e.length;i++){a[i]=npGet(e[i],l.slice(n+1))();if(a[i]!==a[0])r=false}return r?a[0]:a}if(typeof t==="number"&&!f(e)){return undefined}e=e[t];if(typeof e!=="object"||e===null){return undefined}}if(typeof e!=="object"||e===null)return undefined;a=e[l[n]];if(a===null)return undefined;return a}}var a=/(^|\.)args\[/;function isDeletable(e,t){return e===undefined||e===null&&!t.match(a)}function npSet(l,s,c){return function(e){var t=l;var r="";var a=[[l,r]];var n=isDeletable(e,c);var i;var o;for(o=0;o<s.length-1;o++){i=s[o];if(typeof i==="number"&&!f(t)){throw"array index but container is not an array"}if(i===-1){n=!setArrayAll(t,s.slice(o+1),e,c);if(n)break;else return}if(!checkNewContainer(t,i,s[o+1],n)){break}t=t[i];if(typeof t!=="object"||t===null){throw"container is not an object"}r=joinPropStr(r,i);a.push([t,r])}if(n){if(o===s.length-1){delete t[s[o]];if(Array.isArray(t)&&+s[o]===t.length-1){while(t.length&&t[t.length-1]===undefined){t.pop()}}}}else t[s[o]]=e}}function joinPropStr(e,t){var r=t;if(l(t))r="["+t+"]";else if(e)r="."+t;return e+r}function setArrayAll(e,t,r,a){var n=f(r);var i=true;var o=r;var l=a.replace("-1",0);var s=n?false:isDeletable(r,l);var c=t[0];var u;for(u=0;u<e.length;u++){l=a.replace("-1",u);if(n){o=r[u%r.length];s=isDeletable(o,l)}if(s)i=false;if(!checkNewContainer(e,u,c,s)){continue}npSet(e[u],t,a.replace("-1",u))(o)}return i}function checkNewContainer(e,t,r,a){if(e[t]===undefined){if(a)return false;if(typeof r==="number")e[t]=[];else e[t]={}}return true}function badContainer(e,t,r){return{set:function(){throw"bad container"},get:function(){},astr:t,parts:r,obj:e}}},4213:function(e){"use strict";e.exports=function noop(){}},5046:function(e,t,r){"use strict";var l=r(9898);var a=r(2770);var n=[];e.exports=function(e,i){if(n.indexOf(e)!==-1)return;n.push(e);var o=1e3;if(a(i))o=i;else if(i==="long")o=3e3;var t=l.select("body").selectAll(".plotly-notifier").data([0]);t.enter().append("div").classed("plotly-notifier",true);var r=t.selectAll(".notifier-note").data(n);function killNote(e){e.duration(700).style("opacity",0).each("end",function(e){var t=n.indexOf(e);if(t!==-1)n.splice(t,1);l.select(this).remove()})}r.enter().append("div").classed("notifier-note",true).style("opacity",0).each(function(e){var t=l.select(this);t.append("button").classed("notifier-close",true).html("&times;").on("click",function(){t.transition().call(killNote)});var r=t.append("p");var a=e.split(/<br\s*\/?>/g);for(var n=0;n<a.length;n++){if(n)r.append("br");r.append("span").text(a[n])}if(i==="stick"){t.transition().duration(350).style("opacity",1)}else{t.transition().duration(700).style("opacity",1).transition().delay(o).call(killNote)}})}},9918:function(e,t,r){"use strict";var o=r(6964);var l="data-savedcursor";var s="!!";e.exports=function overrideCursor(e,t){var r=e.attr(l);if(t){if(!r){var a=(e.attr("class")||"").split(" ");for(var n=0;n<a.length;n++){var i=a[n];if(i.indexOf("cursor-")===0){e.attr(l,i.substr(7)).classed(i,false)}}if(!e.attr(l)){e.attr(l,s)}}o(e,t)}else if(r){e.attr(l,null);if(r===s)o(e);else o(e,r)}}},1082:function(e,t,r){"use strict";var d=r(5657).dot;var y=r(606).BADNUM;var c=e.exports={};c.tester=function tester(e){var v=e.slice();var h=v[0][0];var p=h;var g=v[0][1];var m=g;var t;if(v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1]){v.push(v[0])}for(t=1;t<v.length;t++){h=Math.min(h,v[t][0]);p=Math.max(p,v[t][0]);g=Math.min(g,v[t][1]);m=Math.max(m,v[t][1])}var r=false;var n;if(v.length===5){if(v[0][0]===v[1][0]){if(v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]){r=true;n=function(e){return e[0]===v[0][0]}}}else if(v[0][1]===v[1][1]){if(v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]){r=true;n=function(e){return e[1]===v[0][1]}}}}function rectContains(e,t){var r=e[0];var a=e[1];if(r===y||r<h||r>p||a===y||a<g||a>m){return false}if(t&&n(e))return false;return true}function contains(e,t){var r=e[0];var a=e[1];if(r===y||r<h||r>p||a===y||a<g||a>m){return false}var n=v.length;var i=v[0][0];var o=v[0][1];var l=0;var s;var c;var u;var f;var d;for(s=1;s<n;s++){c=i;u=o;i=v[s][0];o=v[s][1];f=Math.min(c,i);if(r<f||r>Math.max(c,i)||a>Math.max(u,o)){continue}else if(a<Math.min(u,o)){if(r!==f)l++}else{if(i===c)d=a;else d=u+(r-c)*(o-u)/(i-c);if(a===d){if(s===1&&t)return false;return true}if(a<=d&&r!==f)l++}}return l%2===1}var a=true;var i=v[0];for(t=1;t<v.length;t++){if(i[0]!==v[t][0]||i[1]!==v[t][1]){a=false;break}}return{xmin:h,xmax:p,ymin:g,ymax:m,pts:v,contains:r?rectContains:contains,isRect:r,degenerate:a}};c.isSegmentBent=function isSegmentBent(e,t,r,a){var n=e[t];var i=[e[r][0]-n[0],e[r][1]-n[1]];var o=d(i,i);var l=Math.sqrt(o);var s=[-i[1]/l,i[0]/l];var c;var u;var f;for(c=t+1;c<r;c++){u=[e[c][0]-n[0],e[c][1]-n[1]];f=d(u,i);if(f<0||f>o||Math.abs(d(u,s))>a)return true}return false};c.filter=function filter(n,i){var o=[n[0]];var l=0;var s=0;function addPt(e){n.push(e);var t=o.length;var r=l;o.splice(s+1);for(var a=r+1;a<n.length;a++){if(a===n.length-1||c.isSegmentBent(n,r,a+1,i)){o.push(n[a]);if(o.length<t-2){l=a;s=o.length-1}r=a}}}if(n.length>1){var e=n.pop();addPt(e)}return{addPt:addPt,raw:n,filtered:o}}},5142:function(e,t,r){"use strict";var c=r(2770);var u=r(5791);e.exports=function preserveDrawingBuffer(e){var t;if(e&&e.hasOwnProperty("userAgent")){t=e.userAgent}else{t=getUserAgent()}if(typeof t!=="string")return true;var r=u({ua:{headers:{"user-agent":t}},tablet:true,featureDetect:false});if(!r){var a=t.split(" ");for(var n=1;n<a.length;n++){var i=a[n];if(i.indexOf("Safari")!==-1){for(var o=n-1;o>-1;o--){var l=a[o];if(l.substr(0,8)==="Version/"){var s=l.substr(8).split(".")[0];if(c(s))s=+s;if(s>=13)return true}}}}}return r};function getUserAgent(){var e;if(typeof navigator!=="undefined"){e=navigator.userAgent}if(e&&e.headers&&typeof e.headers["user-agent"]==="string"){e=e.headers["user-agent"]}return e}},5138:function(e){"use strict";e.exports=function pushUnique(e,t){if(t instanceof RegExp){var r=t.toString();for(var a=0;a<e.length;a++){if(e[a]instanceof RegExp&&e[a].toString()===r){return e}}e.push(t)}else if((t||t===0)&&e.indexOf(t)===-1)e.push(t);return e}},847:function(e,t,r){"use strict";var i=r(1828);var l=r(2075).dfltConfig;function copyArgArray(e,t){var r=[];var a;for(var n=0;n<t.length;n++){a=t[n];if(a===e)r[n]=a;else if(typeof a==="object"){r[n]=Array.isArray(a)?i.extendDeep([],a):i.extendDeepAll({},a)}else r[n]=a}return r}var a={};a.add=function(e,t,r,a,n){var i,o;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:false};o=e.undoQueue.index;if(e.autoplay){if(!e.undoQueue.inSequence)e.autoplay=false;return}if(!e.undoQueue.sequence||e.undoQueue.beginSequence){i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}};e.undoQueue.queue.splice(o,e.undoQueue.queue.length-o,i);e.undoQueue.index+=1}else{i=e.undoQueue.queue[o-1]}e.undoQueue.beginSequence=false;if(i){i.undo.calls.unshift(t);i.undo.args.unshift(r);i.redo.calls.push(a);i.redo.args.push(n)}if(e.undoQueue.queue.length>l.queueLength){e.undoQueue.queue.shift();e.undoQueue.index--}};a.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:false};e.undoQueue.sequence=true;e.undoQueue.beginSequence=true};a.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:false};e.undoQueue.sequence=false;e.undoQueue.beginSequence=false};a.undo=function undo(e){var t,r;if(e.undoQueue===undefined||isNaN(e.undoQueue.index)||e.undoQueue.index<=0){return}e.undoQueue.index--;t=e.undoQueue.queue[e.undoQueue.index];e.undoQueue.inSequence=true;for(r=0;r<t.undo.calls.length;r++){a.plotDo(e,t.undo.calls[r],t.undo.args[r])}e.undoQueue.inSequence=false;e.autoplay=false};a.redo=function redo(e){var t,r;if(e.undoQueue===undefined||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length){return}t=e.undoQueue.queue[e.undoQueue.index];e.undoQueue.inSequence=true;for(r=0;r<t.redo.calls.length;r++){a.plotDo(e,t.redo.calls[r],t.redo.args[r])}e.undoQueue.inSequence=false;e.autoplay=false;e.undoQueue.index++};a.plotDo=function(e,t,r){e.autoplay=true;r=copyArgArray(e,r);t.apply(null,r)};e.exports=a},587:function(e,t){"use strict";t.counter=function(e,t,r,a){var n=(t||"")+(r?"":"$");var i=a===false?"":"^";if(e==="xy"){return new RegExp(i+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+n)}return new RegExp(i+e+"([2-9]|[1-9][0-9]+)?"+n)}},6962:function(e){"use strict";var a=/^(.*)(\.[^\.\[\]]+|\[\d\])$/;var n=/^[^\.\[\]]+$/;e.exports=function(e,t){while(t){var r=e.match(a);if(r)e=r[1];else if(e.match(n))e="";else throw new Error("bad relativeAttr call:"+[e,t]);if(t.charAt(0)==="^")t=t.slice(1);else break}if(e&&t.charAt(0)!=="["){return e+"."+t}return e+t}},1332:function(e,t,r){"use strict";var l=r(3627).isArrayOrTypedArray;var s=r(1965);e.exports=function relinkPrivateKeys(e,t){for(var r in t){var a=t[r];var n=e[r];if(n===a)continue;if(r.charAt(0)==="_"||typeof a==="function"){if(r in e)continue;e[r]=a}else if(l(a)&&l(n)&&s(a[0])){if(r==="customdata"||r==="ids")continue;var i=Math.min(a.length,n.length);for(var o=0;o<i;o++){if(n[o]!==a[o]&&s(a[o])&&s(n[o])){relinkPrivateKeys(n[o],a[o])}}}else if(s(a)&&s(n)){relinkPrivateKeys(n,a);if(!Object.keys(n).length)delete e[r]}}}},5888:function(e,u,t){"use strict";var c=t(2770);var f=t(7769);var o=t(3389);var d=t(606).BADNUM;var v=1e-9;u.findBin=function(e,t,r){if(c(t.start)){return r?Math.ceil((e-t.start)/t.size-v)-1:Math.floor((e-t.start)/t.size+v)}else{var a=0;var n=t.length;var i=0;var o=n>1?(t[n-1]-t[0])/(n-1):1;var l,s;if(o>=0){s=r?lessThan:lessOrEqual}else{s=r?greaterOrEqual:greaterThan}e+=o*v*(r?-1:1)*(o>=0?1:-1);while(a<n&&i++<100){l=Math.floor((a+n)/2);if(s(t[l],e))a=l+1;else n=l}if(i>90)f.log("Long binary search...");return a-1}};function lessThan(e,t){return e<t}function lessOrEqual(e,t){return e<=t}function greaterThan(e,t){return e>t}function greaterOrEqual(e,t){return e>=t}u.sorterAsc=function(e,t){return e-t};u.sorterDes=function(e,t){return t-e};u.distinctVals=function(e){var t=e.slice();t.sort(u.sorterAsc);var r;for(r=t.length-1;r>-1;r--){if(t[r]!==d)break}var a=t[r]-t[0]||1;var n=a/(r||1)/1e4;var i=[];var o;for(var l=0;l<=r;l++){var s=t[l];var c=s-o;if(o===undefined){i.push(s);o=s}else if(c>n){a=Math.min(a,c);i.push(s);o=s}}return{vals:i,minDiff:a}};u.roundUp=function(e,t,r){var a=0;var n=t.length-1;var i;var o=0;var l=r?0:1;var s=r?1:0;var c=r?Math.ceil:Math.floor;while(a<n&&o++<100){i=c((a+n)/2);if(t[i]<=e)a=i+l;else n=i-s}return t[a]};u.sort=function(e,t){var r=0;var a=0;for(var n=1;n<e.length;n++){var i=t(e[n],e[n-1]);if(i<0)r=1;else if(i>0)a=1;if(r&&a)return e.sort(t)}return a?e:e.reverse()};u.findIndexOfMin=function(e,t){t=t||o;var r=Infinity;var a;for(var n=0;n<e.length;n++){var i=t(e[n]);if(i<r){r=i;a=n}}return a}},6964:function(e){"use strict";e.exports=function setCursor(t,e){(t.attr("class")||"").split(" ").forEach(function(e){if(e.indexOf("cursor-")===0)t.classed(e,false)});if(e)t.classed("cursor-"+e,true)}},8607:function(e){"use strict";e.exports=function sortObjectKeys(e){return Object.keys(e).sort()}},38:function(e,o,t){"use strict";var l=t(2770);var s=t(3627).isArrayOrTypedArray;o.aggNums=function(e,t,r,a){var n,i;if(!a||a>r.length)a=r.length;if(!l(t))t=false;if(s(r[0])){i=new Array(a);for(n=0;n<a;n++)i[n]=o.aggNums(e,t,r[n]);r=i}for(n=0;n<a;n++){if(!l(t))t=r[n];else if(l(r[n]))t=e(+t,+r[n])}return t};o.len=function(e){return o.aggNums(function(e){return e+1},0,e)};o.mean=function(e,t){if(!t)t=o.len(e);return o.aggNums(function(e,t){return e+t},0,e)/t};o.midRange=function(e){if(e===undefined||e.length===0)return undefined;return(o.aggNums(Math.max,null,e)+o.aggNums(Math.min,null,e))/2};o.variance=function(e,t,r){if(!t)t=o.len(e);if(!l(r))r=o.mean(e,t);return o.aggNums(function(e,t){return e+Math.pow(t-r,2)},0,e)/t};o.stdev=function(e,t,r){return Math.sqrt(o.variance(e,t,r))};o.median=function(e){var t=e.slice().sort();return o.interp(t,.5)};o.interp=function(e,t){if(!l(t))throw"n should be a finite number";t=t*e.length-.5;if(t<0)return e[0];if(t>e.length-1)return e[e.length-1];var r=t%1;return r*e[Math.ceil(t)]+(1-r)*e[Math.floor(t)]}},3893:function(c,r,e){"use strict";var y=e(9898);var x=e(1828);var k=x.strTranslate;var _=e(7922);var b=e(8783).LINE_SPACING;var a=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;r.convertToTspans=function(x,e,_){var b=x.text();var t=!x.attr("data-notex")&&e&&e._context.typesetMath&&typeof MathJax!=="undefined"&&b.match(a);var w=y.select(x.node().parentNode);if(w.empty())return;var T=x.attr("class")?x.attr("class").split(" ")[0]:"text";T+="-math";w.selectAll("svg."+T).remove();w.selectAll("g."+T+"-group").remove();x.style("display",null).attr({"data-unformatted":b,"data-math":"N"});function showText(){if(!w.empty()){T=x.attr("class")+"-math";w.select("svg."+T).remove()}x.text("").style("white-space","pre");var e=buildSVGText(x.node(),b);if(e){x.style("pointer-events","all")}r.positionText(x);if(_)_.call(x)}if(t){(e&&e._promises||[]).push(new Promise(function(m){x.style("display","none");var y=parseInt(x.node().style.fontSize,10);var e={fontSize:y};texToSVG(t[2],e,function(e,t,r){w.selectAll("svg."+T).remove();w.selectAll("g."+T+"-group").remove();var a=e&&e.select("svg");if(!a||!a.node()){showText();m();return}var n=w.append("g").classed(T+"-group",true).attr({"pointer-events":"none","data-unformatted":b,"data-math":"Y"});n.node().appendChild(a.node());if(t&&t.node()){a.node().insertBefore(t.node().cloneNode(true),a.node().firstChild)}var i=r.width;var o=r.height;a.attr({"class":T,height:o,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var l=x.node().style.fill||"black";var s=a.select("g");s.attr({fill:l,stroke:l});var c=s.node().getBoundingClientRect();var u=c.width;var f=c.height;if(u>i||f>o){a.style("overflow","hidden");c=a.node().getBoundingClientRect();u=c.width;f=c.height}var d=+x.attr("x");var v=+x.attr("y");var h=y||x.node().getBoundingClientRect().height;var p=-h/4;if(T[0]==="y"){n.attr({transform:"rotate("+[-90,d,v]+")"+k(-u/2,p-f/2)})}else if(T[0]==="l"){v=p-f/2}else if(T[0]==="a"&&T.indexOf("atitle")!==0){d=0;v=p}else{var g=x.attr("text-anchor");d=d-u*(g==="middle"?.5:g==="end"?1:0);v=v+p-f/2}a.attr({x:d,y:v});if(_)_.call(x,n);m(n)})}))}else showText();return x};var t=/(<|&lt;|&#60;)/g;var n=/(>|&gt;|&#62;)/g;function cleanEscapesForTex(e){return e.replace(t,"\\lt ").replace(n,"\\gt ")}var w=[["$","$"],["\\(","\\)"]];function texToSVG(n,r,i){var o=parseInt((MathJax.version||"").split(".")[0]);if(o!==2&&o!==3){x.warn("No MathJax version:",MathJax.version);return}var e,t,a,l;var s=function(){t=x.extendDeepAll({},MathJax.Hub.config);a=MathJax.Hub.processSectionDelay;if(MathJax.Hub.processSectionDelay!==undefined){MathJax.Hub.processSectionDelay=0}return MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:w},displayAlign:"left"})};var c=function(){t=x.extendDeepAll({},MathJax.config);if(!MathJax.config.tex){MathJax.config.tex={}}MathJax.config.tex.inlineMath=w};var u=function(){e=MathJax.Hub.config.menuSettings.renderer;if(e!=="SVG"){return MathJax.Hub.setRenderer("SVG")}};var f=function(){e=MathJax.config.startup.output;if(e!=="svg"){MathJax.config.startup.output="svg"}};var d=function(){var e="math-output-"+x.randstr({},64);l=y.select("body").append("div").attr({id:e}).style({visibility:"hidden",position:"absolute","font-size":r.fontSize+"px"}).text(cleanEscapesForTex(n));var t=l.node();return o===2?MathJax.Hub.Typeset(t):MathJax.typeset([t])};var v=function(){var e=l.select(o===2?".MathJax_SVG":".MathJax");var t=!e.empty()&&l.select("svg").node();if(!t){x.log("There was an error in the tex syntax.",n);i()}else{var r=t.getBoundingClientRect();var a;if(o===2){a=y.select("body").select("#MathJax_SVG_glyphs")}else{a=e.select("defs")}i(e,a,r)}l.remove()};var h=function(){if(e!=="SVG"){return MathJax.Hub.setRenderer(e)}};var p=function(){if(e!=="svg"){MathJax.config.startup.output=e}};var g=function(){if(a!==undefined){MathJax.Hub.processSectionDelay=a}return MathJax.Hub.Config(t)};var m=function(){MathJax.config=t};if(o===2){MathJax.Hub.Queue(s,u,d,v,h,g)}else if(o===3){c();f();MathJax.startup.defaultReady();MathJax.startup.promise.then(function(){d();v();p();m()})}}var T={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"};var A={sub:"0.3em",sup:"-0.6em"};var M={sub:"-0.21em",sup:"0.42em"};var S="";var o=["http:","https:","mailto:","",undefined,":"];var C=r.NEWLINES=/(\r\n?|\n)/g;var L=/(<[^<>]*>)/;var D=/<(\/?)([^ >]*)(\s+(.*))?>/i;var O=/<br(\s+.*)?>/i;r.BR_TAG_ALL=/<br(\s+.*)?>/gi;var P=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i;var I=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i;var R=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i;var F=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function getQuotedMatch(e,t){if(!e)return null;var r=e.match(t);var a=r&&(r[3]||r[4]);return a&&convertEntities(a)}var N=/(^|;)\s*color:/;r.plainText=function(e,t){t=t||{};var r=t.len!==undefined&&t.len!==-1?t.len:Infinity;var a=t.allowedTags!==undefined?t.allowedTags:["br"];var n="...";var i=n.length;var o=e.split(L);var l=[];var s="";var c=0;for(var u=0;u<o.length;u++){var f=o[u];var d=f.match(D);var v=d&&d[2].toLowerCase();if(v){if(a.indexOf(v)!==-1){l.push(f);s=v}}else{var h=f.length;if(c+h<r){l.push(f);c+=h}else if(c<r){var p=r-c;if(s&&(s!=="br"||p<=i||h<=i)){l.pop()}if(r>i){l.push(f.substr(0,p-i)+n)}else{l.push(f.substr(0,p))}break}s=""}}return l.join("")};var i={mu:"",amp:"&",lt:"<",gt:">",nbsp:" ",times:"",plusmn:"",deg:""};var l=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function convertEntities(e){return e.replace(l,function(e,t){var r;if(t.charAt(0)==="#"){r=fromCodePoint(t.charAt(1)==="x"?parseInt(t.substr(2),16):parseInt(t.substr(1),10))}else r=i[t];return r||e})}r.convertEntities=convertEntities;function fromCodePoint(e){if(e>1114111)return;var t=String.fromCodePoint;if(t)return t(e);var r=String.fromCharCode;if(e<=65535)return r(e);return r((e>>10)+55232,e%1024+56320)}function buildSVGText(a,r){r=r.replace(C," ");var e=false;var c=[];var u;var n=-1;function newLine(){n++;var e=document.createElementNS(_.svg,"tspan");y.select(e).attr({"class":"line",dy:n*b+"em"});a.appendChild(e);u=e;var t=c;c=[{node:e}];if(t.length>1){for(var r=1;r<t.length;r++){enterNode(t[r])}}}function enterNode(e){var t=e.type;var r={};var a;if(t==="a"){a="a";var n=e.target;var i=e.href;var o=e.popup;if(i){r={"xlink:xlink:show":n==="_blank"||n.charAt(0)!=="_"?"new":"replace",target:n,"xlink:xlink:href":i};if(o){r.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+o+'");return false;'}}}else a="tspan";if(e.style)r.style=e.style;var l=document.createElementNS(_.svg,a);if(t==="sup"||t==="sub"){addTextNode(u,S);u.appendChild(l);var s=document.createElementNS(_.svg,"tspan");addTextNode(s,S);y.select(s).attr("dy",M[t]);r.dy=A[t];u.appendChild(l);u.appendChild(s)}else{u.appendChild(l)}y.select(l).attr(r);u=e.node=l;c.push(e)}function addTextNode(e,t){e.appendChild(document.createTextNode(t))}function exitNode(e){if(c.length===1){x.log("Ignoring unexpected end tag </"+e+">.",r);return}var t=c.pop();if(e!==t.type){x.log("Start tag <"+t.type+"> doesnt match end tag <"+e+">. Pretending it did match.",r)}u=c[c.length-1].node}var t=O.test(r);if(t)newLine();else{u=a;c=[{node:a}]}var i=r.split(L);for(var o=0;o<i.length;o++){var l=i[o];var s=l.match(D);var f=s&&s[2].toLowerCase();var d=T[f];if(f==="br"){newLine()}else if(d===undefined){addTextNode(u,convertEntities(l))}else{if(s[1]){exitNode(f)}else{var v=s[4];var h={type:f};var p=getQuotedMatch(v,P);if(p){p=p.replace(N,"$1 fill:");if(d)p+=";"+d}else if(d)p=d;if(p)h.style=p;if(f==="a"){e=true;var g=getQuotedMatch(v,I);if(g){var m=sanitizeHref(g);if(m){h.href=m;h.target=getQuotedMatch(v,R)||"_blank";h.popup=getQuotedMatch(v,F)}}}enterNode(h)}}}return e}function sanitizeHref(e){var t=encodeURI(decodeURI(e));var r=document.createElement("a");var a=document.createElement("a");r.href=e;a.href=t;var n=r.protocol;var i=a.protocol;if(o.indexOf(n)!==-1&&o.indexOf(i)!==-1){return t}else{return""}}r.sanitizeHTML=function sanitizeHTML(e){e=e.replace(C," ");var t=document.createElement("p");var r=t;var a=[];var n=e.split(L);for(var i=0;i<n.length;i++){var o=n[i];var l=o.match(D);var s=l&&l[2].toLowerCase();if(s in T){if(l[1]){if(a.length){r=a.pop()}}else{var c=l[4];var u=getQuotedMatch(c,P);var f=u?{style:u}:{};if(s==="a"){var d=getQuotedMatch(c,I);if(d){var v=sanitizeHref(d);if(v){f.href=v;var h=getQuotedMatch(c,R);if(h){f.target=h}}}}var p=document.createElement(s);r.appendChild(p);y.select(p).attr(f);r=p;a.push(p)}}else{r.appendChild(document.createTextNode(convertEntities(o)))}}var g="innerHTML";return t[g]};r.lineCount=function lineCount(e){return e.selectAll("tspan.line").size()||1};r.positionText=function positionText(e,a,n){return e.each(function(){var r=y.select(this);function setOrGet(e,t){if(t===undefined){t=r.attr(e);if(t===null){r.attr(e,0);t=0}}else r.attr(e,t);return t}var e=setOrGet("x",a);var t=setOrGet("y",n);if(this.nodeName==="text"){r.selectAll("tspan.line").attr({x:e,y:t})}})};function alignHTMLWith(e,t,n){var r=n.horizontalAlign;var a=n.verticalAlign||"top";var i=e.node().getBoundingClientRect();var o=t.node().getBoundingClientRect();var l;var s;var c;if(a==="bottom"){s=function(){return i.bottom-l.height}}else if(a==="middle"){s=function(){return i.top+(i.height-l.height)/2}}else{s=function(){return i.top}}if(r==="right"){c=function(){return i.right-l.width}}else if(r==="center"){c=function(){return i.left+(i.width-l.width)/2}}else{c=function(){return i.left}}return function(){l=this.node().getBoundingClientRect();var e=c()-o.left;var t=s()-o.top;var r=n.gd||{};if(n.gd){r._fullLayout._calcInverseTransform(r);var a=x.apply3DTransform(r._fullLayout._invTransform)(e,t);e=a[0];t=a[1]}this.style({top:t+"px",left:e+"px","z-index":1e3});return this}}var s="1px ";r.makeTextShadow=function(e){var t=s;var r=s;var a=s;return t+r+a+e+", "+"-"+t+"-"+r+a+e+", "+t+"-"+r+a+e+", "+"-"+t+r+a+e};r.makeEditable=function(o,l){var s=l.gd;var e=l.delegate;var c=y.dispatch("edit","input","cancel");var r=e||o;o.style({"pointer-events":e?"none":"all"});if(o.size()!==1)throw new Error("boo");function handleClick(){appendEditable();o.style({opacity:0});var e=r.attr("class");var t;if(e)t="."+e.split(" ")[0]+"-math-group";else t="[class*=-math-group]";if(t){y.select(o.node().parentNode).select(t).style({opacity:0})}}function selectElementContents(e){var t=e.node();var r=document.createRange();r.selectNodeContents(t);var a=window.getSelection();a.removeAllRanges();a.addRange(r);t.focus()}function appendEditable(){var e=y.select(s);var t=e.select(".svg-container");var r=t.append("div");var a=o.node().style;var n=parseFloat(a.fontSize||12);var i=l.text;if(i===undefined)i=o.attr("data-unformatted");r.classed("plugin-editable editable",true).style({position:"absolute","font-family":a.fontFamily||"Arial","font-size":n,color:l.fill||a.fill||"black",opacity:1,"background-color":l.background||"transparent",outline:"#ffffff33 1px solid",margin:[-n/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:true}).text(i).call(alignHTMLWith(o,t,l)).on("blur",function(){s._editing=false;o.text(this.textContent).style({opacity:1});var e=y.select(this).attr("class");var t;if(e)t="."+e.split(" ")[0]+"-math-group";else t="[class*=-math-group]";if(t){y.select(o.node().parentNode).select(t).style({opacity:0})}var r=this.textContent;y.select(this).transition().duration(0).remove();y.select(document).on("mouseup",null);c.edit.call(o,r)}).on("focus",function(){var e=this;s._editing=true;y.select(document).on("mouseup",function(){if(y.event.target===e)return false;if(document.activeElement===r.node())r.node().blur()})}).on("keyup",function(){if(y.event.which===27){s._editing=false;o.style({opacity:1});y.select(this).style({opacity:0}).on("blur",function(){return false}).transition().remove();c.cancel.call(o,this.textContent)}else{c.input.call(o,this.textContent);y.select(this).call(alignHTMLWith(o,t,l))}}).on("keydown",function(){if(y.event.which===13)this.blur()}).call(selectElementContents)}if(l.immediate)handleClick();else r.on("click",handleClick);return y.rebind(o,c,"on")}},9990:function(e,r){"use strict";var o={};r.throttle=function throttle(e,t,r){var a=o[e];var n=Date.now();if(!a){for(var i in o){if(o[i].ts<n-6e4){delete o[i]}}a=o[e]={ts:0,timer:null}}_clearTimeout(a);function exec(){r();a.ts=Date.now();if(a.onDone){a.onDone();a.onDone=null}}if(n>a.ts+t){exec();return}a.timer=setTimeout(function(){exec();a.timer=null},t)};r.done=function(e){var r=o[e];if(!r||!r.timer)return Promise.resolve();return new Promise(function(e){var t=r.onDone;r.onDone=function onDone(){if(t)t();e();r.onDone=null}})};r.clear=function(e){if(e){_clearTimeout(o[e]);delete o[e]}else{for(var t in o)r.clear(t)}};function _clearTimeout(e){if(e&&e.timer!==null){clearTimeout(e.timer);e.timer=null}}},8163:function(e,t,r){"use strict";var a=r(2770);e.exports=function toLogRange(e,t){if(e>0)return Math.log(e)/Math.LN10;var r=Math.log(Math.min(t[0],t[1]))/Math.LN10;if(!a(r))r=Math.log(Math.max(t[0],t[1]))/Math.LN10-6;return r}},7815:function(e){"use strict";e.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},2177:function(e){"use strict";e.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},4458:function(e,t,r){"use strict";var s=r(3972);e.exports=function containerArrayMatch(e){var t=s.layoutArrayContainers;var r=s.layoutArrayRegexes;var a=e.split("[")[0];var n;var i;for(var o=0;o<r.length;o++){i=e.match(r[o]);if(i&&i.index===0){n=i[0];break}}if(!n)n=t[t.indexOf(a)];if(!n)return false;var l=e.substr(n.length);if(!l)return{array:n,index:"",property:""};i=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/);if(!i)return false;return{array:n,index:Number(i[1]),property:i[3]||""}}},962:function(e,t,r){"use strict";var a=r(1828);var o=a.extendFlat;var l=a.isPlainObject;var n={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]};var i={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]};var s=n.flags.slice().concat(["fullReplot"]);var c=i.flags.slice().concat("layoutReplot");e.exports={traces:n,layout:i,traceFlags:function(){return falseObj(s)},layoutFlags:function(){return falseObj(c)},update:function(e,t){var r=t.editType;if(r&&r!=="none"){var a=r.split("+");for(var n=0;n<a.length;n++){e[a[n]]=true}}},overrideAll:overrideAll};function falseObj(e){var t={};for(var r=0;r<e.length;r++)t[e[r]]=false;return t}function overrideAll(e,t,r){var a=o({},e);for(var n in a){var i=a[n];if(l(i)){a[n]=overrideOne(i,t,r,n)}}if(r==="from-root")a.editType=t;return a}function overrideOne(e,t,r,a){if(e.valType){var n=o({},e);n.editType=t;if(Array.isArray(e.items)){n.items=new Array(e.items.length);for(var i=0;i<e.items.length;i++){n.items[i]=overrideOne(e.items[i],t,"from-root")}}return n}else{return overrideAll(e,t,a.charAt(0)==="_"?"nested":"from-root")}}},8377:function(e,M,t){"use strict";var u=t(2770);var S=t(7812);var b=t(3972);var C=t(1828);var L=t(4875);var r=t(1675);var D=t(7901);var O=r.cleanId;var f=r.getFromTrace;var w=b.traceIs;M.clearPromiseQueue=function(e){if(Array.isArray(e._promises)&&e._promises.length>0){C.log("Clearing previous rejected promises from queue.")}e._promises=[]};M.cleanLayout=function(e){var t,r;if(!e)e={};if(e.xaxis1){if(!e.xaxis)e.xaxis=e.xaxis1;delete e.xaxis1}if(e.yaxis1){if(!e.yaxis)e.yaxis=e.yaxis1;delete e.yaxis1}if(e.scene1){if(!e.scene)e.scene=e.scene1;delete e.scene1}var a=(L.subplotsRegistry.cartesian||{}).attrRegex;var n=(L.subplotsRegistry.polar||{}).attrRegex;var i=(L.subplotsRegistry.ternary||{}).attrRegex;var o=(L.subplotsRegistry.gl3d||{}).attrRegex;var l=Object.keys(e);for(t=0;t<l.length;t++){var s=l[t];if(a&&a.test(s)){var c=e[s];if(c.anchor&&c.anchor!=="free"){c.anchor=O(c.anchor)}if(c.overlaying)c.overlaying=O(c.overlaying);if(!c.type){if(c.isdate)c.type="date";else if(c.islog)c.type="log";else if(c.isdate===false&&c.islog===false)c.type="linear"}if(c.autorange==="withzero"||c.autorange==="tozero"){c.autorange=true;c.rangemode="tozero"}delete c.islog;delete c.isdate;delete c.categories;if(emptyContainer(c,"domain"))delete c.domain;if(c.autotick!==undefined){if(c.tickmode===undefined){c.tickmode=c.autotick?"auto":"linear"}delete c.autotick}cleanTitle(c)}else if(n&&n.test(s)){var u=e[s];cleanTitle(u.radialaxis)}else if(i&&i.test(s)){var f=e[s];cleanTitle(f.aaxis);cleanTitle(f.baxis);cleanTitle(f.caxis)}else if(o&&o.test(s)){var d=e[s];var v=d.cameraposition;if(Array.isArray(v)&&v[0].length===4){var h=v[0];var p=v[1];var g=v[2];var m=S([],h);var y=[];for(r=0;r<3;++r){y[r]=p[r]+g*m[2+4*r]}d.camera={eye:{x:y[0],y:y[1],z:y[2]},center:{x:p[0],y:p[1],z:p[2]},up:{x:0,y:0,z:1}};delete d.cameraposition}cleanTitle(d.xaxis);cleanTitle(d.yaxis);cleanTitle(d.zaxis)}}var x=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<x;t++){var _=e.annotations[t];if(!C.isPlainObject(_))continue;if(_.ref){if(_.ref==="paper"){_.xref="paper";_.yref="paper"}else if(_.ref==="data"){_.xref="x";_.yref="y"}delete _.ref}cleanAxRef(_,"xref");cleanAxRef(_,"yref")}var b=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<b;t++){var w=e.shapes[t];if(!C.isPlainObject(w))continue;cleanAxRef(w,"xref");cleanAxRef(w,"yref")}var T=Array.isArray(e.images)?e.images.length:0;for(t=0;t<T;t++){var k=e.images[t];if(!C.isPlainObject(k))continue;cleanAxRef(k,"xref");cleanAxRef(k,"yref")}var A=e.legend;if(A){if(A.x>3){A.x=1.02;A.xanchor="left"}else if(A.x<-2){A.x=-.02;A.xanchor="right"}if(A.y>3){A.y=1.02;A.yanchor="bottom"}else if(A.y<-2){A.y=-.02;A.yanchor="top"}}cleanTitle(e);if(e.dragmode==="rotate")e.dragmode="orbit";D.clean(e);if(e.template&&e.template.layout){M.cleanLayout(e.template.layout)}return e};function cleanAxRef(e,t){var r=e[t];var a=t.charAt(0);if(r&&r!=="paper"){e[t]=O(r,a,true)}}function cleanTitle(n){if(n){if(typeof n.title==="string"||typeof n.title==="number"){n.title={text:n.title}}rewireAttr("titlefont","font");rewireAttr("titleposition","position");rewireAttr("titleside","side");rewireAttr("titleoffset","offset")}function rewireAttr(e,t){var r=n[e];var a=n.title&&n.title[t];if(r&&!a){if(!n.title){n.title={}}n.title[t]=n[e];delete n[e]}}}M.cleanData=function(e){for(var t=0;t<e.length;t++){var r=e[t];var a;if(r.type==="histogramy"&&"xbins"in r&&!("ybins"in r)){r.ybins=r.xbins;delete r.xbins}if(r.error_y&&"opacity"in r.error_y){var n=D.defaults;var i=r.error_y.color||(w(r,"bar")?D.defaultLine:n[t%n.length]);r.error_y.color=D.addOpacity(D.rgb(i),D.opacity(i)*r.error_y.opacity);delete r.error_y.opacity}if("bardir"in r){if(r.bardir==="h"&&(w(r,"bar")||r.type.substr(0,9)==="histogram")){r.orientation="h";M.swapXYData(r)}delete r.bardir}if(r.type==="histogramy")M.swapXYData(r);if(r.type==="histogramx"||r.type==="histogramy"){r.type="histogram"}if("scl"in r&&!("colorscale"in r)){r.colorscale=r.scl;delete r.scl}if("reversescl"in r&&!("reversescale"in r)){r.reversescale=r.reversescl;delete r.reversescl}if(r.xaxis)r.xaxis=O(r.xaxis,"x");if(r.yaxis)r.yaxis=O(r.yaxis,"y");if(w(r,"gl3d")&&r.scene){r.scene=L.subplotsRegistry.gl3d.cleanId(r.scene)}if(!w(r,"pie-like")&&!w(r,"bar-like")){if(Array.isArray(r.textposition)){for(a=0;a<r.textposition.length;a++){r.textposition[a]=cleanTextPosition(r.textposition[a])}}else if(r.textposition){r.textposition=cleanTextPosition(r.textposition)}}var o=b.getModule(r);if(o&&o.colorbar){var l=o.colorbar.container;var s=l?r[l]:r;if(s&&s.colorscale){if(s.colorscale==="YIGnBu")s.colorscale="YlGnBu";if(s.colorscale==="YIOrRd")s.colorscale="YlOrRd"}}if(r.type==="surface"&&C.isPlainObject(r.contours)){var c=["x","y","z"];for(a=0;a<c.length;a++){var u=r.contours[c[a]];if(!C.isPlainObject(u))continue;if(u.highlightColor){u.highlightcolor=u.highlightColor;delete u.highlightColor}if(u.highlightWidth){u.highlightwidth=u.highlightWidth;delete u.highlightWidth}}}if(r.type==="candlestick"||r.type==="ohlc"){var f=(r.increasing||{}).showlegend!==false;var d=(r.decreasing||{}).showlegend!==false;var v=cleanFinanceDir(r.increasing);var h=cleanFinanceDir(r.decreasing);if(v!==false&&h!==false){var p=commonPrefix(v,h,f,d);if(p)r.name=p}else if((v||h)&&!r.name){r.name=v||h}}if(Array.isArray(r.transforms)){var g=r.transforms;for(a=0;a<g.length;a++){var m=g[a];if(!C.isPlainObject(m))continue;switch(m.type){case"filter":if(m.filtersrc){m.target=m.filtersrc;delete m.filtersrc}if(m.calendar){if(!m.valuecalendar){m.valuecalendar=m.calendar}delete m.calendar}break;case"groupby":m.styles=m.styles||m.style;if(m.styles&&!Array.isArray(m.styles)){var y=m.styles;var x=Object.keys(y);m.styles=[];for(var _=0;_<x.length;_++){m.styles.push({target:x[_],value:y[x[_]]})}}break}}}if(emptyContainer(r,"line"))delete r.line;if("marker"in r){if(emptyContainer(r.marker,"line"))delete r.marker.line;if(emptyContainer(r,"marker"))delete r.marker}D.clean(r);if(r.autobinx){delete r.autobinx;delete r.xbins}if(r.autobiny){delete r.autobiny;delete r.ybins}cleanTitle(r);if(r.colorbar)cleanTitle(r.colorbar);if(r.marker&&r.marker.colorbar)cleanTitle(r.marker.colorbar);if(r.line&&r.line.colorbar)cleanTitle(r.line.colorbar);if(r.aaxis)cleanTitle(r.aaxis);if(r.baxis)cleanTitle(r.baxis)}};function cleanFinanceDir(e){if(!C.isPlainObject(e))return false;var t=e.name;delete e.name;delete e.showlegend;return(typeof t==="string"||typeof t==="number")&&String(t)}function commonPrefix(e,t,r,a){if(r&&!a)return e;if(a&&!r)return t;if(!e.trim())return t;if(!t.trim())return e;var n=Math.min(e.length,t.length);var i;for(i=0;i<n;i++){if(e.charAt(i)!==t.charAt(i))break}var o=e.substr(0,i);return o.trim()}function cleanTextPosition(e){var t="middle";var r="center";if(typeof e==="string"){if(e.indexOf("top")!==-1)t="top";else if(e.indexOf("bottom")!==-1)t="bottom";if(e.indexOf("left")!==-1)r="left";else if(e.indexOf("right")!==-1)r="right"}return t+" "+r}function emptyContainer(e,t){return t in e&&typeof e[t]==="object"&&Object.keys(e[t]).length===0}M.swapXYData=function(e){var t;C.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]);if(Array.isArray(e.z)&&Array.isArray(e.z[0])){if(e.transpose)delete e.transpose;else e.transpose=true}if(e.error_x&&e.error_y){var r=e.error_y;var a="copy_ystyle"in r?r.copy_ystyle:!(r.color||r.thickness||r.width);C.swapAttrs(e,["error_?.copy_ystyle"]);if(a){C.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}}if(typeof e.hoverinfo==="string"){var n=e.hoverinfo.split("+");for(t=0;t<n.length;t++){if(n[t]==="x")n[t]="y";else if(n[t]==="y")n[t]="x"}e.hoverinfo=n.join("+")}};M.coerceTraceIndices=function(e,t){if(u(t)){return[t]}else if(!Array.isArray(t)||!t.length){return e.data.map(function(e,t){return t})}else if(Array.isArray(t)){var r=[];for(var a=0;a<t.length;a++){if(C.isIndex(t[a],e.data.length)){r.push(t[a])}else{C.warn("trace index (",t[a],") is not a number or is out of bounds")}}return r}return t};M.manageArrayContainers=function(e,t,r){var a=e.obj;var n=e.parts;var i=n.length;var o=n[i-1];var l=u(o);if(l&&t===null){var s=n.slice(0,i-1).join(".");var c=C.nestedProperty(a,s).get();c.splice(o,1)}else if(l&&e.get()===undefined){if(e.get()===undefined)r[e.astr]=null;e.set(t)}else{e.set(t)}};var a=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function getParent(e){var t=e.search(a);if(t>0)return e.substr(0,t)}M.hasParent=function(e,t){var r=getParent(t);while(r){if(r in e)return true;r=getParent(r)}return false};var d=["x","y","z"];M.clearAxisTypes=function(e,t,r){for(var a=0;a<t.length;a++){var n=e._fullData[a];for(var i=0;i<3;i++){var o=f(e,n,d[i]);if(o&&o.type!=="log"){var l=o._name;var s=o._id.substr(1);if(s.substr(0,5)==="scene"){if(r[s]!==undefined)continue;l=s+"."+l}var c=l+".type";if(r[l]===undefined&&r[c]===undefined){C.nestedProperty(e.layout,c).set(null)}}}}}},641:function(e,t,r){"use strict";var a=r(2391);t._doPlot=a._doPlot;t.newPlot=a.newPlot;t.restyle=a.restyle;t.relayout=a.relayout;t.redraw=a.redraw;t.update=a.update;t._guiRestyle=a._guiRestyle;t._guiRelayout=a._guiRelayout;t._guiUpdate=a._guiUpdate;t._storeDirectGUIEdit=a._storeDirectGUIEdit;t.react=a.react;t.extendTraces=a.extendTraces;t.prependTraces=a.prependTraces;t.addTraces=a.addTraces;t.deleteTraces=a.deleteTraces;t.moveTraces=a.moveTraces;t.purge=a.purge;t.addFrames=a.addFrames;t.deleteFrames=a.deleteFrames;t.animate=a.animate;t.setPlotConfig=a.setPlotConfig;t.toImage=r(403);t.validate=r(4936);t.downloadImage=r(7239);var n=r(6318);t.makeTemplate=n.makeTemplate;t.validateTemplate=n.validateTemplate},6611:function(e,t,r){"use strict";var a=r(1965);var L=r(4213);var D=r(7769);var O=r(5888).sorterAsc;var P=r(3972);t.containerArrayMatch=r(4458);var I=t.isAddVal=function I(e){return e==="add"||a(e)};var R=t.isRemoveVal=function R(e){return e===null||e==="remove"};t.applyContainerArrayChanges=function applyContainerArrayChanges(e,t,r,a,n){var i=t.astr;var o=P.getComponentMethod(i,"supplyLayoutDefaults");var l=P.getComponentMethod(i,"draw");var s=P.getComponentMethod(i,"drawOne");var c=a.replot||a.recalc||o===L||l===L;var u=e.layout;var f=e._fullLayout;if(r[""]){if(Object.keys(r).length>1){D.warn("Full array edits are incompatible with other edits",i)}var d=r[""][""];if(R(d))t.set(null);else if(Array.isArray(d))t.set(d);else{D.warn("Unrecognized full array edit value",i,d);return true}if(c)return false;o(u,f);l(e);return true}var v=Object.keys(r).map(Number).sort(O);var h=t.get();var p=h||[];var g=n(f,i).get();var m=[];var y=-1;var x=p.length;var _;var b;var w;var T;var k;var A;var M,S;for(_=0;_<v.length;_++){w=v[_];T=r[w];k=Object.keys(T);A=T[""],M=I(A);if(w<0||w>p.length-(M?0:1)){D.warn("index out of range",i,w);continue}if(A!==undefined){if(k.length>1){D.warn("Insertion & removal are incompatible with edits to the same index.",i,w)}if(R(A)){m.push(w)}else if(M){if(A==="add")A={};p.splice(w,0,A);if(g)g.splice(w,0,{})}else{D.warn("Unrecognized full object edit value",i,w,A)}if(y===-1)y=w}else{for(b=0;b<k.length;b++){S=i+"["+w+"].";n(p[w],k[b],S).set(T[k[b]])}}}for(_=m.length-1;_>=0;_--){p.splice(m[_],1);if(g)g.splice(m[_],1)}if(!p.length)t.set(null);else if(!h)t.set(p);if(c)return false;o(u,f);if(s!==L){var C;if(y===-1){C=v}else{x=Math.max(p.length,x);C=[];for(_=0;_<v.length;_++){w=v[_];if(w>=y)break;C.push(w)}for(_=y;_<x;_++){C.push(_)}}for(_=0;_<C.length;_++){s(e,C[_])}}else l(e);return true}},2391:function(t,L,e){"use strict";var g=e(9898);var v=e(2770);var d=e(7035);var J=e(1828);var K=J.nestedProperty;var m=e(1086);var T=e(847);var Q=e(3972);var $=e(6281);var H=e(4875);var ee=e(9298);var y=e(1424);var a=e(7901);var x=e(4305).initInteractions;var o=e(7922);var r=e(7322).clearOutline;var f=e(2075).dfltConfig;var te=e(6611);var re=e(8377);var D=e(1549);var ae=e(962);var ne=e(5555).AX_NAME_PATTERN;var k=0;var A=5;function _doPlot(i,e,t,r){var a;i=J.getGraphDiv(i);m.init(i);if(J.isPlainObject(e)){var n=e;e=n.data;t=n.layout;r=n.config;a=n.frames}var o=m.triggerHandler(i,"plotly_beforeplot",[e,t,r]);if(o===false)return Promise.reject();if(!e&&!t&&!J.isPlotDiv(i)){J.warn("Calling _doPlot as if redrawing "+"but this container doesn't yet have a plot.",i)}function addFrames(){if(a){return L.addFrames(i,a)}}setPlotContext(i,r);if(!t)t={};g.select(i).classed("js-plotly-plot",true);y.makeTester();if(!Array.isArray(i._promises))i._promises=[];var l=(i.data||[]).length===0&&Array.isArray(e);if(Array.isArray(e)){re.cleanData(e);if(l)i.data=e;else i.data.push.apply(i.data,e);i.empty=false}if(!i.layout||l){i.layout=re.cleanLayout(t)}H.supplyDefaults(i);var s=i._fullLayout;var c=s._has("cartesian");s._replotting=true;if(l||s._shouldCreateBgLayer){makePlotFramework(i);if(s._shouldCreateBgLayer){delete s._shouldCreateBgLayer}}y.initGradients(i);y.initPatterns(i);if(l)ee.saveShowSpikeInitial(i);var u=!i.calcdata||i.calcdata.length!==(i._fullData||[]).length;if(u)H.doCalcdata(i);for(var f=0;f<i.calcdata.length;f++){i.calcdata[f][0].trace=i._fullData[f]}if(i._context.responsive){if(!i._responsiveChartHandler){i._responsiveChartHandler=function(){if(!J.isHidden(i))H.resize(i)};window.addEventListener("resize",i._responsiveChartHandler)}}else{J.clearResponsive(i)}var d=J.extendFlat({},s._size);var v=0;function drawFramework(){var e=s._basePlotModules;for(var t=0;t<e.length;t++){if(e[t].drawFramework){e[t].drawFramework(i)}}if(!s._glcanvas&&s._has("gl")){s._glcanvas=s._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:true,pick:false},{key:"focusLayer",context:false,pick:false},{key:"pickLayer",context:false,pick:true}],function(e){return e.key});s._glcanvas.enter().append("canvas").attr("class",function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})}var r=i._context.plotGlPixelRatio;if(s._glcanvas){s._glcanvas.attr("width",s.width*r).attr("height",s.height*r).style("width",s.width+"px").style("height",s.height+"px");var a=s._glcanvas.data()[0].regl;if(a){if(Math.floor(s.width*r)!==a._gl.drawingBufferWidth||Math.floor(s.height*r)!==a._gl.drawingBufferHeight){var n="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(v){J.error(n)}else{J.log(n+" Clearing graph and plotting again.");H.cleanPlot([],{},i._fullData,s);H.supplyDefaults(i);s=i._fullLayout;H.doCalcdata(i);v++;return drawFramework()}}}}if(s.modebar.orientation==="h"){s._modebardiv.style("height",null).style("width","100%")}else{s._modebardiv.style("width",null).style("height",s.height+"px")}return H.previousPromises(i)}function marginPushers(){H.clearAutoMarginIds(i);D.drawMarginPushers(i);ee.allowAutoMargin(i);if(i._fullLayout.title.text&&i._fullLayout.title.automargin)H.allowAutoMargin(i,"title.automargin");if(s._has("pie")){var e=i._fullData;for(var t=0;t<e.length;t++){var r=e[t];if(r.type==="pie"&&r.automargin){H.allowAutoMargin(i,"pie."+r.uid+".automargin")}}}H.doAutoMargin(i);return H.previousPromises(i)}function marginPushersAgain(){if(!H.didMarginChange(d,s._size))return;return J.syncOrAsync([marginPushers,D.layoutStyles],i)}function positionAndAutorange(){if(!u){doAutoRangeAndConstraints();return}return J.syncOrAsync([Q.getComponentMethod("shapes","calcAutorange"),Q.getComponentMethod("annotations","calcAutorange"),doAutoRangeAndConstraints],i)}function doAutoRangeAndConstraints(){if(i._transitioning)return;D.doAutoRangeAndConstraints(i);if(l)ee.saveRangeInitial(i);Q.getComponentMethod("rangeslider","calcAutorange")(i)}function drawAxes(){return ee.draw(i,l?"":"redraw")}var h=[H.previousPromises,addFrames,drawFramework,marginPushers,marginPushersAgain];if(c)h.push(positionAndAutorange);h.push(D.layoutStyles);if(c){h.push(drawAxes,function insideTickLabelsAutorange(e){if(e._fullLayout._insideTickLabelsAutorange){relayout(e,e._fullLayout._insideTickLabelsAutorange).then(function(){e._fullLayout._insideTickLabelsAutorange=undefined})}})}h.push(D.drawData,D.finalDraw,x,H.addLinks,H.rehover,H.redrag,H.reselect,H.doAutoMargin,saveRangeInitialForInsideTickLabels,H.previousPromises);function saveRangeInitialForInsideTickLabels(e){if(e._fullLayout._insideTickLabelsAutorange){if(l)ee.saveRangeInitial(e,true)}}var p=J.syncOrAsync(h,i);if(!p||!p.then)p=Promise.resolve();return p.then(function(){emitAfterPlot(i);return i})}function emitAfterPlot(e){var t=e._fullLayout;if(t._redrawFromAutoMarginCount){t._redrawFromAutoMarginCount--}else{e.emit("plotly_afterplot")}}function setPlotConfig(e){return J.extendFlat(f,e)}function setBackground(e,t){try{e._fullLayout._paper.style("background",t)}catch(r){J.error(r)}}function opaqueSetBackground(e,t){var r=a.combine(t,"white");setBackground(e,r)}function setPlotContext(e,t){if(!e._context){e._context=J.extendDeep({},f);var r=g.select("base");e._context._baseUrl=r.size()&&r.attr("href")?window.location.href.split("#")[0]:""}var a=e._context;var n,i,o;if(t){i=Object.keys(t);for(n=0;n<i.length;n++){o=i[n];if(o==="editable"||o==="edits")continue;if(o in a){if(o==="setBackground"&&t[o]==="opaque"){a[o]=opaqueSetBackground}else{a[o]=t[o]}}}if(t.plot3dPixelRatio&&!a.plotGlPixelRatio){a.plotGlPixelRatio=a.plot3dPixelRatio}var l=t.editable;if(l!==undefined){a.editable=l;i=Object.keys(a.edits);for(n=0;n<i.length;n++){a.edits[i[n]]=l}}if(t.edits){i=Object.keys(t.edits);for(n=0;n<i.length;n++){o=i[n];if(o in a.edits){a.edits[o]=t.edits[o]}}}a._exportedPlot=t._exportedPlot}if(a.staticPlot){a.editable=false;a.edits={};a.autosizable=false;a.scrollZoom=false;a.doubleClick=false;a.showTips=false;a.showLink=false;a.displayModeBar=false}if(a.displayModeBar==="hover"&&!d){a.displayModeBar=true}if(a.setBackground==="transparent"||typeof a.setBackground!=="function"){a.setBackground=setBackground}a._hasZeroHeight=a._hasZeroHeight||e.clientHeight===0;a._hasZeroWidth=a._hasZeroWidth||e.clientWidth===0;var s=a.scrollZoom;var c=a._scrollZoom={};if(s===true){c.cartesian=1;c.gl3d=1;c.geo=1;c.mapbox=1}else if(typeof s==="string"){var u=s.split("+");for(n=0;n<u.length;n++){c[u[n]]=1}}else if(s!==false){c.gl3d=1;c.geo=1;c.mapbox=1}}function redraw(e){e=J.getGraphDiv(e);if(!J.isPlotDiv(e)){throw new Error("This element is not a Plotly plot: "+e)}re.cleanData(e.data);re.cleanLayout(e.layout);e.calcdata=undefined;return L._doPlot(e).then(function(){e.emit("plotly_redraw");return e})}function newPlot(e,t,r,a){e=J.getGraphDiv(e);H.cleanPlot([],{},e._fullData||[],e._fullLayout||{});H.purge(e);return L._doPlot(e,t,r,a)}function positivifyIndices(e,t){var r=t+1;var a=[];var n;var i;for(n=0;n<e.length;n++){i=e[n];if(i<0){a.push(r+i)}else{a.push(i)}}return a}function assertIndexArray(e,t,r){var a,n;for(a=0;a<t.length;a++){n=t[a];if(n!==parseInt(n,10)){throw new Error("all values in "+r+" must be integers")}if(n>=e.data.length||n<-e.data.length){throw new Error(r+" must be valid indices for gd.data.")}if(t.indexOf(n,a+1)>-1||n>=0&&t.indexOf(-e.data.length+n)>-1||n<0&&t.indexOf(e.data.length+n)>-1){throw new Error("each index in "+r+" must be unique.")}}}function checkMoveTracesArgs(e,t,r){if(!Array.isArray(e.data)){throw new Error("gd.data must be an array.")}if(typeof t==="undefined"){throw new Error("currentIndices is a required argument.")}else if(!Array.isArray(t)){t=[t]}assertIndexArray(e,t,"currentIndices");if(typeof r!=="undefined"&&!Array.isArray(r)){r=[r]}if(typeof r!=="undefined"){assertIndexArray(e,r,"newIndices")}if(typeof r!=="undefined"&&t.length!==r.length){throw new Error("current and new indices must be of equal length.")}}function checkAddTracesArgs(e,t,r){var a,n;if(!Array.isArray(e.data)){throw new Error("gd.data must be an array.")}if(typeof t==="undefined"){throw new Error("traces must be defined.")}if(!Array.isArray(t)){t=[t]}for(a=0;a<t.length;a++){n=t[a];if(typeof n!=="object"||Array.isArray(n)||n===null){throw new Error("all values in traces array must be non-array objects")}}if(typeof r!=="undefined"&&!Array.isArray(r)){r=[r]}if(typeof r!=="undefined"&&r.length!==t.length){throw new Error("if indices is specified, traces.length must equal indices.length")}}function assertExtendTracesArgs(e,t,r,a){var n=J.isPlainObject(a);if(!Array.isArray(e.data)){throw new Error("gd.data must be an array")}if(!J.isPlainObject(t)){throw new Error("update must be a key:value object")}if(typeof r==="undefined"){throw new Error("indices must be an integer or array of integers")}assertIndexArray(e,r,"indices");for(var i in t){if(!Array.isArray(t[i])||t[i].length!==r.length){throw new Error("attribute "+i+" must be an array of length equal to indices array length")}if(n&&(!(i in a)||!Array.isArray(a[i])||a[i].length!==t[i].length)){throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 "+"corrispondence with the keys and number of traces in the update object")}}}function getExtendProperties(e,t,r,a){var n=J.isPlainObject(a);var i=[];var o,l,s,c,u;if(!Array.isArray(r))r=[r];r=positivifyIndices(r,e.data.length-1);for(var f in t){for(var d=0;d<r.length;d++){o=e.data[r[d]];s=K(o,f);l=s.get();c=t[f][d];if(!J.isArrayOrTypedArray(c)){throw new Error("attribute: "+f+" index: "+d+" must be an array")}if(!J.isArrayOrTypedArray(l)){throw new Error("cannot extend missing or non-array attribute: "+f)}if(l.constructor!==c.constructor){throw new Error("cannot extend array with an array of a different type: "+f)}u=n?a[f][d]:a;if(!v(u))u=-1;i.push({prop:s,target:l,insert:c,maxp:Math.floor(u)})}}return i}function spliceTraces(e,t,r,a,n){assertExtendTracesArgs(e,t,r,a);var i=getExtendProperties(e,t,r,a);var o={};var l={};for(var s=0;s<i.length;s++){var c=i[s].prop;var u=i[s].maxp;var f=n(i[s].target,i[s].insert,u);c.set(f[0]);if(!Array.isArray(o[c.astr]))o[c.astr]=[];o[c.astr].push(f[1]);if(!Array.isArray(l[c.astr]))l[c.astr]=[];l[c.astr].push(i[s].target.length)}return{update:o,maxPoints:l}}function concatTypedArray(e,t){var r=new e.constructor(e.length+t.length);r.set(e);r.set(t,e.length);return r}function extendTraces(e,t,r,a){e=J.getGraphDiv(e);function updateArray(e,t,r){var a,n;if(J.isTypedArray(e)){if(r<0){var i=new e.constructor(0);var o=concatTypedArray(e,t);if(r<0){a=o;n=i}else{a=i;n=o}}else{a=new e.constructor(r);n=new e.constructor(e.length+t.length-r);if(r===t.length){a.set(t);n.set(e)}else if(r<t.length){var l=t.length-r;a.set(t.subarray(l));n.set(e);n.set(t.subarray(0,l),e.length)}else{var s=r-t.length;var c=e.length-s;a.set(e.subarray(c));a.set(t,s);n.set(e.subarray(0,c))}}}else{a=e.concat(t);n=r>=0&&r<a.length?a.splice(0,a.length-r):[]}return[a,n]}var n=spliceTraces(e,t,r,a,updateArray);var i=L.redraw(e);var o=[e,n.update,r,n.maxPoints];T.add(e,L.prependTraces,o,extendTraces,arguments);return i}function prependTraces(e,t,r,a){e=J.getGraphDiv(e);function updateArray(e,t,r){var a,n;if(J.isTypedArray(e)){if(r<=0){var i=new e.constructor(0);var o=concatTypedArray(t,e);if(r<0){a=o;n=i}else{a=i;n=o}}else{a=new e.constructor(r);n=new e.constructor(e.length+t.length-r);if(r===t.length){a.set(t);n.set(e)}else if(r<t.length){var l=t.length-r;a.set(t.subarray(0,l));n.set(t.subarray(l));n.set(e,l)}else{var s=r-t.length;a.set(t);a.set(e.subarray(0,s),t.length);n.set(e.subarray(s))}}}else{a=t.concat(e);n=r>=0&&r<a.length?a.splice(r,a.length):[]}return[a,n]}var n=spliceTraces(e,t,r,a,updateArray);var i=L.redraw(e);var o=[e,n.update,r,n.maxPoints];T.add(e,L.extendTraces,o,prependTraces,arguments);return i}function addTraces(e,t,r){e=J.getGraphDiv(e);var a=[];var n=L.deleteTraces;var i=addTraces;var o=[e,a];var l=[e,t];var s;var c;checkAddTracesArgs(e,t,r);if(!Array.isArray(t)){t=[t]}t=t.map(function(e){return J.extendFlat({},e)});re.cleanData(t);for(s=0;s<t.length;s++){e.data.push(t[s])}for(s=0;s<t.length;s++){a.push(-t.length+s)}if(typeof r==="undefined"){c=L.redraw(e);T.add(e,n,o,i,l);return c}if(!Array.isArray(r)){r=[r]}try{checkMoveTracesArgs(e,a,r)}catch(u){e.data.splice(e.data.length-t.length,t.length);throw u}T.startSequence(e);T.add(e,n,o,i,l);c=L.moveTraces(e,a,r);T.stopSequence(e);return c}function deleteTraces(e,t){e=J.getGraphDiv(e);var r=[];var a=L.addTraces;var n=deleteTraces;var i=[e,r,t];var o=[e,t];var l;var s;if(typeof t==="undefined"){throw new Error("indices must be an integer or array of integers.")}else if(!Array.isArray(t)){t=[t]}assertIndexArray(e,t,"indices");t=positivifyIndices(t,e.data.length-1);t.sort(J.sorterDes);for(l=0;l<t.length;l+=1){s=e.data.splice(t[l],1)[0];r.push(s)}var c=L.redraw(e);T.add(e,a,i,n,o);return c}function moveTraces(e,t,r){e=J.getGraphDiv(e);var a=[];var n=[];var i=moveTraces;var o=moveTraces;var l=[e,r,t];var s=[e,t,r];var c;checkMoveTracesArgs(e,t,r);t=Array.isArray(t)?t:[t];if(typeof r==="undefined"){r=[];for(c=0;c<t.length;c++){r.push(-t.length+c)}}r=Array.isArray(r)?r:[r];t=positivifyIndices(t,e.data.length-1);r=positivifyIndices(r,e.data.length-1);for(c=0;c<e.data.length;c++){if(t.indexOf(c)===-1){a.push(e.data[c])}}for(c=0;c<t.length;c++){n.push({newIndex:r[c],trace:e.data[t[c]]})}n.sort(function(e,t){return e.newIndex-t.newIndex});for(c=0;c<n.length;c+=1){a.splice(n[c].newIndex,0,n[c].trace)}e.data=a;var u=L.redraw(e);T.add(e,i,l,o,s);return u}function restyle(e,t,r,a){e=J.getGraphDiv(e);re.clearPromiseQueue(e);var n={};if(typeof t==="string")n[t]=r;else if(J.isPlainObject(t)){n=J.extendFlat({},t);if(a===undefined)a=r}else{J.warn("Restyle fail.",t,r,a);return Promise.reject()}if(Object.keys(n).length)e.changed=true;var i=re.coerceTraceIndices(e,a);var o=_restyle(e,n,i);var l=o.flags;if(l.calc)e.calcdata=undefined;if(l.clearAxisTypes)re.clearAxisTypes(e,i,{});var s=[];if(l.fullReplot){s.push(L._doPlot)}else{s.push(H.previousPromises);H.supplyDefaults(e);if(l.markerSize){H.doCalcdata(e);addAxRangeSequence(s)}if(l.style)s.push(D.doTraceStyle);if(l.colorbars)s.push(D.doColorBars);s.push(emitAfterPlot)}s.push(H.rehover,H.redrag,H.reselect);T.add(e,restyle,[e,o.undoit,o.traces],restyle,[e,o.redoit,o.traces]);var c=J.syncOrAsync(s,e);if(!c||!c.then)c=Promise.resolve();return c.then(function(){e.emit("plotly_restyle",o.eventData);return e})}function undefinedToNull(e){if(e===undefined)return null;return e}function makeNP(o,e){if(!e)return K;return function(e,r,a){var n=K(e,r);var i=n.set;n.set=function(e){var t=(a||"")+r;storeCurrent(t,n.get(),e,o);i(e)};return n}}function storeCurrent(e,t,r,a){if(Array.isArray(t)||Array.isArray(r)){var n=Array.isArray(t)?t:[];var i=Array.isArray(r)?r:[];var o=Math.max(n.length,i.length);for(var l=0;l<o;l++){storeCurrent(e+"["+l+"]",n[l],i[l],a)}}else if(J.isPlainObject(t)||J.isPlainObject(r)){var s=J.isPlainObject(t)?t:{};var c=J.isPlainObject(r)?r:{};var u=J.extendFlat({},s,c);for(var f in u){storeCurrent(e+"."+f,s[f],c[f],a)}}else if(a[e]===undefined){a[e]=undefinedToNull(t)}}function _storeDirectGUIEdit(e,t,r){for(var a in r){var n=K(e,a);storeCurrent(a,n.get(),r[a],t)}}function _restyle(o,l,s){var c=o._fullLayout;var a=o._fullData;var u=o.data;var f=c._guiEditing;var d=makeNP(c._preGUI,f);var P=J.extendDeepAll({},l);var e;cleanDeprecatedAttributeKeys(l);var t=ae.traceFlags();var r={};var v={};var n;function a0(){return s.map(function(){return undefined})}function addToAxlist(e){var t=ee.id2name(e);if(n.indexOf(t)===-1)n.push(t)}function autorangeAttr(e){return"LAYOUT"+e+".autorange"}function rangeAttr(e){return"LAYOUT"+e+".range"}function getFullTrace(e){for(var t=e;t<a.length;t++){if(a[t]._input===u[e])return a[t]}}function doextra(e,t,r){if(Array.isArray(e)){e.forEach(function(e){doextra(e,t,r)});return}if(e in l||re.hasParent(l,e))return;var a;if(e.substr(0,6)==="LAYOUT"){a=d(o.layout,e.replace("LAYOUT",""))}else{var n=s[r];var i=c._tracePreGUI[getFullTrace(n)._fullInput.uid];a=makeNP(i,f)(u[n],e)}if(!(e in v)){v[e]=a0()}if(v[e][r]===undefined){v[e][r]=undefinedToNull(a.get())}if(t!==undefined){a.set(t)}}function allBins(t){return function(e){return a[e][t]}}function arrayBins(r){return function(e,t){return e===false?a[s[t]][r]:null}}for(var i in l){if(re.hasParent(l,i)){throw new Error("cannot set "+i+" and a parent attribute simultaneously")}var h=l[i];var p;var g;var m;var y;var x;var _;if(i==="autobinx"||i==="autobiny"){i=i.charAt(i.length-1)+"bins";if(Array.isArray(h))h=h.map(arrayBins(i));else if(h===false)h=s.map(allBins(i));else h=null}r[i]=h;if(i.substr(0,6)==="LAYOUT"){m=d(o.layout,i.replace("LAYOUT",""));v[i]=[undefinedToNull(m.get())];m.set(Array.isArray(h)?h[0]:h);t.calc=true;continue}v[i]=a0();for(e=0;e<s.length;e++){p=u[s[e]];g=getFullTrace(s[e]);var I=c._tracePreGUI[g._fullInput.uid];m=makeNP(I,f)(p,i);y=m.get();x=Array.isArray(h)?h[e%h.length]:h;if(x===undefined)continue;var b=m.parts[m.parts.length-1];var w=i.substr(0,i.length-b.length-1);var T=w?w+".":"";var k=w?K(g,w).get():g;_=$.getTraceValObject(g,m.parts);if(_&&_.impliedEdits&&x!==null){for(var A in _.impliedEdits){doextra(J.relativeAttr(i,A),_.impliedEdits[A],e)}}else if((b==="thicknessmode"||b==="lenmode")&&y!==x&&(x==="fraction"||x==="pixels")&&k){var M=c._size;var S=k.orient;var R=S==="top"||S==="bottom";if(b==="thicknessmode"){var F=R?M.h:M.w;doextra(T+"thickness",k.thickness*(x==="fraction"?1/F:F),e)}else{var N=R?M.w:M.h;doextra(T+"len",k.len*(x==="fraction"?1/N:N),e)}}else if(i==="type"&&(x==="pie"!==(y==="pie")||x==="funnelarea"!==(y==="funnelarea"))){var C="x";var E="y";if((x==="bar"||y==="bar")&&p.orientation==="h"){C="y";E="x"}J.swapAttrs(p,["?","?src"],"labels",C);J.swapAttrs(p,["d?","?0"],"label",C);J.swapAttrs(p,["?","?src"],"values",E);if(y==="pie"||y==="funnelarea"){K(p,"marker.color").set(K(p,"marker.colors").get());c._pielayer.selectAll("g.trace").remove()}else if(Q.traceIs(p,"cartesian")){K(p,"marker.colors").set(K(p,"marker.color").get())}}v[i][e]=undefinedToNull(y);var z=["swapxy","swapxyaxes","orientation","orientationaxes"];if(z.indexOf(i)!==-1){if(i==="orientation"){m.set(x);var B=p.x&&!p.y?"h":"v";if((m.get()||B)===g.orientation){continue}}else if(i==="orientationaxes"){p.orientation={v:"h",h:"v"}[g.orientation]}re.swapXYData(p);t.calc=t.clearAxisTypes=true}else if(H.dataArrayContainers.indexOf(m.parts[0])!==-1){re.manageArrayContainers(m,x,v);t.calc=true}else{if(_){if(_.arrayOk&&!Q.traceIs(g,"regl")&&(J.isArrayOrTypedArray(x)||J.isArrayOrTypedArray(y))){t.calc=true}else ae.update(t,_)}else{t.calc=true}m.set(x)}}if(["swapxyaxes","orientationaxes"].indexOf(i)!==-1){ee.swap(o,s)}if(i==="orientationaxes"){var L=K(o.layout,"hovermode");var D=L.get();if(D==="x"){L.set("y")}else if(D==="y"){L.set("x")}else if(D==="x unified"){L.set("y unified")}else if(D==="y unified"){L.set("x unified")}}if(["orientation","type"].indexOf(i)!==-1){n=[];for(e=0;e<s.length;e++){var O=u[s[e]];if(Q.traceIs(O,"cartesian")){addToAxlist(O.xaxis||"x");addToAxlist(O.yaxis||"y")}}doextra(n.map(autorangeAttr),true,0);doextra(n.map(rangeAttr),[0,1],0)}}if(t.calc||t.plot){t.fullReplot=true}return{flags:t,undoit:v,redoit:r,traces:s,eventData:J.extendDeepNoArrays([],[P,s])}}function cleanDeprecatedAttributeKeys(r){var e=J.counterRegex("axis",".title",false,false);var t=/colorbar\.title$/;var a=Object.keys(r);var n,i,o;for(n=0;n<a.length;n++){i=a[n];o=r[i];if((i==="title"||e.test(i)||t.test(i))&&(typeof o==="string"||typeof o==="number")){replace(i,i.replace("title","title.text"))}else if(i.indexOf("titlefont")>-1&&i.indexOf("grouptitlefont")===-1){replace(i,i.replace("titlefont","title.font"))}else if(i.indexOf("titleposition")>-1){replace(i,i.replace("titleposition","title.position"))}else if(i.indexOf("titleside")>-1){replace(i,i.replace("titleside","title.side"))}else if(i.indexOf("titleoffset")>-1){replace(i,i.replace("titleoffset","title.offset"))}}function replace(e,t){r[t]=r[e];delete r[e]}}function relayout(e,t,r){e=J.getGraphDiv(e);re.clearPromiseQueue(e);var a={};if(typeof t==="string"){a[t]=r}else if(J.isPlainObject(t)){a=J.extendFlat({},t)}else{J.warn("Relayout fail.",t,r);return Promise.reject()}if(Object.keys(a).length)e.changed=true;var n=_relayout(e,a);var i=n.flags;if(i.calc)e.calcdata=undefined;var o=[H.previousPromises];if(i.layoutReplot){o.push(D.layoutReplot)}else if(Object.keys(a).length){axRangeSupplyDefaultsByPass(e,i,n)||H.supplyDefaults(e);if(i.legend)o.push(D.doLegend);if(i.layoutstyle)o.push(D.layoutStyles);if(i.axrange)addAxRangeSequence(o,n.rangesAltered);if(i.ticks)o.push(D.doTicksRelayout);if(i.modebar)o.push(D.doModeBar);if(i.camera)o.push(D.doCamera);if(i.colorbars)o.push(D.doColorBars);o.push(emitAfterPlot)}o.push(H.rehover,H.redrag,H.reselect);T.add(e,relayout,[e,n.undoit],relayout,[e,n.redoit]);var l=J.syncOrAsync(o,e);if(!l||!l.then)l=Promise.resolve(e);return l.then(function(){e.emit("plotly_relayout",n.eventData);return e})}function axRangeSupplyDefaultsByPass(e,t,r){var a=e._fullLayout;if(!t.axrange)return false;for(var n in t){if(n!=="axrange"&&t[n])return false}for(var i in r.rangesAltered){var o=ee.id2name(i);var l=e.layout[o];var s=a[o];s.autorange=l.autorange;if(l.range){s.range=l.range.slice()}s.cleanRange();if(s._matchGroup){for(var c in s._matchGroup){if(c!==i){var u=a[ee.id2name(c)];u.autorange=s.autorange;u.range=s.range.slice();u._input.range=s.range.slice()}}}}return true}function addAxRangeSequence(e,o){var t=o?function(e){var t=[];var r=true;for(var a in o){var n=ee.getFromId(e,a);t.push(a);if((n.ticklabelposition||"").indexOf("inside")!==-1){if(n._anchorAxis){t.push(n._anchorAxis._id)}}if(n._matchGroup){for(var i in n._matchGroup){if(!o[i]){t.push(i)}}}}return ee.draw(e,t,{skipTitle:r})}:function(e){return ee.draw(e,"redraw")};e.push(r,D.doAutoRangeAndConstraints,t,D.drawData,D.finalDraw)}var ie=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/;var oe=/^[xyz]axis[0-9]*\.autorange$/;var le=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function _relayout(e,a){var n=e.layout;var t=e._fullLayout;var F=t._guiEditing;var i=makeNP(t._preGUI,F);var r=Object.keys(a);var o=ee.list(e);var N=J.extendDeepAll({},a);var l={};var s,c,u;cleanDeprecatedAttributeKeys(a);r=Object.keys(a);for(c=0;c<r.length;c++){if(r[c].indexOf("allaxes")===0){for(u=0;u<o.length;u++){var f=o[u]._id.substr(1);var E=f.indexOf("scene")!==-1?f+".":"";var d=r[c].replace("allaxes",E+o[u]._name);if(!a[d])a[d]=a[r[c]]}delete a[r[c]]}}var v=ae.layoutFlags();var z={};var h={};function doextra(e,t){if(Array.isArray(e)){e.forEach(function(e){doextra(e,t)});return}if(e in a||re.hasParent(a,e))return;var r=i(n,e);if(!(e in h)){h[e]=undefinedToNull(r.get())}if(t!==undefined)r.set(t)}var p={};var g;function recordAlteredAxis(e){var t=ee.name2id(e.split(".")[0]);p[t]=1;return t}for(var m in a){if(re.hasParent(a,m)){throw new Error("cannot set "+m+" and a parent attribute simultaneously")}var y=i(n,m);var x=a[m];var B=y.parts.length;var _=B-1;while(_>0&&typeof y.parts[_]!=="string")_--;var b=y.parts[_];var w=y.parts[_-1]+"."+b;var T=y.parts.slice(0,_).join(".");var k=K(e.layout,T).get();var A=K(t,T).get();var M=y.get();if(x===undefined)continue;z[m]=x;h[m]=b==="reverse"?x:undefinedToNull(M);var S=$.getLayoutValObject(t,y.parts);if(S&&S.impliedEdits&&x!==null){for(var H in S.impliedEdits){doextra(J.relativeAttr(m,H),S.impliedEdits[H])}}if(["width","height"].indexOf(m)!==-1){if(x){doextra("autosize",null);var j=m==="height"?"width":"height";doextra(j,t[j])}else{t[m]=e._initialAutoSize[m]}}else if(m==="autosize"){doextra("width",x?null:t.width);doextra("height",x?null:t.height)}else if(w.match(ie)){recordAlteredAxis(w);K(t,T+"._inputRange").set(null)}else if(w.match(oe)){recordAlteredAxis(w);K(t,T+"._inputRange").set(null);var C=K(t,T).get();if(C._inputDomain){C._input.domain=C._inputDomain.slice()}}else if(w.match(le)){K(t,T+"._inputDomain").set(null)}if(b==="type"){g=k;var L=A.type==="linear"&&x==="log";var V=A.type==="log"&&x==="linear";if(L||V){if(!g||!g.range){doextra(T+".autorange",true)}else if(!A.autorange){var D=g.range[0];var O=g.range[1];if(L){if(D<=0&&O<=0){doextra(T+".autorange",true)}if(D<=0)D=O/1e6;else if(O<=0)O=D/1e6;doextra(T+".range[0]",Math.log(D)/Math.LN10);doextra(T+".range[1]",Math.log(O)/Math.LN10)}else{doextra(T+".range[0]",Math.pow(10,D));doextra(T+".range[1]",Math.pow(10,O))}}else if(L){g.range=g.range[1]>g.range[0]?[1,2]:[2,1]}if(Array.isArray(t._subplots.polar)&&t._subplots.polar.length&&t[y.parts[0]]&&y.parts[1]==="radialaxis"){delete t[y.parts[0]]._subplot.viewInitial["radialaxis.range"]}Q.getComponentMethod("annotations","convertCoords")(e,A,x,doextra);Q.getComponentMethod("images","convertCoords")(e,A,x,doextra)}else{doextra(T+".autorange",true);doextra(T+".range",null)}K(t,T+"._inputRange").set(null)}else if(b.match(ne)){var Y=K(t,m).get();var P=(x||{}).type;if(!P||P==="-")P="linear";Q.getComponentMethod("annotations","convertCoords")(e,Y,P,doextra);Q.getComponentMethod("images","convertCoords")(e,Y,P,doextra)}var I=te.containerArrayMatch(m);if(I){s=I.array;c=I.index;var U=I.property;var G=S||{editType:"calc"};if(c!==""&&U===""){if(te.isAddVal(x)){h[m]=null}else if(te.isRemoveVal(x)){h[m]=(K(n,s).get()||[])[c]}else{J.warn("unrecognized full object value",a)}}ae.update(v,G);if(!l[s])l[s]={};var R=l[s][c];if(!R)R=l[s][c]={};R[U]=x;delete a[m]}else if(b==="reverse"){if(k.range)k.range.reverse();else{doextra(T+".autorange",true);k.range=[1,0]}if(A.autorange)v.calc=true;else v.plot=true}else{if(m==="dragmode"&&(x===false&&M!==false||x!==false&&M===false)){v.plot=true}else if(t._has("scatter-like")&&t._has("regl")&&m==="dragmode"&&(x==="lasso"||x==="select")&&!(M==="lasso"||M==="select")){v.plot=true}else if(t._has("gl2d")){v.plot=true}else if(S)ae.update(v,S);else v.calc=true;y.set(x)}}for(s in l){var q=te.applyContainerArrayChanges(e,i(n,s),l[s],v,i);if(!q)v.plot=true}for(var Z in p){g=ee.getFromId(e,Z);var W=g&&g._constraintGroup;if(W){v.calc=true;for(var X in W){if(!p[X]){ee.getFromId(e,X)._constraintShrinkable=true}}}}if(updateAutosize(e)||a.height||a.width)v.plot=true;if(v.plot||v.calc){v.layoutReplot=true}return{flags:v,rangesAltered:p,undoit:h,redoit:z,eventData:N}}function updateAutosize(e){var t=e._fullLayout;var r=t.width;var a=t.height;if(e.layout.autosize)H.plotAutoSize(e,e.layout,t);return t.width!==r||t.height!==a}function update(e,t,r,a){e=J.getGraphDiv(e);re.clearPromiseQueue(e);if(!J.isPlainObject(t))t={};if(!J.isPlainObject(r))r={};if(Object.keys(t).length)e.changed=true;if(Object.keys(r).length)e.changed=true;var n=re.coerceTraceIndices(e,a);var i=_restyle(e,J.extendFlat({},t),n);var o=i.flags;var l=_relayout(e,J.extendFlat({},r));var s=l.flags;if(o.calc||s.calc)e.calcdata=undefined;if(o.clearAxisTypes)re.clearAxisTypes(e,n,r);var c=[];if(s.layoutReplot){c.push(D.layoutReplot)}else if(o.fullReplot){c.push(L._doPlot)}else{c.push(H.previousPromises);axRangeSupplyDefaultsByPass(e,s,l)||H.supplyDefaults(e);if(o.style)c.push(D.doTraceStyle);if(o.colorbars||s.colorbars)c.push(D.doColorBars);if(s.legend)c.push(D.doLegend);if(s.layoutstyle)c.push(D.layoutStyles);if(s.axrange)addAxRangeSequence(c,l.rangesAltered);if(s.ticks)c.push(D.doTicksRelayout);if(s.modebar)c.push(D.doModeBar);if(s.camera)c.push(D.doCamera);c.push(emitAfterPlot)}c.push(H.rehover,H.redrag,H.reselect);T.add(e,update,[e,i.undoit,l.undoit,i.traces],update,[e,i.redoit,l.redoit,i.traces]);var u=J.syncOrAsync(c,e);if(!u||!u.then)u=Promise.resolve(e);return u.then(function(){e.emit("plotly_update",{data:i.eventData,layout:l.eventData});return e})}function guiEdit(r){return function wrappedEdit(e){e._fullLayout._guiEditing=true;var t=r.apply(null,arguments);e._fullLayout._guiEditing=false;return t}}var I=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}];var R=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function findUIPattern(e,t){for(var r=0;r<t.length;r++){var a=t[r];var n=e.match(a.pattern);if(n){var i=n[1]||"";return{head:i,tail:e.substr(i.length+1),attr:a.attr}}}}function getNewRev(e,t){var r=K(t,e).get();if(r!==undefined)return r;var a=e.split(".");a.pop();while(a.length>1){a.pop();r=K(t,a.join(".")+".uirevision").get();if(r!==undefined)return r}return t.uirevision}function getFullTraceIndexFromUid(e,t){for(var r=0;r<t.length;r++){if(t[r]._fullInput.uid===e)return r}return-1}function getTraceIndexFromUid(e,t,r){for(var a=0;a<t.length;a++){if(t[a].uid===e)return a}return!t[r]||t[r].uid?-1:r}function valsMatch(e,t){var r=J.isPlainObject(e);var a=Array.isArray(e);if(r||a){return(r&&J.isPlainObject(t)||a&&Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t)}return e===t}function applyUIRevisions(e,t,r,a){var n=a._preGUI;var i,o,l,s,c,u,f,d,v,h;var p=[];var g={};var m={};for(i in n){c=findUIPattern(i,I);if(c){v=c.head;h=c.tail;o=c.attr||v+".uirevision";l=K(a,o).get();s=l&&getNewRev(o,t);if(s&&s===l){u=n[i];if(u===null)u=undefined;f=K(t,i);d=f.get();if(valsMatch(d,u)){if(d===undefined&&h==="autorange"){p.push(v)}f.set(undefinedToNull(K(a,i).get()));continue}else if(h==="autorange"||h.substr(0,6)==="range["){var y=n[v+".range[0]"];var x=n[v+".range[1]"];var _=n[v+".autorange"];if(_||_===null&&y===null&&x===null){if(!(v in g)){var b=K(t,v).get();g[v]=b&&(b.autorange||b.autorange!==false&&(!b.range||b.range.length!==2))}if(g[v]){f.set(undefinedToNull(K(a,i).get()));continue}}}}}else{J.warn("unrecognized GUI edit: "+i)}delete n[i];if(c&&c.tail.substr(0,6)==="range["){m[c.head]=1}}for(var w=0;w<p.length;w++){var T=p[w];if(m[T]){var k=K(t,T).get();if(k)delete k.autorange}}var A=a._tracePreGUI;for(var M in A){var S=A[M];var C=null;var L;for(i in S){if(!C){var D=getFullTraceIndexFromUid(M,r);if(D<0){delete A[M];break}var O=r[D];L=O._fullInput;var P=getTraceIndexFromUid(M,e,L.index);if(P<0){delete A[M];break}C=e[P]}c=findUIPattern(i,R);if(c){if(c.attr){l=K(a,c.attr).get();s=l&&getNewRev(c.attr,t)}else{l=L.uirevision;s=C.uirevision;if(s===undefined)s=t.uirevision}if(s&&s===l){u=S[i];if(u===null)u=undefined;f=K(C,i);d=f.get();if(valsMatch(d,u)){f.set(undefinedToNull(K(L,i).get()));continue}}}else{J.warn("unrecognized GUI edit: "+i+" in trace uid "+M)}delete S[i]}}}function react(e,t,r,a){var n,i;function addFrames(){return L.addFrames(e,n)}e=J.getGraphDiv(e);re.clearPromiseQueue(e);var o=e._fullData;var l=e._fullLayout;if(!J.isPlotDiv(e)||!o||!l){i=L.newPlot(e,t,r,a)}else{if(J.isPlainObject(t)){var s=t;t=s.data;r=s.layout;a=s.config;n=s.frames}var c=false;if(a){var u=J.extendDeep({},e._context);e._context=undefined;setPlotContext(e,a);c=diffConfig(u,e._context)}e.data=t||[];re.cleanData(e.data);e.layout=r||{};re.cleanLayout(e.layout);applyUIRevisions(e.data,e.layout,o,l);H.supplyDefaults(e,{skipUpdateCalc:true});var f=e._fullData;var d=e._fullLayout;var v=d.datarevision===undefined;var h=d.transition;var p=diffLayout(e,l,d,v,h);var g=p.newDataRevision;var m=diffData(e,o,f,v,h,g);if(updateAutosize(e))p.layoutReplot=true;if(m.calc||p.calc){e.calcdata=undefined;var y=Object.getOwnPropertyNames(d);for(var x=0;x<y.length;x++){var _=y[x];var b=_.substring(0,5);if(b==="xaxis"||b==="yaxis"){var w=d[_]._emptyCategories;if(w)w()}}}else{H.supplyDefaultsUpdateCalc(e.calcdata,f)}var T=[];if(n){e._transitionData={};H.createTransitionData(e);T.push(addFrames)}if(d.transition&&!c&&(m.anim||p.anim)){if(p.ticks)T.push(D.doTicksRelayout);H.doCalcdata(e);D.doAutoRangeAndConstraints(e);T.push(function(){return H.transitionFromReact(e,m,p,l)})}else if(m.fullReplot||p.layoutReplot||c){e._fullLayout._skipDefaults=true;T.push(L._doPlot)}else{for(var k in p.arrays){var A=p.arrays[k];if(A.length){var M=Q.getComponentMethod(k,"drawOne");if(M!==J.noop){for(var S=0;S<A.length;S++){M(e,A[S])}}else{var C=Q.getComponentMethod(k,"draw");if(C===J.noop){throw new Error("cannot draw components: "+k)}C(e)}}}T.push(H.previousPromises);if(m.style)T.push(D.doTraceStyle);if(m.colorbars||p.colorbars)T.push(D.doColorBars);if(p.legend)T.push(D.doLegend);if(p.layoutstyle)T.push(D.layoutStyles);if(p.axrange)addAxRangeSequence(T);if(p.ticks)T.push(D.doTicksRelayout);if(p.modebar)T.push(D.doModeBar);if(p.camera)T.push(D.doCamera);T.push(emitAfterPlot)}T.push(H.rehover,H.redrag,H.reselect);i=J.syncOrAsync(T,e);if(!i||!i.then)i=Promise.resolve(e)}return i.then(function(){e.emit("plotly_react",{data:t,layout:r});return e})}function diffData(e,t,r,a,n,i){var o=t.length===r.length;if(!n&&!o){return{fullReplot:true,calc:true}}var l=ae.traceFlags();l.arrays={};l.nChanges=0;l.nChangesAnim=0;var s,c;function getTraceValObject(e){var t=$.getTraceValObject(c,e);if(!c._module.animatable&&t.anim){t.anim=false}return t}var u={getValObject:getTraceValObject,flags:l,immutable:a,transition:n,newDataRevision:i,gd:e};var f={};for(s=0;s<t.length;s++){if(r[s]){c=r[s]._fullInput;if(H.hasMakesDataTransform(c))c=r[s];if(f[c.uid])continue;f[c.uid]=1;getDiffFlags(t[s]._fullInput,c,[],u)}}if(l.calc||l.plot){l.fullReplot=true}if(n&&l.nChanges&&l.nChangesAnim){l.anim=l.nChanges===l.nChangesAnim&&o?"all":"some"}return l}function diffLayout(e,t,r,a,n){var i=ae.layoutFlags();i.arrays={};i.rangesAltered={};i.nChanges=0;i.nChangesAnim=0;function getLayoutValObject(e){return $.getLayoutValObject(r,e)}var o={getValObject:getLayoutValObject,flags:i,immutable:a,transition:n,gd:e};getDiffFlags(t,r,[],o);if(i.plot||i.calc){i.layoutReplot=true}if(n&&i.nChanges&&i.nChangesAnim){i.anim=i.nChanges===i.nChangesAnim?"all":"some"}return i}function getDiffFlags(e,t,r,a){var n,i,o;var l=a.getValObject;var s=a.flags;var c=a.immutable;var u=a.inArray;var f=a.arrayIndex;function changed(){var e=n.editType;if(u&&e.indexOf("arraydraw")!==-1){J.pushUnique(s.arrays[u],f);return}ae.update(s,n);if(e!=="none"){s.nChanges++}if(a.transition&&n.anim){s.nChangesAnim++}if(ie.test(o)||oe.test(o)){s.rangesAltered[r[0]]=1}if(le.test(o)){K(t,"_inputDomain").set(null)}if(i==="datarevision"){s.newDataRevision=1}}function valObjectCanBeDataArray(e){return e.valType==="data_array"||e.arrayOk}for(i in e){if(s.calc&&!a.transition)return;var d=e[i];var v=t[i];var h=r.concat(i);o=h.join(".");if(i.charAt(0)==="_"||typeof d==="function"||d===v)continue;if((i==="tick0"||i==="dtick")&&r[0]!=="geo"){var p=t.tickmode;if(p==="auto"||p==="array"||!p)continue}if(i==="range"&&t.autorange)continue;if((i==="zmin"||i==="zmax")&&t.type==="contourcarpet")continue;n=l(h);if(!n)continue;if(n._compareAsJSON&&JSON.stringify(d)===JSON.stringify(v))continue;var g=n.valType;var m;var y=valObjectCanBeDataArray(n);var x=Array.isArray(d);var _=Array.isArray(v);if(x&&_){var b="_input_"+i;var w=e[b];var T=t[b];if(Array.isArray(w)&&w===T)continue}if(v===undefined){if(y&&x)s.calc=true;else changed()}else if(n._isLinkedToArray){var k=[];var A=false;if(!u)s.arrays[i]=k;var M=Math.min(d.length,v.length);var S=Math.max(d.length,v.length);if(M!==S){if(n.editType==="arraydraw"){A=true}else{changed();continue}}for(m=0;m<M;m++){getDiffFlags(d[m],v[m],h.concat(m),J.extendFlat({inArray:i,arrayIndex:m},a))}if(A){for(m=M;m<S;m++){k.push(m)}}}else if(!g&&J.isPlainObject(d)){getDiffFlags(d,v,h,a)}else if(y){if(x&&_){if(c){s.calc=true}if(c||a.newDataRevision){changed()}}else if(x!==_){s.calc=true}else changed()}else if(x&&_){if(d.length!==v.length||String(d)!==String(v)){changed()}}else{changed()}}for(i in t){if(!(i in e||i.charAt(0)==="_"||typeof t[i]==="function")){n=l(r.concat(i));if(valObjectCanBeDataArray(n)&&Array.isArray(t[i])){s.calc=true;return}else changed()}}}function diffConfig(e,t){var r;for(r in e){if(r.charAt(0)==="_")continue;var a=e[r];var n=t[r];if(a!==n){if(J.isPlainObject(a)&&J.isPlainObject(n)){if(diffConfig(a,n)){return true}}else if(Array.isArray(a)&&Array.isArray(n)){if(a.length!==n.length){return true}for(var i=0;i<a.length;i++){if(a[i]!==n[i]){if(J.isPlainObject(a[i])&&J.isPlainObject(n[i])){if(diffConfig(a[i],n[i])){return true}}else{return true}}}}else{return true}}}}function animate(v,h,p){v=J.getGraphDiv(v);if(!J.isPlotDiv(v)){throw new Error("This element is not a Plotly plot: "+v+". It's likely that you've failed "+"to create a plot before animating it. For more details, see "+"https://plotly.com/javascript/animations/")}var g=v._transitionData;if(!g._frameQueue){g._frameQueue=[]}p=H.supplyAnimationDefaults(p);var m=p.transition;var t=p.frame;if(g._frameWaitingCnt===undefined){g._frameWaitingCnt=0}function getTransitionOpts(e){if(Array.isArray(m)){if(e>=m.length){return m[0]}else{return m[e]}}else{return m}}function getFrameOpts(e){if(Array.isArray(t)){if(e>=t.length){return t[0]}else{return t[e]}}else{return t}}function callbackOnNthTime(e,t){var r=0;return function(){if(e&&++r===t){return e()}}}return new Promise(function(o,l){function discardExistingFrames(){if(g._frameQueue.length===0){return}while(g._frameQueue.length){var e=g._frameQueue.pop();if(e.onInterrupt){e.onInterrupt()}}v.emit("plotly_animationinterrupted",[])}function queueFrames(e){if(e.length===0)return;for(var t=0;t<e.length;t++){var r;if(e[t].type==="byname"){r=H.computeFrame(v,e[t].name)}else{r=e[t].data}var a=getFrameOpts(t);var n=getTransitionOpts(t);n.duration=Math.min(n.duration,a.duration);var i={frame:r,name:e[t].name,frameOpts:a,transitionOpts:n};if(t===e.length-1){i.onComplete=callbackOnNthTime(o,2);i.onInterrupt=l}g._frameQueue.push(i)}if(p.mode==="immediate"){g._lastFrameAt=-Infinity}if(!g._animationRaf){beginAnimationLoop()}}function stopAnimationLoop(){v.emit("plotly_animated");window.cancelAnimationFrame(g._animationRaf);g._animationRaf=null}function nextFrame(){if(g._currentFrame&&g._currentFrame.onComplete){g._currentFrame.onComplete()}var e=g._currentFrame=g._frameQueue.shift();if(e){var t=e.name?e.name.toString():null;v._fullLayout._currentFrame=t;g._lastFrameAt=Date.now();g._timeToNext=e.frameOpts.duration;H.transition(v,e.frame.data,e.frame.layout,re.coerceTraceIndices(v,e.frame.traces),e.frameOpts,e.transitionOpts).then(function(){if(e.onComplete){e.onComplete()}});v.emit("plotly_animatingframe",{name:t,frame:e.frame,animation:{frame:e.frameOpts,transition:e.transitionOpts}})}else{stopAnimationLoop()}}function beginAnimationLoop(){v.emit("plotly_animating");g._lastFrameAt=-Infinity;g._timeToNext=0;g._runningTransitions=0;g._currentFrame=null;var e=function(){g._animationRaf=window.requestAnimationFrame(e);if(Date.now()-g._lastFrameAt>g._timeToNext){nextFrame()}};e()}var t=0;function setTransitionConfig(e){if(Array.isArray(m)){if(t>=m.length){e.transitionOpts=m[t]}else{e.transitionOpts=m[0]}}else{e.transitionOpts=m}t++;return e}var e,r;var a=[];var n=h===undefined||h===null;var i=Array.isArray(h);var s=!n&&!i&&J.isPlainObject(h);if(s){a.push({type:"object",data:setTransitionConfig(J.extendFlat({},h))})}else if(n||["string","number"].indexOf(typeof h)!==-1){for(e=0;e<g._frames.length;e++){r=g._frames[e];if(!r)continue;if(n||String(r.group)===String(h)){a.push({type:"byname",name:String(r.name),data:setTransitionConfig({name:r.name})})}}}else if(i){for(e=0;e<h.length;e++){var c=h[e];if(["number","string"].indexOf(typeof c)!==-1){c=String(c);a.push({type:"byname",name:c,data:setTransitionConfig({name:c})})}else if(J.isPlainObject(c)){a.push({type:"object",data:setTransitionConfig(J.extendFlat({},c))})}}}for(e=0;e<a.length;e++){r=a[e];if(r.type==="byname"&&!g._frameHash[r.data.name]){J.warn('animate failure: frame not found: "'+r.data.name+'"');l();return}}if(["next","immediate"].indexOf(p.mode)!==-1){discardExistingFrames()}if(p.direction==="reverse"){a.reverse()}var u=v._fullLayout._currentFrame;if(u&&p.fromcurrent){var f=-1;for(e=0;e<a.length;e++){r=a[e];if(r.type==="byname"&&r.name===u){f=e;break}}if(f>0&&f<a.length-1){var d=[];for(e=0;e<a.length;e++){r=a[e];if(a[e].type!=="byname"||e>f){d.push(r)}}a=d}}if(a.length>0){queueFrames(a)}else{v.emit("plotly_animated");o()}})}function addFrames(e,t,r){e=J.getGraphDiv(e);if(t===null||t===undefined){return Promise.resolve()}if(!J.isPlotDiv(e)){throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed "+"to create a plot before adding frames. For more details, see "+"https://plotly.com/javascript/animations/")}var a,n,i,o;var l=e._transitionData._frames;var s=e._transitionData._frameHash;if(!Array.isArray(t)){throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t)}var c=l.length+t.length*2;var u=[];var f={};for(a=t.length-1;a>=0;a--){if(!J.isPlainObject(t[a]))continue;var d=t[a].name;var v=(s[d]||f[d]||{}).name;var h=t[a].name;var p=s[v]||f[v];if(v&&h&&typeof h==="number"&&p&&k<A){k++;J.warn('addFrames: overwriting frame "'+(s[v]||f[v]).name+'" with a frame whose name of type "number" also equates to "'+v+'". This is valid but may potentially lead to unexpected '+"behavior since all plotly.js frame names are stored internally "+"as strings.");if(k===A){J.warn("addFrames: This API call has yielded too many of these warnings. "+"For the rest of this call, further warnings about numeric frame "+"names will be suppressed.")}}f[d]={name:d};u.push({frame:H.supplyFrameDefaults(t[a]),index:r&&r[a]!==undefined&&r[a]!==null?r[a]:c+a})}u.sort(function(e,t){if(e.index>t.index)return-1;if(e.index<t.index)return 1;return 0});var g=[];var m=[];var y=l.length;for(a=u.length-1;a>=0;a--){n=u[a].frame;if(typeof n.name==="number"){J.warn("Warning: addFrames accepts frames with numeric names, but the numbers are"+"implicitly cast to strings")}if(!n.name){while(s[n.name="frame "+e._transitionData._counter++]);}if(s[n.name]){for(i=0;i<l.length;i++){if((l[i]||{}).name===n.name)break}g.push({type:"replace",index:i,value:n});m.unshift({type:"replace",index:i,value:l[i]})}else{o=Math.max(0,Math.min(u[a].index,y));g.push({type:"insert",index:o,value:n});m.unshift({type:"delete",index:o});y++}}var x=H.modifyFrames;var _=H.modifyFrames;var b=[e,m];var w=[e,g];if(T)T.add(e,x,b,_,w);return H.modifyFrames(e,g)}function deleteFrames(e,t){e=J.getGraphDiv(e);if(!J.isPlotDiv(e)){throw new Error("This element is not a Plotly plot: "+e)}var r,a;var n=e._transitionData._frames;var i=[];var o=[];if(!t){t=[];for(r=0;r<n.length;r++){t.push(r)}}t=t.slice();t.sort();for(r=t.length-1;r>=0;r--){a=t[r];i.push({type:"delete",index:a});o.unshift({type:"insert",index:a,value:n[a]})}var l=H.modifyFrames;var s=H.modifyFrames;var c=[e,o];var u=[e,i];if(T)T.add(e,l,c,s,u);return H.modifyFrames(e,i)}function purge(e){e=J.getGraphDiv(e);var t=e._fullLayout||{};var r=e._fullData||[];H.cleanPlot([],{},r,t);H.purge(e);m.purge(e);if(t._container)t._container.remove();delete e._context;return e}function calcInverseTransform(e){var t=e._fullLayout;var r=e.getBoundingClientRect();if(J.equalDomRects(r,t._lastBBox))return;var a=t._invTransform=J.inverseTransformMatrix(J.getFullTransformMatrix(e));t._invScaleX=Math.sqrt(a[0][0]*a[0][0]+a[0][1]*a[0][1]+a[0][2]*a[0][2]);t._invScaleY=Math.sqrt(a[1][0]*a[1][0]+a[1][1]*a[1][1]+a[1][2]*a[1][2]);t._lastBBox=r}function makePlotFramework(e){var t=g.select(e);var r=e._fullLayout;r._calcInverseTransform=calcInverseTransform;r._calcInverseTransform(e);r._container=t.selectAll(".plot-container").data([0]);r._container.enter().insert("div",":first-child").classed("plot-container",true).classed("plotly",true);r._paperdiv=r._container.selectAll(".svg-container").data([0]);r._paperdiv.enter().append("div").classed("user-select-none",true).classed("svg-container",true).style("position","relative");r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]);r._glcontainer.enter().append("div").classed("gl-container",true);r._paperdiv.selectAll(".main-svg").remove();r._paperdiv.select(".modebar-container").remove();r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",true);r._toppaper=r._paperdiv.append("svg").classed("main-svg",true);r._modebardiv=r._paperdiv.append("div");delete r._modeBar;r._hoverpaper=r._paperdiv.append("svg").classed("main-svg",true);if(!r._uid){var a={};g.selectAll("defs").each(function(){if(this.id)a[this.id.split("-")[1]]=1});r._uid=J.randstr(a)}r._paperdiv.selectAll(".main-svg").attr(o.svgAttrs);r._defs=r._paper.append("defs").attr("id","defs-"+r._uid);r._clips=r._defs.append("g").classed("clips",true);r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid);r._topclips=r._topdefs.append("g").classed("clips",true);r._bgLayer=r._paper.append("g").classed("bglayer",true);r._draggers=r._paper.append("g").classed("draglayer",true);var n=r._paper.append("g").classed("layer-below",true);r._imageLowerLayer=n.append("g").classed("imagelayer",true);r._shapeLowerLayer=n.append("g").classed("shapelayer",true);r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",true);r._polarlayer=r._paper.append("g").classed("polarlayer",true);r._smithlayer=r._paper.append("g").classed("smithlayer",true);r._ternarylayer=r._paper.append("g").classed("ternarylayer",true);r._geolayer=r._paper.append("g").classed("geolayer",true);r._funnelarealayer=r._paper.append("g").classed("funnelarealayer",true);r._pielayer=r._paper.append("g").classed("pielayer",true);r._iciclelayer=r._paper.append("g").classed("iciclelayer",true);r._treemaplayer=r._paper.append("g").classed("treemaplayer",true);r._sunburstlayer=r._paper.append("g").classed("sunburstlayer",true);r._indicatorlayer=r._toppaper.append("g").classed("indicatorlayer",true);r._glimages=r._paper.append("g").classed("glimages",true);var i=r._toppaper.append("g").classed("layer-above",true);r._imageUpperLayer=i.append("g").classed("imagelayer",true);r._shapeUpperLayer=i.append("g").classed("shapelayer",true);r._selectionLayer=r._toppaper.append("g").classed("selectionlayer",true);r._infolayer=r._toppaper.append("g").classed("infolayer",true);r._menulayer=r._toppaper.append("g").classed("menulayer",true);r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",true);r._hoverlayer=r._hoverpaper.append("g").classed("hoverlayer",true);r._modebardiv.classed("modebar-container",true).style("position","absolute").style("top","0px").style("right","0px");e.emit("plotly_framework")}L.animate=animate;L.addFrames=addFrames;L.deleteFrames=deleteFrames;L.addTraces=addTraces;L.deleteTraces=deleteTraces;L.extendTraces=extendTraces;L.moveTraces=moveTraces;L.prependTraces=prependTraces;L.newPlot=newPlot;L._doPlot=_doPlot;L.purge=purge;L.react=react;L.redraw=redraw;L.relayout=relayout;L.restyle=restyle;L.setPlotConfig=setPlotConfig;L.update=update;L._guiRelayout=guiEdit(relayout);L._guiRestyle=guiEdit(restyle);L._guiUpdate=guiEdit(update);L._storeDirectGUIEdit=_storeDirectGUIEdit},2075:function(e){"use strict";var t={staticPlot:{valType:"boolean",dflt:false},typesetMath:{valType:"boolean",dflt:true},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:false},edits:{annotationPosition:{valType:"boolean",dflt:false},annotationTail:{valType:"boolean",dflt:false},annotationText:{valType:"boolean",dflt:false},axisTitleText:{valType:"boolean",dflt:false},colorbarPosition:{valType:"boolean",dflt:false},colorbarTitleText:{valType:"boolean",dflt:false},legendPosition:{valType:"boolean",dflt:false},legendText:{valType:"boolean",dflt:false},shapePosition:{valType:"boolean",dflt:false},titleText:{valType:"boolean",dflt:false}},editSelection:{valType:"boolean",dflt:true},autosizable:{valType:"boolean",dflt:false},responsive:{valType:"boolean",dflt:false},fillFrame:{valType:"boolean",dflt:false},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[true,false],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[false,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:true},showAxisRangeEntryBoxes:{valType:"boolean",dflt:true},showTips:{valType:"boolean",dflt:true},showLink:{valType:"boolean",dflt:false},linkText:{valType:"string",dflt:"Edit chart",noBlank:true},sendData:{valType:"boolean",dflt:true},showSources:{valType:"any",dflt:false},displayModeBar:{valType:"enumerated",values:["hover",true,false],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:false},showEditInChartStudio:{valType:"boolean",dflt:false},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:false},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:true},watermark:{valType:"boolean",dflt:false},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:true,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}};var r={};function crawl(e,t){for(var r in e){var a=e[r];if(a.valType){t[r]=a.dflt}else{if(!t[r]){t[r]={}}crawl(a,t[r])}}}crawl(t,r);e.exports={configAttributes:t,dfltConfig:r}},6281:function(e,u,t){"use strict";var f=t(3972);var r=t(1828);var d=t(9012);var v=t(820);var a=t(1391);var n=t(5594);var i=t(2075).configAttributes;var o=t(962);var s=r.extendDeepAll;var h=r.isPlainObject;var p=r.isArrayOrTypedArray;var c=r.nestedProperty;var l=r.valObjectMeta;var g="_isSubplotObj";var m="_isLinkedToArray";var y="_arrayAttrRegexps";var x="_deprecated";var _=[g,m,y,x];u.IS_SUBPLOT_OBJ=g;u.IS_LINKED_TO_ARRAY=m;u.DEPRECATED=x;u.UNDERSCORE_ATTRS=_;u.get=function(){var t={};f.allTypes.forEach(function(e){t[e]=getTraceAttributes(e)});var r={};Object.keys(f.transformsRegistry).forEach(function(e){r[e]=getTransformAttributes(e)});return{defs:{valObjects:l,metaKeys:_.concat(["description","role","editType","impliedEdits"]),editType:{traces:o.traces,layout:o.layout},impliedEdits:{}},traces:t,layout:getLayoutAttributes(),transforms:r,frames:getFramesAttributes(),animation:formatAttributes(n),config:formatAttributes(i)}};u.crawl=function(a,n,e,i){var o=e||0;i=i||"";Object.keys(a).forEach(function(e){var t=a[e];if(_.indexOf(e)!==-1)return;var r=(i?i+".":"")+e;n(t,e,a,o,r);if(u.isValObject(t))return;if(h(t)&&e!=="impliedEdits"){u.crawl(t,n,o+1,r)}})};u.isValObject=function(e){return e&&e.valType!==undefined};u.findArrayAttributes=function(e){var o=[];var l=[];var s=[];var i,c;function callback(e,t,r,a){l=l.slice(0,a).concat([t]);s=s.slice(0,a).concat([e&&e._isLinkedToArray]);var n=e&&(e.valType==="data_array"||e.arrayOk===true)&&!(l[a-1]==="colorbar"&&(t==="ticktext"||t==="tickvals"));if(!n)return;crawlIntoTrace(i,0,"")}function crawlIntoTrace(e,t,r){var a=e[l[t]];var n=r+l[t];if(t===l.length-1){if(p(a)){o.push(c+n)}}else{if(s[t]){if(Array.isArray(a)){for(var i=0;i<a.length;i++){if(h(a[i])){crawlIntoTrace(a[i],t+1,n+"["+i+"].")}}}}else if(h(a)){crawlIntoTrace(a,t+1,n+".")}}}i=e;c="";u.crawl(d,callback);if(e._module&&e._module.attributes){u.crawl(e._module.attributes,callback)}var t=e.transforms;if(t){for(var r=0;r<t.length;r++){var a=t[r];var n=a._module;if(n){c="transforms["+r+"].";i=a;u.crawl(n.attributes,callback)}}}return o};u.getTraceValObject=function(e,t){var r=t[0];var a=1;var n,i;if(r==="transforms"){if(t.length===1){return d.transforms}var o=e.transforms;if(!Array.isArray(o)||!o.length)return false;var l=t[1];if(!isIndex(l)||l>=o.length){return false}n=(f.transformsRegistry[o[l].type]||{}).attributes;i=n&&n[t[2]];a=3}else{var s=e._module;if(!s)s=(f.modules[e.type||d.type.dflt]||{})._module;if(!s)return false;n=s.attributes;i=n&&n[r];if(!i){var c=s.basePlotModule;if(c&&c.attributes){i=c.attributes[r]}}if(!i)i=d[r]}return recurseIntoValObject(i,t,a)};u.getLayoutValObject=function(e,t){var r=layoutHeadAttr(e,t[0]);return recurseIntoValObject(r,t,1)};function layoutHeadAttr(e,t){var r,a,n,i;var o=e._basePlotModules;if(o){var l;for(r=0;r<o.length;r++){n=o[r];if(n.attrRegex&&n.attrRegex.test(t)){if(n.layoutAttrOverrides)return n.layoutAttrOverrides;if(!l&&n.layoutAttributes)l=n.layoutAttributes}var s=n.baseLayoutAttrOverrides;if(s&&t in s)return s[t]}if(l)return l}var c=e._modules;if(c){for(r=0;r<c.length;r++){i=c[r].layoutAttributes;if(i&&t in i){return i[t]}}}for(a in f.componentsRegistry){n=f.componentsRegistry[a];if(n.name==="colorscale"&&t.indexOf("coloraxis")===0){return n.layoutAttributes[t]}else if(!n.schema&&t===n.name){return n.layoutAttributes}}if(t in v)return v[t];return false}function recurseIntoValObject(e,t,r){if(!e)return false;if(e._isLinkedToArray){if(isIndex(t[r]))r++;else if(r<t.length)return false}for(;r<t.length;r++){var a=e[t[r]];if(h(a))e=a;else break;if(r===t.length-1)break;if(e._isLinkedToArray){r++;if(!isIndex(t[r]))return false}else if(e.valType==="info_array"){r++;var n=t[r];if(!isIndex(n))return false;var i=e.items;if(Array.isArray(i)){if(n>=i.length)return false;if(e.dimensions===2){r++;if(t.length===r)return e;var o=t[r];if(!isIndex(o))return false;e=i[n][o]}else e=i[n]}else{e=i}}}return e}function isIndex(e){return e===Math.round(e)&&e>=0}function getTraceAttributes(e){var t,r;t=f.modules[e]._module,r=t.basePlotModule;var a={};a.type=null;var i=s({},d);var o=s({},t.attributes);u.crawl(o,function(e,t,r,a,n){c(i,n).set(undefined);if(e===undefined)c(o,n).set(undefined)});s(a,i);if(f.traceIs(e,"noOpacity")){delete a.opacity}if(!f.traceIs(e,"showLegend")){delete a.showlegend;delete a.legendgroup}if(f.traceIs(e,"noHover")){delete a.hoverinfo;delete a.hoverlabel}if(!t.selectPoints){delete a.selectedpoints}s(a,o);if(r.attributes){s(a,r.attributes)}a.type=e;var n={meta:t.meta||{},categories:t.categories||{},animatable:Boolean(t.animatable),type:e,attributes:formatAttributes(a)};if(t.layoutAttributes){var l={};s(l,t.layoutAttributes);n.layoutAttributes=formatAttributes(l)}if(!t.animatable){u.crawl(n,function(e){if(u.isValObject(e)&&"anim"in e){delete e.anim}})}return n}function getLayoutAttributes(){var e={};var t,r;s(e,v);for(t in f.subplotsRegistry){r=f.subplotsRegistry[t];if(!r.layoutAttributes)continue;if(Array.isArray(r.attr)){for(var a=0;a<r.attr.length;a++){handleBasePlotModule(e,r,r.attr[a])}}else{var n=r.attr==="subplot"?r.name:r.attr;handleBasePlotModule(e,r,n)}}for(t in f.componentsRegistry){r=f.componentsRegistry[t];var i=r.schema;if(i&&(i.subplots||i.layout)){var o=i.subplots;if(o&&o.xaxis&&!o.yaxis){for(var l in o.xaxis){delete e.yaxis[l]}}delete e.xaxis.shift;delete e.xaxis.autoshift}else if(r.name==="colorscale"){s(e,r.layoutAttributes)}else if(r.layoutAttributes){insertAttrs(e,r.layoutAttributes,r.name)}}return{layoutAttributes:formatAttributes(e)}}function getTransformAttributes(r){var e=f.transformsRegistry[r];var a=s({},e.attributes);Object.keys(f.componentsRegistry).forEach(function(e){var t=f.componentsRegistry[e];if(t.schema&&t.schema.transforms&&t.schema.transforms[r]){Object.keys(t.schema.transforms[r]).forEach(function(e){insertAttrs(a,t.schema.transforms[r][e],e)})}});return{attributes:formatAttributes(a)}}function getFramesAttributes(){var e={frames:s({},a)};formatAttributes(e);return e.frames}function formatAttributes(e){mergeValTypeAndRole(e);formatArrayContainers(e);stringify(e);return e}function mergeValTypeAndRole(e){function makeSrcAttr(e){return{valType:"string",editType:"none"}}function callback(e,t,r){if(u.isValObject(e)){if(e.arrayOk===true||e.valType==="data_array"){r[t+"src"]=makeSrcAttr(t)}}else if(h(e)){e.role="object"}}u.crawl(e,callback)}function formatArrayContainers(e){function callback(e,t,r){if(!e)return;var a=e[m];if(!a)return;delete e[m];r[t]={items:{}};r[t].items[a]=e;r[t].role="object"}u.crawl(e,callback)}function stringify(e){function walk(e){for(var t in e){if(h(e[t])){walk(e[t])}else if(Array.isArray(e[t])){for(var r=0;r<e[t].length;r++){walk(e[t][r])}}else{if(e[t]instanceof RegExp){e[t]=e[t].toString()}}}}walk(e)}function handleBasePlotModule(e,t,r){var a=c(e,r);var n=s({},t.layoutAttributes);n[g]=true;a.set(n)}function insertAttrs(e,t,r){var a=c(e,r);a.set(s(a.get()||{},t))}},4467:function(e,t,r){"use strict";var s=r(1828);var l=r(9012);var c="templateitemname";var a={name:{valType:"string",editType:"none"}};a[c]={valType:"string",editType:"calc"};t.templatedArray=function(e,t){t._isLinkedToArray=e;t.name=a.name;t[c]=a[c];return t};t.traceTemplater=function(a){var n={};var i,o;for(i in a){o=a[i];if(Array.isArray(o)&&o.length){n[i]=0}}function newTrace(e){i=s.coerce(e,{},l,"type");var t={type:i,_template:null};if(i in n){o=a[i];var r=n[i]%o.length;n[i]++;t._template=o[r]}else{}return t}return{newTrace:newTrace}};t.newContainer=function(e,t,r){var a=e._template;var n=a&&(a[t]||r&&a[r]);if(!s.isPlainObject(n))n=null;var i=e[t]={_template:n};return i};t.arrayTemplater=function(e,t,i){var r=e._template;var o=r&&r[arrayDefaultKey(t)];var l=r&&r[t];if(!Array.isArray(l)||!l.length){l=[]}var s={};function newItem(e){var t={name:e.name,_input:e};var r=t[c]=e[c];if(!validItemName(r)){t._template=o;return t}for(var a=0;a<l.length;a++){var n=l[a];if(n.name===r){s[r]=1;t._template=n;return t}}t[i]=e[i]||false;t._template=false;return t}function defaultItems(){var e=[];for(var t=0;t<l.length;t++){var r=l[t];var a=r.name;if(validItemName(a)&&!s[a]){var n={_template:r,name:a,_input:{_templateitemname:a}};n[c]=r[c];e.push(n);s[a]=1}}return e}return{newItem:newItem,defaultItems:defaultItems}};function validItemName(e){return e&&typeof e==="string"}function arrayDefaultKey(e){var t=e.length-1;if(e.charAt(t)!=="s"){s.warn("bad argument to arrayDefaultKey: "+e)}return e.substr(0,e.length-1)+"defaults"}t.arrayDefaultKey=arrayDefaultKey;t.arrayEditor=function(n,e,t){var r=(s.nestedProperty(n,e).get()||[]).length;var a=t._index;var i=a>=r&&(t._input||{})._templateitemname;if(i)a=r;var o=e+"["+a+"]";var l;function resetUpdate(){l={};if(i){l[o]={};l[o][c]=i}}resetUpdate();function modifyBase(e,t){l[e]=t}function modifyItem(e,t){if(i){s.nestedProperty(l[o],e).set(t)}else{l[o+"."+e]=t}}function getUpdateObj(){var e=l;resetUpdate();return e}function applyUpdate(e,t){if(e)modifyItem(e,t);var r=getUpdateObj();for(var a in r){s.nestedProperty(n,a).set(r[a])}}return{modifyBase:modifyBase,modifyItem:modifyItem,getUpdateObj:getUpdateObj,applyUpdate:applyUpdate}}},1549:function(r,j,e){"use strict";var V=e(9898);var f=e(3972);var Y=e(4875);var U=e(1828);var u=e(3893);var d=e(3306);var G=e(7901);var q=e(1424);var v=e(2998);var Z=e(4168);var W=e(9298);var X=e(8783);var t=e(9082);var s=t.enforce;var c=t.clean;var h=e(1739).doAutoRange;var i="start";var a="middle";var o="end";j.layoutStyles=function(e){return U.syncOrAsync([Y.doAutoMargin,lsInner],e)};function overlappingDomain(e,t,r){for(var a=0;a<r.length;a++){var n=r[a][0];var i=r[a][1];if(n[0]>=e[1]||n[1]<=e[0]){continue}if(i[0]<t[1]&&i[1]>t[0]){return true}}return false}function lsInner(e){var t=e._fullLayout;var n=t._size;var i=n.p;var r=W.list(e,"",true);var a,o,l,s,c,u;t._paperdiv.style({width:e._context.responsive&&t.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":t.width+"px",height:e._context.responsive&&t.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":t.height+"px"}).selectAll(".main-svg").call(q.setSize,t.width,t.height);e._context.setBackground(e,t.paper_bgcolor);j.drawMainTitle(e);Z.manage(e);if(!t._has("cartesian")){return Y.previousPromises(e)}function getLinePosition(e,t,r){var a=e._lw/2;if(e._id.charAt(0)==="x"){if(!t)return n.t+n.h*(1-(e.position||0))+a%1;else if(r==="top")return t._offset-i-a;return t._offset+t._length+i+a}if(!t)return n.l+n.w*(e.position||0)+a%1;else if(r==="right")return t._offset+t._length+i+a;return t._offset-i-a}for(a=0;a<r.length;a++){s=r[a];var f=s._anchorAxis;s._linepositions={};s._lw=q.crispRound(e,s.linewidth,1);s._mainLinePosition=getLinePosition(s,f,s.side);s._mainMirrorPosition=s.mirror&&f?getLinePosition(s,f,X.OPPOSITE_SIDE[s.side]):null}var d=[];var v=[];var h=[];var I=G.opacity(t.paper_bgcolor)===1&&G.opacity(t.plot_bgcolor)===1&&t.paper_bgcolor===t.plot_bgcolor;for(o in t._plots){l=t._plots[o];if(l.mainplot){if(l.bg){l.bg.remove()}l.bg=undefined}else{var p=l.xaxis.domain;var g=l.yaxis.domain;var m=l.plotgroup;if(overlappingDomain(p,g,h)){var y=m.node();var R=l.bg=U.ensureSingle(m,"rect","bg");y.insertBefore(R.node(),y.childNodes[0]);v.push(o)}else{m.select("rect.bg").remove();h.push([p,g]);if(!I){d.push(o);v.push(o)}}}}var x=t._bgLayer.selectAll(".bg").data(d);x.enter().append("rect").classed("bg",true);x.exit().remove();x.each(function(e){t._plots[e].bg=V.select(this)});for(a=0;a<v.length;a++){l=t._plots[v[a]];c=l.xaxis;u=l.yaxis;if(l.bg&&c._offset!==undefined&&u._offset!==undefined){l.bg.call(q.setRect,c._offset-i,u._offset-i,c._length+2*i,u._length+2*i).call(G.fill,t.plot_bgcolor).style("stroke-width",0)}}if(!t._hasOnlyLargeSploms){for(o in t._plots){l=t._plots[o];c=l.xaxis;u=l.yaxis;var _=l.clipId="clip"+t._uid+o+"plot";var F=U.ensureSingleById(t._clips,"clipPath",_,function(e){e.classed("plotclip",true).append("rect")});l.clipRect=F.select("rect").attr({width:c._length,height:u._length});q.setTranslate(l.plot,c._offset,u._offset);var b;var w;if(l._hasClipOnAxisFalse){b=null;w=_}else{b=_;w=null}q.setClipUrl(l.plot,b,e);l.layerClipId=w}}var T,N,k,A,M,S;var E,z,C,L,B,H;var D;function xLinePath(e){return"M"+T+","+e+"H"+N}function xLinePathFree(e){return"M"+c._offset+","+e+"h"+c._length}function yLinePath(e){return"M"+e+","+z+"V"+E}function yLinePathFree(e){if(u._shift!==undefined){e+=u._shift}return"M"+e+","+u._offset+"v"+u._length}function mainPath(e,t,r){if(!e.showline||o!==e._mainSubplot)return"";if(!e._anchorAxis)return r(e._mainLinePosition);var a=t(e._mainLinePosition);if(e.mirror)a+=t(e._mainMirrorPosition);return a}for(o in t._plots){l=t._plots[o];c=l.xaxis;u=l.yaxis;var O="M0,0";if(shouldShowLinesOrTicks(c,o)){M=findCounterAxisLineWidth(c,"left",u,r);T=c._offset-(M?i+M:0);S=findCounterAxisLineWidth(c,"right",u,r);N=c._offset+c._length+(S?i+S:0);k=getLinePosition(c,u,"bottom");A=getLinePosition(c,u,"top");D=!c._anchorAxis||o!==c._mainSubplot;if(D&&(c.mirror==="allticks"||c.mirror==="all")){c._linepositions[o]=[k,A]}O=mainPath(c,xLinePath,xLinePathFree);if(D&&c.showline&&(c.mirror==="all"||c.mirror==="allticks")){O+=xLinePath(k)+xLinePath(A)}l.xlines.style("stroke-width",c._lw+"px").call(G.stroke,c.showline?c.linecolor:"rgba(0,0,0,0)")}l.xlines.attr("d",O);var P="M0,0";if(shouldShowLinesOrTicks(u,o)){B=findCounterAxisLineWidth(u,"bottom",c,r);E=u._offset+u._length+(B?i:0);H=findCounterAxisLineWidth(u,"top",c,r);z=u._offset-(H?i:0);C=getLinePosition(u,c,"left");L=getLinePosition(u,c,"right");D=!u._anchorAxis||o!==u._mainSubplot;if(D&&(u.mirror==="allticks"||u.mirror==="all")){u._linepositions[o]=[C,L]}P=mainPath(u,yLinePath,yLinePathFree);if(D&&u.showline&&(u.mirror==="all"||u.mirror==="allticks")){P+=yLinePath(C)+yLinePath(L)}l.ylines.style("stroke-width",u._lw+"px").call(G.stroke,u.showline?u.linecolor:"rgba(0,0,0,0)")}l.ylines.attr("d",P)}W.makeClipPaths(e);return Y.previousPromises(e)}function shouldShowLinesOrTicks(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||e.mirror==="all"||e.mirror==="allticks")}function shouldShowLineThisSide(e,t,r){if(!r.showline||!r._lw)return false;if(r.mirror==="all"||r.mirror==="allticks")return true;var a=r._anchorAxis;if(!a)return false;var n=X.FROM_BL[t];if(r.side===t){return a.domain[n]===e.domain[n]}return r.mirror&&a.domain[1-n]===e.domain[1-n]}function findCounterAxisLineWidth(e,t,r,a){if(shouldShowLineThisSide(e,t,r)){return r._lw}for(var n=0;n<a.length;n++){var i=a[n];if(i._mainAxis===r._mainAxis&&shouldShowLineThisSide(e,t,i)){return i._lw}}return 0}j.drawMainTitle=function(e){var t=e._fullLayout.title;var r=e._fullLayout;var a=getMainTitleTextAnchor(r);var n=getMainTitleDy(r);var i=getMainTitleY(r,n);var o=getMainTitleX(r,a);v.draw(e,"gtitle",{propContainer:r,propName:"title.text",placeholder:r._dfltTitle.plot,attributes:{x:o,y:i,"text-anchor":a,dy:n}});if(t.text&&t.automargin){var l=V.selectAll(".gtitle");var s=q.bBox(l.node()).height;var c=needsMarginPush(e,t,s);if(c>0){applyTitleAutoMargin(e,i,c,s);l.attr({x:o,y:i,"text-anchor":a,dy:getMainTitleDyAdj(t.yanchor)}).call(u.positionText,o,i)}}};function isOutsideContainer(e,t,r,a,n){var i=t.yref==="paper"?e._fullLayout._size.h:e._fullLayout.height;var o=U.isTopAnchor(t)?a:a-n;var l=r==="b"?i-o:o;if(U.isTopAnchor(t)&&r==="t"||U.isBottomAnchor(t)&&r==="b"){return false}else{return l<n}}function containerPushVal(e,t,r,a,n){var i=0;if(r==="middle"){i+=n/2}if(e==="t"){if(r==="top"){i+=n}i+=a-t*a}else{if(r==="bottom"){i+=n}i+=t*a}return i}function needsMarginPush(e,t,r){var a=t.y;var n=t.yanchor;var i=a>.5?"t":"b";var o=e._fullLayout.margin[i];var l=0;if(t.yref==="paper"){l=r+t.pad.t+t.pad.b}else if(t.yref==="container"){l=containerPushVal(i,a,n,e._fullLayout.height,r)+t.pad.t+t.pad.b}if(l>o){return l}return 0}function applyTitleAutoMargin(e,t,r,a){var n="title.automargin";var i=e._fullLayout.title;var o=i.y>.5?"t":"b";var l={x:i.x,y:i.y,t:0,b:0};var s={};if(i.yref==="paper"&&isOutsideContainer(e,i,o,t,a)){l[o]=r}else if(i.yref==="container"){s[o]=r;e._fullLayout._reservedMargin[n]=s}Y.allowAutoMargin(e,n);Y.autoMargin(e,n,l)}function getMainTitleX(e,t){var r=e.title;var a=e._size;var n=0;if(t===i){n=r.pad.l}else if(t===o){n=-r.pad.r}switch(r.xref){case"paper":return a.l+a.w*r.x+n;case"container":default:return e.width*r.x+n}}function getMainTitleY(e,t){var r=e.title;var a=e._size;var n=0;if(t==="0em"||!t){n=-r.pad.b}else if(t===X.CAP_SHIFT+"em"){n=r.pad.t}if(r.y==="auto"){return a.t/2}else{switch(r.yref){case"paper":return a.t+a.h-a.h*r.y+n;case"container":default:return e.height-e.height*r.y+n}}}function getMainTitleDyAdj(e){if(e==="top"){return X.CAP_SHIFT+.3+"em"}else if(e==="bottom"){return"-0.3em"}else{return X.MID_SHIFT+"em"}}function getMainTitleTextAnchor(e){var t=e.title;var r=a;if(U.isRightAnchor(t)){r=o}else if(U.isLeftAnchor(t)){r=i}return r}function getMainTitleDy(e){var t=e.title;var r="0em";if(U.isTopAnchor(t)){r=X.CAP_SHIFT+"em"}else if(U.isMiddleAnchor(t)){r=X.MID_SHIFT+"em"}return r}j.doTraceStyle=function(e){var t=e.calcdata;var r=[];var a;for(a=0;a<t.length;a++){var n=t[a];var i=n[0]||{};var o=i.trace||{};var l=o._module||{};var s=l.arraysToCalcdata;if(s)s(n,o);var c=l.editStyle;if(c)r.push({fn:c,cd0:i})}if(r.length){for(a=0;a<r.length;a++){var u=r[a];u.fn(e,u.cd0)}d(e);j.redrawReglTraces(e)}Y.style(e);f.getComponentMethod("legend","draw")(e);return Y.previousPromises(e)};j.doColorBars=function(e){f.getComponentMethod("colorbar","draw")(e);return Y.previousPromises(e)};j.layoutReplot=function(e){var t=e.layout;e.layout=undefined;return f.call("_doPlot",e,"",t)};j.doLegend=function(e){f.getComponentMethod("legend","draw")(e);return Y.previousPromises(e)};j.doTicksRelayout=function(e){W.draw(e,"redraw");if(e._fullLayout._hasOnlyLargeSploms){f.subplotsRegistry.splom.updateGrid(e);d(e);j.redrawReglTraces(e)}j.drawMainTitle(e);return Y.previousPromises(e)};j.doModeBar=function(e){var t=e._fullLayout;Z.manage(e);for(var r=0;r<t._basePlotModules.length;r++){var a=t._basePlotModules[r].updateFx;if(a)a(e)}return Y.previousPromises(e)};j.doCamera=function(e){var t=e._fullLayout;var r=t._subplots.gl3d;for(var a=0;a<r.length;a++){var n=t[r[a]];var i=n._scene;i.setViewport(n)}};j.drawData=function(e){var t=e._fullLayout;d(e);var r=t._basePlotModules;for(var a=0;a<r.length;a++){r[a].plot(e)}j.redrawReglTraces(e);Y.style(e);f.getComponentMethod("selections","draw")(e);f.getComponentMethod("shapes","draw")(e);f.getComponentMethod("annotations","draw")(e);f.getComponentMethod("images","draw")(e);t._replotting=false;return Y.previousPromises(e)};j.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var r=e._fullData;var a=[];var n=[];var i,o;if(t._hasOnlyLargeSploms){t._splomGrid.draw()}for(i=0;i<r.length;i++){var l=r[i];if(l.visible===true&&l._length!==0){if(l.type==="splom"){t._splomScenes[l.uid].draw()}else if(l.type==="scattergl"){U.pushUnique(a,l.xaxis+l.yaxis)}else if(l.type==="scatterpolargl"){U.pushUnique(n,l.subplot)}}}for(i=0;i<a.length;i++){o=t._plots[a[i]];if(o._scene)o._scene.draw()}for(i=0;i<n.length;i++){o=t[n[i]]._subplot;if(o._scene)o._scene.draw()}}};j.doAutoRangeAndConstraints=function(e){var t=W.list(e,"",true);var r;var a={};for(var n=0;n<t.length;n++){r=t[n];if(!a[r._id]){a[r._id]=1;c(e,r);h(e,r);var i=r._matchGroup;if(i){for(var o in i){var l=W.getFromId(e,o);h(e,l,r.range);a[o]=1}}}}s(e)};j.finalDraw=function(e){f.getComponentMethod("rangeslider","draw")(e);f.getComponentMethod("rangeselector","draw")(e)};j.drawMarginPushers=function(e){f.getComponentMethod("legend","draw")(e);f.getComponentMethod("rangeselector","draw")(e);f.getComponentMethod("sliders","draw")(e);f.getComponentMethod("updatemenus","draw")(e);f.getComponentMethod("colorbar","draw")(e)}},6318:function(e,t,r){"use strict";var k=r(1828);var A=k.isPlainObject;var a=r(6281);var g=r(4875);var v=r(9012);var M=r(4467);var m=r(2075).dfltConfig;t.makeTemplate=function(e){e=k.isPlainObject(e)?e:k.getGraphDiv(e);e=k.extendDeep({_context:m},{data:e.data,layout:e.layout});g.supplyDefaults(e);var t=e.data||[];var r=e.layout||{};r._basePlotModules=e._fullLayout._basePlotModules;r._modules=e._fullLayout._modules;var n={data:{},layout:{}};t.forEach(function(e){var t={};walkStyleKeys(e,t,getTraceInfo.bind(null,e));var r=k.coerce(e,{},v,"type");var a=n.data[r];if(!a)a=n.data[r]=[];a.push(t)});walkStyleKeys(r,n.layout,getLayoutInfo.bind(null,r));delete n.layout.template;var a=r.template;if(A(a)){var i=a.layout;var o,l,s,c,u,f;if(A(i)){mergeTemplates(i,n.layout)}var d=a.data;if(A(d)){for(l in n.data){s=d[l];if(Array.isArray(s)){u=n.data[l];f=u.length;c=s.length;for(o=0;o<f;o++){mergeTemplates(s[o%c],u[o])}for(o=f;o<c;o++){u.push(k.extendDeep({},s[o]))}}}for(l in d){if(!(l in n.data)){n.data[l]=k.extendDeep([],d[l])}}}}return n};function mergeTemplates(l,e){l=k.extendDeep({},l);var t=Object.keys(l).sort();var r,s;function mergeOne(e,t,r){if(A(t)&&A(e)){mergeTemplates(e,t)}else if(Array.isArray(t)&&Array.isArray(e)){var a=M.arrayTemplater({_template:l},r);for(s=0;s<t.length;s++){var n=t[s];var i=a.newItem(n)._template;if(i)mergeTemplates(i,n)}var o=a.defaultItems();for(s=0;s<o.length;s++)t.push(o[s]._template);for(s=0;s<t.length;s++)delete t[s].templateitemname}}for(r=0;r<t.length;r++){var a=t[r];var n=l[a];if(a in e){mergeOne(n,e[a],a)}else e[a]=n;if(getBaseKey(a)===a){for(var i in e){var o=getBaseKey(i);if(i!==o&&o===a&&!(i in l)){mergeOne(n,e[i],a)}}}}}function getBaseKey(e){return e.replace(/[0-9]+$/,"")}function walkStyleKeys(e,t,r,a,n){var i=n&&r(n);for(var o in e){var l=e[o];var s=getNextPath(e,o,a);var c=getNextPath(e,o,n);var u=r(c);if(!u){var f=getBaseKey(o);if(f!==o){c=getNextPath(e,f,n);u=r(c)}}if(i&&i===u)continue;if(!u||u._noTemplating||u.valType==="data_array"||u.arrayOk&&Array.isArray(l)){continue}if(!u.valType&&A(l)){walkStyleKeys(l,t,r,s,c)}else if(u._isLinkedToArray&&Array.isArray(l)){var d=false;var v=0;var h={};for(var p=0;p<l.length;p++){var g=l[p];if(A(g)){var m=g.name;if(m){if(!h[m]){walkStyleKeys(g,t,r,getNextPath(l,v,s),getNextPath(l,v,c));v++;h[m]=1}}else if(!d){var y=M.arrayDefaultKey(o);var x=getNextPath(e,y,a);var _=getNextPath(l,v,s);walkStyleKeys(g,t,r,_,getNextPath(l,v,c));var b=k.nestedProperty(t,_);var w=k.nestedProperty(t,x);w.set(b.get());b.set(null);d=true}}}}else{var T=k.nestedProperty(t,s);T.set(l)}}}function getLayoutInfo(e,t){return a.getLayoutValObject(e,k.nestedProperty({},t).parts)}function getTraceInfo(e,t){return a.getTraceValObject(e,k.nestedProperty({},t).parts)}function getNextPath(e,t,r){var a;if(!r)a=t;else if(Array.isArray(e))a=r+"["+t+"]";else a=r+"."+t;return a}t.validateTemplate=function(e,t){var r=k.extendDeep({},{_context:m,data:e.data,layout:e.layout});var a=r.layout||{};if(!A(t))t=a.template||{};var n=t.layout;var i=t.data;var o=[];r.layout=a;r.layout.template=t;g.supplyDefaults(r);var l=r._fullLayout;var s=r._fullData;var c={};function crawlLayoutForContainers(e,t){for(var r in e){if(r.charAt(0)!=="_"&&A(e[r])){var a=getBaseKey(r);var n=[];var i;for(i=0;i<t.length;i++){n.push(getNextPath(e,r,t[i]));if(a!==r)n.push(getNextPath(e,a,t[i]))}for(i=0;i<n.length;i++){c[n[i]]=1}crawlLayoutForContainers(e[r],n)}}}function crawlLayoutTemplateForContainers(e,t){for(var r in e){if(r.indexOf("defaults")===-1&&A(e[r])){var a=getNextPath(e,r,t);if(c[a]){crawlLayoutTemplateForContainers(e[r],a)}else{o.push({code:"unused",path:a})}}}}if(!A(n)){o.push({code:"layout"})}else{crawlLayoutForContainers(l,["layout"]);crawlLayoutTemplateForContainers(n,"layout")}if(!A(i)){o.push({code:"data"})}else{var u={};var f;for(var d=0;d<s.length;d++){var v=s[d];f=v.type;u[f]=(u[f]||0)+1;if(!v._fullInput._template){o.push({code:"missing",index:v._fullInput.index,traceType:f})}}for(f in i){var h=i[f].length;var p=u[f]||0;if(h>p){o.push({code:"unused",traceType:f,templateCount:h,dataCount:p})}else if(p>h){o.push({code:"reused",traceType:f,templateCount:h,dataCount:p})}}}function crawlForMissingTemplates(e,t){for(var r in e){if(r.charAt(0)==="_")continue;var a=e[r];var n=getNextPath(e,r,t);if(A(a)){if(Array.isArray(e)&&a._template===false&&a.templateitemname){o.push({code:"missing",path:n,templateitemname:a.templateitemname})}crawlForMissingTemplates(a,n)}else if(Array.isArray(a)&&hasPlainObject(a)){crawlForMissingTemplates(a,n)}}}crawlForMissingTemplates({data:s,layout:l},"");if(o.length)return o.map(format)};function hasPlainObject(e){for(var t=0;t<e.length;t++){if(A(e[t]))return true}}function format(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":if(e.path){t="There are no templates for item "+e.path+" with name "+e.templateitemname}else{t="There are no templates for trace "+e.index+", of type "+e.traceType+"."}break;case"unused":if(e.path){t="The template item at "+e.path+" was not used in constructing the plot."}else if(e.dataCount){t="Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type."}else{t="The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data."}break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type.";break}e.msg=t;return e}},403:function(e,t,r){"use strict";var m=r(2770);var y=r(2391);var x=r(4875);var _=r(1828);var b=r(5095);var w=r(5900);var T=r(942);var k=r(1506).version;var A={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:false},imageDataOnly:{valType:"boolean",dflt:false}};function toImage(e,r){r=r||{};var a;var t;var n;var i;if(_.isPlainObject(e)){a=e.data||[];t=e.layout||{};n=e.config||{};i={}}else{e=_.getGraphDiv(e);a=_.extendDeep([],e.data);t=_.extendDeep({},e.layout);n=e._context;i=e._fullLayout||{}}function isImpliedOrValid(e){return!(e in r)||_.validate(r[e],A[e])}if(!isImpliedOrValid("width")&&r.width!==null||!isImpliedOrValid("height")&&r.height!==null){throw new Error("Height and width should be pixel values.")}if(!isImpliedOrValid("format")){throw new Error("Export format is not "+_.join2(A.format.values,", "," or ")+".")}var o={};function coerce(e,t){return _.coerce(r,o,A,e,t)}var l=coerce("format");var s=coerce("width");var c=coerce("height");var u=coerce("scale");var f=coerce("setBackground");var d=coerce("imageDataOnly");var v=document.createElement("div");v.style.position="absolute";v.style.left="-5000px";document.body.appendChild(v);var h=_.extendFlat({},t);if(s){h.width=s}else if(r.width===null&&m(i.width)){h.width=i.width}if(c){h.height=c}else if(r.height===null&&m(i.height)){h.height=i.height}var p=_.extendFlat({},n,{_exportedPlot:true,staticPlot:true,setBackground:f});var g=b.getRedrawFunc(v);function wait(){return new Promise(function(e){setTimeout(e,b.getDelay(v._fullLayout))})}function convert(){return new Promise(function(e,t){var r=w(v,l,u);var a=v._fullLayout.width;var n=v._fullLayout.height;function cleanup(){y.purge(v);document.body.removeChild(v)}if(l==="full-json"){var i=x.graphJson(v,false,"keepdata","object",true,true);i.version=k;i=JSON.stringify(i);cleanup();if(d){return e(i)}else{return e(b.encodeJSON(i))}}cleanup();if(l==="svg"){if(d){return e(r)}else{return e(b.encodeSVG(r))}}var o=document.createElement("canvas");o.id=_.randstr();T({format:l,width:a,height:n,scale:u,canvas:o,svg:r,promise:true}).then(e)["catch"](t)})}function urlToImageData(e){if(d){return e.replace(b.IMAGE_URL_PREFIX,"")}else{return e}}return new Promise(function(t,r){y.newPlot(v,a,h,p).then(g).then(wait).then(convert).then(function(e){t(urlToImageData(e))})["catch"](function(e){r(e)})})}e.exports=toImage},4936:function(e,t,r){"use strict";var P=r(1828);var T=r(4875);var k=r(6281);var A=r(2075).dfltConfig;var I=P.isPlainObject;var R=Array.isArray;var F=P.isArrayOrTypedArray;e.exports=function validate(e,t){if(e===undefined)e=[];if(t===undefined)t={};var r=k.get();var a=[];var n={_context:P.extendFlat({},A)};var i,o;if(R(e)){n.data=P.extendDeep([],e);i=e}else{n.data=[];i=[];a.push(format("array","data"))}if(I(t)){n.layout=P.extendDeep({},t);o=t}else{n.layout={};o={};if(arguments.length>1){a.push(format("object","layout"))}}T.supplyDefaults(n);var l=n._fullData;var s=i.length;for(var c=0;c<s;c++){var u=i[c];var f=["data",c];if(!I(u)){a.push(format("object",f));continue}var d=l[c];var v=d.type;var h=r.traces[v].attributes;h.type={valType:"enumerated",values:[v]};if(d.visible===false&&u.visible!==false){a.push(format("invisible",f))}crawl(u,d,h,a,f);var p=u.transforms;var g=d.transforms;if(p){if(!R(p)){a.push(format("array",f,["transforms"]))}f.push("transforms");for(var m=0;m<p.length;m++){var y=["transforms",m];var x=p[m].type;if(!I(p[m])){a.push(format("object",f,y));continue}var _=r.transforms[x]?r.transforms[x].attributes:{};_.type={valType:"enumerated",values:Object.keys(r.transforms)};crawl(p[m],g[m],_,a,f,y)}}}var b=n._fullLayout;var w=fillLayoutSchema(r,l);crawl(o,b,w,a,"layout");return a.length===0?void 0:a};function crawl(e,t,r,a,n,i){i=i||[];var o=Object.keys(e);for(var l=0;l<o.length;l++){var s=o[l];if(s==="transforms")continue;var c=i.slice();c.push(s);var u=e[s];var f=t[s];var d=getNestedSchema(r,s);var v=(d||{}).valType;var h=v==="info_array";var p=v==="colorscale";var g=(d||{}).items;if(!isInSchema(r,s)){a.push(format("schema",n,c))}else if(I(u)&&I(f)&&v!=="any"){crawl(u,f,d,a,n,c)}else if(h&&R(u)){if(u.length>f.length){a.push(format("unused",n,c.concat(f.length)))}var m=f.length;var y=Array.isArray(g);if(y)m=Math.min(m,g.length);var x,_,b,w,T;if(d.dimensions===2){for(_=0;_<m;_++){if(R(u[_])){if(u[_].length>f[_].length){a.push(format("unused",n,c.concat(_,f[_].length)))}var k=f[_].length;for(x=0;x<(y?Math.min(k,g[_].length):k);x++){b=y?g[_][x]:g;w=u[_][x];T=f[_][x];if(!P.validate(w,b)){a.push(format("value",n,c.concat(_,x),w))}else if(T!==w&&T!==+w){a.push(format("dynamic",n,c.concat(_,x),w,T))}}}else{a.push(format("array",n,c.concat(_),u[_]))}}}else{for(_=0;_<m;_++){b=y?g[_]:g;w=u[_];T=f[_];if(!P.validate(w,b)){a.push(format("value",n,c.concat(_),w))}else if(T!==w&&T!==+w){a.push(format("dynamic",n,c.concat(_),w,T))}}}}else if(d.items&&!h&&R(u)){var A=g[Object.keys(g)[0]];var M=[];var S,C;for(S=0;S<f.length;S++){var L=f[S]._index||S;C=c.slice();C.push(L);if(I(u[L])&&I(f[S])){M.push(L);var D=u[L];var O=f[S];if(I(D)&&D.visible!==false&&O.visible===false){a.push(format("invisible",n,C))}else crawl(D,O,A,a,n,C)}}for(S=0;S<u.length;S++){C=c.slice();C.push(S);if(!I(u[S])){a.push(format("object",n,C,u[S]))}else if(M.indexOf(S)===-1){a.push(format("unused",n,C))}}}else if(!I(u)&&I(f)){a.push(format("object",n,c,u))}else if(!F(u)&&F(f)&&!h&&!p){a.push(format("array",n,c,u))}else if(!(s in t)){a.push(format("unused",n,c,u))}else if(!P.validate(u,d)){a.push(format("value",n,c,u))}else if(d.valType==="enumerated"&&(d.coerceNumber&&u!==+f||u!==f)){a.push(format("dynamic",n,c,u,f))}}return a}function fillLayoutSchema(e,t){var r=e.layout.layoutAttributes;for(var a=0;a<t.length;a++){var n=t[a];var i=e.traces[n.type];var o=i.layoutAttributes;if(o){if(n.subplot){P.extendFlat(r[i.attributes.subplot.dflt],o)}else{P.extendFlat(r,o)}}}return r}var c={object:function(e,t){var r;if(e==="layout"&&t==="")r="The layout argument";else if(e[0]==="data"&&t===""){r="Trace "+e[1]+" in the data argument"}else r=inBase(e)+"key "+t;return r+" must be linked to an object container"},array:function(e,t){var r;if(e==="data")r="The data argument";else r=inBase(e)+"key "+t;return r+" must be linked to an array container"},schema:function(e,t){return inBase(e)+"key "+t+" is not part of the schema"},unused:function(e,t,r){var a=I(r)?"container":"key";return inBase(e)+a+" "+t+" did not get coerced"},dynamic:function(e,t,r,a){return[inBase(e)+"key",t,"(set to '"+r+"')","got reset to","'"+a+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?inBase(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,r){return[inBase(e)+"key "+t,"is set to an invalid value ("+r+")"].join(" ")}};function inBase(e){if(R(e))return"In data trace "+e[1]+", ";return"In "+e+", "}function format(e,t,r,a,n){r=r||"";var i,o;if(R(t)){i=t[0];o=t[1]}else{i=t;o=null}var l=convertPathToAttributeString(r);var s=c[e](t,l,a,n);P.log(s);return{code:e,container:i,trace:o,path:r,astr:l,msg:s}}function isInSchema(e,t){var r=splitKey(t);var a=r.keyMinusId;var n=r.id;if(a in e&&e[a]._isSubplotObj&&n){return true}return t in e}function getNestedSchema(e,t){if(t in e)return e[t];var r=splitKey(t);return e[r.keyMinusId]}var a=P.counterRegex("([a-z]+)");function splitKey(e){var t=e.match(a);return{keyMinusId:t&&t[1],id:t&&t[2]}}function convertPathToAttributeString(e){if(!R(e))return String(e);var t="";for(var r=0;r<e.length;r++){var a=e[r];if(typeof a==="number"){t=t.substr(0,t.length-1)+"["+a+"]"}else{t+=a}if(r<e.length-1)t+="."}return t}},5594:function(e){"use strict";e.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:false},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:true}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},5501:function(e,t,r){"use strict";var h=r(1828);var p=r(4467);e.exports=function handleArrayContainerDefaults(e,t,r){var a=r.name;var n=r.inclusionAttr||"visible";var i=t[a];var o=h.isArrayOrTypedArray(e[a])?e[a]:[];var l=t[a]=[];var s=p.arrayTemplater(t,a,n);var c,u;for(c=0;c<o.length;c++){var f=o[c];if(!h.isPlainObject(f)){u=s.newItem({});u[n]=false}else{u=s.newItem(f)}u._index=c;if(u[n]!==false){r.handleItemDefaults(f,u,t,r)}l.push(u)}var d=s.defaultItems();for(c=0;c<d.length;c++){u=d[c];u._index=l.length;r.handleItemDefaults({},u,t,r,{});l.push(u)}if(h.isArrayOrTypedArray(i)){var v=Math.min(i.length,l.length);for(c=0;c<v;c++){h.relinkPrivateKeys(l[c],i[c])}}return l}},9012:function(e,t,r){"use strict";var a=r(1940);var n=r(7914);e.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:true},visible:{valType:"enumerated",values:[true,false,"legendonly"],dflt:true,editType:"calc"},showlegend:{valType:"boolean",dflt:true,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:a({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:true},ids:{valType:"data_array",editType:"calc",anim:true},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:true,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:true,dflt:"all",editType:"none"},hoverlabel:n.hoverlabel,stream:{token:{valType:"string",noBlank:true,strict:true,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},2973:function(e,t,r){"use strict";var w=r(2770);var a=r(1828);var T=a.dateTime2ms;var k=a.incrementMonth;var n=r(606);var A=n.ONEAVGMONTH;e.exports=function alignPeriod(e,t,r,a){if(t.type!=="date")return{vals:a};var n=e[r+"periodalignment"];if(!n)return{vals:a};var i=e[r+"period"];var o;if(w(i)){i=+i;if(i<=0)return{vals:a}}else if(typeof i==="string"&&i.charAt(0)==="M"){var l=+i.substring(1);if(l>0&&Math.round(l)===l){o=l}else return{vals:a}}var s=t.calendar;var c="start"===n;var u="end"===n;var f=e[r+"period0"];var d=T(f,s)||0;var v=[];var h=[];var p=[];var g=a.length;for(var m=0;m<g;m++){var y=a[m];var x,_,b;if(o){x=Math.round((y-d)/(o*A));b=k(d,o*x,s);while(b>y){b=k(b,-o,s)}while(b<=y){b=k(b,o,s)}_=k(b,-o,s)}else{x=Math.round((y-d)/i);b=d+x*i;while(b>y){b-=i}while(b<=y){b+=i}_=b-i}v[m]=c?_:u?b:(_+b)/2;h[m]=_;p[m]=b}return{vals:v,starts:h,ends:p}}},9502:function(e){"use strict";e.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},1739:function(e,t,r){"use strict";var y=r(9898);var M=r(2770);var O=r(1828);var S=r(606).FP_SAFE;var l=r(3972);var x=r(1424);var a=r(1675);var p=a.getFromId;var s=a.isLinked;e.exports={getAutoRange:getAutoRange,makePadFn:makePadFn,doAutoRange:doAutoRange,findExtremes:findExtremes,concatExtremes:concatExtremes};function getAutoRange(e,t){var r,a;var n=[];var i=e._fullLayout;var o=makePadFn(i,t,0);var l=makePadFn(i,t,1);var s=concatExtremes(e,t);var c=s.min;var u=s.max;if(c.length===0||u.length===0){return O.simpleMap(t.range,t.r2l)}var f=c[0].val;var d=u[0].val;for(r=1;r<c.length;r++){if(f!==d)break;f=Math.min(f,c[r].val)}for(r=1;r<u.length;r++){if(f!==d)break;d=Math.max(d,u[r].val)}var v=false;if(t.range){var h=O.simpleMap(t.range,t.r2l);v=h[1]<h[0]}if(t.autorange==="reversed"){v=true;t.autorange=true}var p=t.rangemode;var g=p==="tozero";var m=p==="nonnegative";var y=t._length;var x=y/10;var _=0;var b,w,T,k,A,M;for(r=0;r<c.length;r++){b=c[r];for(a=0;a<u.length;a++){w=u[a];M=w.val-b.val-calcBreaksLength(t,b.val,w.val);if(M>0){A=y-o(b)-l(w);if(A>x){if(M/A>_){T=b;k=w;_=M/A}}else if(M/y>_){T={val:b.val,nopad:1};k={val:w.val,nopad:1};_=M/y}}}}function maximumPad(e,t){return Math.max(e,l(t))}if(f===d){var S=f-1;var C=f+1;if(g){if(f===0){n=[0,1]}else{var L=(f>0?u:c).reduce(maximumPad,0);var D=f/(1-Math.min(.5,L/y));n=f>0?[0,D]:[D,0]}}else if(m){n=[Math.max(0,S),Math.max(1,C)]}else{n=[S,C]}}else{if(g){if(T.val>=0){T={val:0,nopad:1}}if(k.val<=0){k={val:0,nopad:1}}}else if(m){if(T.val-_*o(T)<0){T={val:0,nopad:1}}if(k.val<=0){k={val:1,nopad:1}}}_=(k.val-T.val-calcBreaksLength(t,b.val,w.val))/(y-o(T)-l(k));n=[T.val-_*o(T),k.val+_*l(k)]}if(v)n.reverse();return O.simpleMap(n,t.l2r||Number)}function calcBreaksLength(e,t,r){var a=0;if(e.rangebreaks){var n=e.locateBreaks(t,r);for(var i=0;i<n.length;i++){var o=n[i];a+=o.max-o.min}}return a}function makePadFn(e,t,r){var a=.05*t._length;var n=t._anchorAxis||{};if((t.ticklabelposition||"").indexOf("inside")!==-1||(n.ticklabelposition||"").indexOf("inside")!==-1){var i=t.autorange==="reversed";if(!i){var o=O.simpleMap(t.range,t.r2l);i=o[1]<o[0]}if(i)r=!r}var l=0;if(!s(e,t._id)){l=padInsideLabelsOnAnchorAxis(e,t,r)}a=Math.max(l,a);if(t.constrain==="domain"&&t._inputDomain){a*=(t._inputDomain[1]-t._inputDomain[0])/(t.domain[1]-t.domain[0])}return function getPad(e){if(e.nopad)return 0;return e.pad+(e.extrapad?a:l)}}var _=3;function padInsideLabelsOnAnchorAxis(e,t,r){var a=0;var n=t._id.charAt(0)==="x";for(var i in e._plots){var o=e._plots[i];if(t._id!==o.xaxis._id&&t._id!==o.yaxis._id)continue;var l=(n?o.yaxis:o.xaxis)||{};if((l.ticklabelposition||"").indexOf("inside")!==-1){if(!r&&(l.side==="left"||l.side==="bottom")||r&&(l.side==="top"||l.side==="right")){if(l._vals){var s=O.deg2rad(l._tickAngles[l._id+"tick"]||0);var c=Math.abs(Math.cos(s));var u=Math.abs(Math.sin(s));if(!l._vals[0].bb){var f=l._id+"tick";var d=l._selections[f];d.each(function(e){var t=y.select(this);var r=t.select(".text-math-group");if(r.empty()){e.bb=x.bBox(t.node())}})}for(var v=0;v<l._vals.length;v++){var h=l._vals[v];var p=h.bb;if(p){var g=2*_+p.width;var m=2*_+p.height;a=Math.max(a,n?Math.max(g*c,m*u):Math.max(m*c,g*u))}}}if(l.ticks==="inside"&&l.ticklabelposition==="inside"){a+=l.ticklen||0}}}}return a}function concatExtremes(e,t,r){var n=t._id;var a=e._fullData;var i=e._fullLayout;var o=[];var l=[];var s,c,u;function _concat(e,t){for(s=0;s<t.length;s++){var r=e[t[s]];var a=(r._extremes||{})[n];if(r.visible===true&&a){for(c=0;c<a.min.length;c++){u=a.min[c];collapseMinArray(o,u.val,u.pad,{extrapad:u.extrapad})}for(c=0;c<a.max.length;c++){u=a.max[c];collapseMaxArray(l,u.val,u.pad,{extrapad:u.extrapad})}}}}_concat(a,t._traceIndices);_concat(i.annotations||[],t._annIndices||[]);_concat(i.shapes||[],t._shapeIndices||[]);if(t._matchGroup&&!r){for(var f in t._matchGroup){if(f!==t._id){var d=p(e,f);var v=concatExtremes(e,d,true);var h=t._length/d._length;for(c=0;c<v.min.length;c++){u=v.min[c];collapseMinArray(o,u.val,u.pad*h,{extrapad:u.extrapad})}for(c=0;c<v.max.length;c++){u=v.max[c];collapseMaxArray(l,u.val,u.pad*h,{extrapad:u.extrapad})}}}}return{min:o,max:l}}function doAutoRange(e,t,r){t.setScale();if(t.autorange){t.range=r?r.slice():getAutoRange(e,t);t._r=t.range.slice();t._rl=O.simpleMap(t._r,t.r2l);var a=t._input;var n={};n[t._attr+".range"]=t.range;n[t._attr+".autorange"]=t.autorange;l.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,n);a.range=t.range.slice();a.autorange=t.autorange}var i=t._anchorAxis;if(i&&i.rangeslider){var o=i.rangeslider[t._name];if(o){if(o.rangemode==="auto"){o.range=getAutoRange(e,t)}}i._input.rangeslider[t._name]=O.extendFlat({},o)}}function findExtremes(t,r,e){if(!e)e={};if(!t._m)t.setScale();var a=[];var n=[];var i=r.length;var o=e.padded||false;var l=e.tozero&&(t.type==="linear"||t.type==="-");var s=t.type==="log";var c=false;var u=e.vpadLinearized||false;var f,d,v,h,p,g,m,y,x;function makePadAccessor(t){if(Array.isArray(t)){c=true;return function(e){return Math.max(Number(t[e]||0),0)}}else{var e=Math.max(Number(t||0),0);return function(){return e}}}var _=makePadAccessor((t._m>0?e.ppadplus:e.ppadminus)||e.ppad||0);var b=makePadAccessor((t._m>0?e.ppadminus:e.ppadplus)||e.ppad||0);var w=makePadAccessor(e.vpadplus||e.vpad);var T=makePadAccessor(e.vpadminus||e.vpad);if(!c){y=Infinity;x=-Infinity;if(s){for(f=0;f<i;f++){d=r[f];if(d<y&&d>0)y=d;if(d>x&&d<S)x=d}}else{for(f=0;f<i;f++){d=r[f];if(d<y&&d>-S)y=d;if(d>x&&d<S)x=d}}r=[y,x];i=2}var k={tozero:l,extrapad:o};function addItem(e){v=r[e];if(!M(v))return;g=_(e);m=b(e);if(u){h=t.c2l(v)-T(e);p=t.c2l(v)+w(e)}else{y=v-T(e);x=v+w(e);if(s&&y<x/10)y=x/10;h=t.c2l(y);p=t.c2l(x)}if(l){h=Math.min(0,h);p=Math.max(0,p)}if(goodNumber(h)){collapseMinArray(a,h,m,k)}if(goodNumber(p)){collapseMaxArray(n,p,g,k)}}var A=Math.min(6,i);for(f=0;f<A;f++)addItem(f);for(f=i-1;f>=A;f--)addItem(f);return{min:a,max:n,opts:e}}function collapseMinArray(e,t,r,a){collapseArray(e,t,r,a,lessOrEqual)}function collapseMaxArray(e,t,r,a){collapseArray(e,t,r,a,greaterOrEqual)}function collapseArray(e,t,r,a,n){var i=a.tozero;var o=a.extrapad;var l=true;for(var s=0;s<e.length&&l;s++){var c=e[s];if(n(c.val,t)&&c.pad>=r&&(c.extrapad||!o)){l=false;break}else if(n(t,c.val)&&c.pad<=r&&(o||!c.extrapad)){e.splice(s,1);s--}}if(l){var u=i&&t===0;e.push({val:t,pad:u?0:r,extrapad:u?false:o})}}function goodNumber(e){return M(e)&&Math.abs(e)<S}function lessOrEqual(e,t){return e<=t}function greaterOrEqual(e,t){return e>=t}},9298:function(n,i,e){"use strict";var k=e(9898);var J=e(2770);var ee=e(4875);var te=e(3972);var re=e(1828);var v=re.strTranslate;var g=e(3893);var S=e(2998);var m=e(7901);var A=e(1424);var D=e(3838);var O=e(6287);var t=e(606);var P=t.ONEMAXYEAR;var y=t.ONEAVGYEAR;var x=t.ONEMINYEAR;var I=t.ONEMAXQUARTER;var _=t.ONEAVGQUARTER;var R=t.ONEMINQUARTER;var F=t.ONEMAXMONTH;var K=t.ONEAVGMONTH;var N=t.ONEMINMONTH;var b=t.ONEWEEK;var w=t.ONEDAY;var T=w/2;var M=t.ONEHOUR;var u=t.ONEMIN;var d=t.ONESEC;var p=t.MINUS_SIGN;var Q=t.BADNUM;var l={K:"zeroline"};var E={K:"gridline",L:"path"};var z={K:"minor-gridline",L:"path"};var s={K:"tick",L:"path"};var c={K:"tick",L:"text"};var o={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]};var r=e(8783);var C=r.MID_SHIFT;var L=r.CAP_SHIFT;var ae=r.LINE_SPACING;var ie=r.OPPOSITE_SIDE;var B=3;var ne=n.exports={};ne.setConvert=e(1994);var h=e(4322);var a=e(1675);var H=a.idSort;var j=a.isLinked;ne.id2name=a.id2name;ne.name2id=a.name2id;ne.cleanId=a.cleanId;ne.list=a.list;ne.listIds=a.listIds;ne.getFromId=a.getFromId;ne.getFromTrace=a.getFromTrace;var V=e(1739);ne.getAutoRange=V.getAutoRange;ne.findExtremes=V.findExtremes;var Y=1e-4;function expandRange(e){var t=(e[1]-e[0])*Y;return[e[0]-t,e[1]+t]}ne.coerceRef=function(e,t,r,a,n,i){var o=a.charAt(a.length-1);var l=r._fullLayout._subplots[o+"axis"];var s=a+"ref";var c={};if(!n)n=l[0]||(typeof i==="string"?i:i[0]);if(!i)i=n;l=l.concat(l.map(function(e){return e+" domain"}));c[s]={valType:"enumerated",values:l.concat(i?typeof i==="string"?[i]:i:[]),dflt:n};return re.coerce(e,t,c,s)};ne.getRefType=function(e){if(e===undefined){return e}if(e==="paper"){return"paper"}if(e==="pixel"){return"pixel"}if(/( domain)$/.test(e)){return"domain"}else{return"range"}};ne.coercePosition=function(e,t,r,a,n,i){var o,l;var s=ne.getRefType(a);if(s!=="range"){o=re.ensureNumber;l=r(n,i)}else{var c=ne.getFromId(t,a);i=c.fraction2r(i);l=r(n,i);o=c.cleanPos}e[n]=o(l)};ne.cleanPosition=function(e,t,r){var a=r==="paper"||r==="pixel"?re.ensureNumber:ne.getFromId(t,r).cleanPos;return a(e)};ne.redrawComponents=function(f,d){d=d?d:ne.listIds(f);var v=f._fullLayout;function _redrawOneComp(e,t,r,a){var n=te.getComponentMethod(e,t);var i={};for(var o=0;o<d.length;o++){var l=v[ne.id2name(d[o])];var s=l[r];for(var c=0;c<s.length;c++){var u=s[c];if(!i[u]){n(f,u);i[u]=1;if(a)return}}}}_redrawOneComp("annotations","drawOne","_annIndices");_redrawOneComp("shapes","drawOne","_shapeIndices");_redrawOneComp("images","draw","_imgIndices",true);_redrawOneComp("selections","drawOne","_selectionIndices")};var U=ne.getDataConversions=function(e,t,r,a){var n;var i=r==="x"||r==="y"||r==="z"?r:a;if(Array.isArray(i)){n={type:h(a,undefined,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]};ne.setConvert(n);if(n.type==="category"){for(var o=0;o<a.length;o++){n.d2c(a[o])}}}else{n=ne.getFromTrace(e,t,i)}if(n)return{d2c:n.d2c,c2d:n.c2d};if(i==="ids")return{d2c:toString,c2d:toString};return{d2c:toNum,c2d:toNum}};function toNum(e){return+e}function toString(e){return String(e)}ne.getDataToCoordFunc=function(e,t,r,a){return U(e,t,r,a).d2c};ne.counterLetter=function(e){var t=e.charAt(0);if(t==="x")return"y";if(t==="y")return"x"};ne.minDtick=function(e,t,r,a){if(["log","category","multicategory"].indexOf(e.type)!==-1||!a){e._minDtick=0}else if(e._minDtick===undefined){e._minDtick=t;e._forceTick0=r}else if(e._minDtick){if((e._minDtick/t+1e-6)%1<2e-6&&((r-e._forceTick0)/t%1+1.000001)%1<2e-6){e._minDtick=t;e._forceTick0=r}else if((t/e._minDtick+1e-6)%1>2e-6||((r-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6){e._minDtick=0}}};ne.saveRangeInitial=function(e,t){var r=ne.list(e,"",true);var a=false;for(var n=0;n<r.length;n++){var i=r[n];var o=i._rangeInitial===undefined;var l=o||!(i.range[0]===i._rangeInitial[0]&&i.range[1]===i._rangeInitial[1]);if(o&&i.autorange===false||t&&l){i._rangeInitial=i.range.slice();a=true}}return a};ne.saveShowSpikeInitial=function(e,t){var r=ne.list(e,"",true);var a=false;var n="on";for(var i=0;i<r.length;i++){var o=r[i];var l=o._showSpikeInitial===undefined;var s=l||!(o.showspikes===o._showspikes);if(l||t&&s){o._showSpikeInitial=o.showspikes;a=true}if(n==="on"&&!o.showspikes){n="off"}}e._fullLayout._cartesianSpikesEnabled=n;return a};ne.autoBin=function(e,t,r,a,n,i){var o=re.aggNums(Math.min,null,e);var l=re.aggNums(Math.max,null,e);if(t.type==="category"||t.type==="multicategory"){return{start:o-.5,end:l+.5,size:Math.max(1,Math.round(i)||1),_dataSpan:l-o}}if(!n)n=t.calendar;var s;if(t.type==="log"){s={type:"linear",range:[o,l]}}else{s={type:t.type,range:re.simpleMap([o,l],t.c2r,0,n),calendar:n}}ne.setConvert(s);i=i&&O.dtick(i,s.type);if(i){s.dtick=i;s.tick0=O.tick0(undefined,s.type,n)}else{var c;if(r)c=(l-o)/r;else{var u=re.distinctVals(e);var f=Math.pow(10,Math.floor(Math.log(u.minDiff)/Math.LN10));var d=f*re.roundUp(u.minDiff/f,[.9,1.9,4.9,9.9],true);c=Math.max(d,2*re.stdev(e)/Math.pow(e.length,a?.25:.4));if(!J(c))c=1}ne.autoTicks(s,c)}var v=s.dtick;var h=ne.tickIncrement(ne.tickFirst(s),v,"reverse",n);var p,g;if(typeof v==="number"){h=autoShiftNumericBins(h,e,s,o,l);g=1+Math.floor((l-h)/v);p=h+g*v}else{if(s.dtick.charAt(0)==="M"){h=autoShiftMonthBins(h,e,v,o,n)}p=h;g=0;while(p<=l){p=ne.tickIncrement(p,v,false,n);g++}}return{start:t.c2r(h,0,n),end:t.c2r(p,0,n),size:v,_dataSpan:l-o}};function autoShiftNumericBins(t,e,r,a,n){var i=0;var o=0;var l=0;var s=0;function nearEdge(e){return(1+(e-t)*100/r.dtick)%100<2}for(var c=0;c<e.length;c++){if(e[c]%1===0)l++;else if(!J(e[c]))s++;if(nearEdge(e[c]))i++;if(nearEdge(e[c]+r.dtick/2))o++}var u=e.length-s;if(l===u&&r.type!=="date"){if(r.dtick<1){t=a-.5*r.dtick}else{t-=.5;if(t+r.dtick<a)t+=r.dtick}}else if(o<u*.1){if(i>u*.3||nearEdge(a)||nearEdge(n)){var f=r.dtick/2;t+=t+f<a?f:-f}}return t}function autoShiftMonthBins(e,t,r,a,n){var i=re.findExactDates(t,n);var o=.8;if(i.exactDays>o){var l=Number(r.substr(1));if(i.exactYears>o&&l%12===0){e=ne.tickIncrement(e,"M6","reverse")+w*1.5}else if(i.exactMonths>o){e=ne.tickIncrement(e,"M1","reverse")+w*15.5}else{e-=T}var s=ne.tickIncrement(e,r);if(s<=a)return s}return e}ne.prepMinorTicks=function(e,t,r){if(!t.minor.dtick){delete e.dtick;var a=t.dtick&&J(t._tmin);var n;if(a){var i=ne.tickIncrement(t._tmin,t.dtick,true);n=[t._tmin,i*.99+t._tmin*.01]}else{var o=re.simpleMap(t.range,t.r2l);n=[o[0],.8*o[0]+.2*o[1]]}e.range=re.simpleMap(n,t.l2r);e._isMinor=true;ne.prepTicks(e,r);if(a){var l=J(t.dtick);var s=J(e.dtick);var c=l?t.dtick:+t.dtick.substring(1);var u=s?e.dtick:+e.dtick.substring(1);if(l&&s){if(!isMultiple(c,u)){if(c===2*b&&u===3*w){e.dtick=b}else if(c===b&&!(t._input.minor||{}).nticks){e.dtick=w}else if(isClose(c/u,2.5)){e.dtick=c/2}else{e.dtick=c}}else if(c===2*b&&u===2*w){e.dtick=b}}else if(String(t.dtick).charAt(0)==="M"){if(s){e.dtick="M1"}else{if(!isMultiple(c,u)){e.dtick=t.dtick}else if(c>=12&&u===2){e.dtick="M3"}}}else if(String(e.dtick).charAt(0)==="L"){if(String(t.dtick).charAt(0)==="L"){if(!isMultiple(c,u)){e.dtick=isClose(c/u,2.5)?t.dtick/2:t.dtick}}else{e.dtick="D1"}}else if(e.dtick==="D2"&&+t.dtick>1){e.dtick=1}}e.range=t.range}if(t.minor._tick0Init===undefined){e.tick0=t.tick0}};function isMultiple(e,t){return Math.abs((e/t+.5)%1-.5)<.001}function isClose(e,t){return Math.abs(e/t-1)<.001}ne.prepTicks=function(e,t){var r=re.simpleMap(e.range,e.r2l,undefined,undefined,t);if(e.tickmode==="auto"||!e.dtick){var a=e.nticks;var n;if(!a){if(e.type==="category"||e.type==="multicategory"){n=e.tickfont?re.bigFont(e.tickfont.size||12):15;a=e._length/n}else{n=e._id.charAt(0)==="y"?40:80;a=re.constrain(e._length/n,4,9)+1}if(e._name==="radialaxis")a*=2}if(!(e.minor&&e.minor.tickmode!=="array")){if(e.tickmode==="array")a*=100}e._roughDTick=Math.abs(r[1]-r[0])/a;ne.autoTicks(e,e._roughDTick);if(e._minDtick>0&&e.dtick<e._minDtick*2){e.dtick=e._minDtick;e.tick0=e.l2r(e._forceTick0)}}if(e.ticklabelmode==="period"){adjustPeriodDelta(e)}if(!e.tick0){e.tick0=e.type==="date"?"2000-01-01":0}if(e.type==="date"&&e.dtick<.1)e.dtick=.1;autoTickRound(e)};function nMonths(e){return+e.substring(1)}function adjustPeriodDelta(e){var t;function mDate(){return!(J(e.dtick)||e.dtick.charAt(0)!=="M")}var r=mDate();var a=ne.getTickFormat(e);if(a){var n=e._dtickInit!==e.dtick;if(!/%[fLQsSMX]/.test(a)){if(/%[HI]/.test(a)){t=M;if(n&&!r&&e.dtick<M)e.dtick=M}else if(/%p/.test(a)){t=T;if(n&&!r&&e.dtick<T)e.dtick=T}else if(/%[Aadejuwx]/.test(a)){t=w;if(n&&!r&&e.dtick<w)e.dtick=w}else if(/%[UVW]/.test(a)){t=b;if(n&&!r&&e.dtick<b)e.dtick=b}else if(/%[Bbm]/.test(a)){t=K;if(n&&(r?nMonths(e.dtick)<1:e.dtick<N))e.dtick="M1"}else if(/%[q]/.test(a)){t=_;if(n&&(r?nMonths(e.dtick)<3:e.dtick<R))e.dtick="M3"}else if(/%[Yy]/.test(a)){t=y;if(n&&(r?nMonths(e.dtick)<12:e.dtick<x))e.dtick="M12"}}}r=mDate();if(r&&e.tick0===e._dowTick0){e.tick0=e._rawTick0}e._definedDelta=t}function positionPeriodTicks(e,t,r){for(var a=0;a<e.length;a++){var n=e[a].value;var i=a;var o=a+1;if(a<e.length-1){i=a;o=a+1}else if(a>0){i=a-1;o=a}else{i=a;o=a}var l=e[i].value;var s=e[o].value;var c=Math.abs(s-l);var u=r||c;var f=0;if(u>=x){if(c>=x&&c<=P){f=c}else{f=y}}else if(r===_&&u>=R){if(c>=R&&c<=I){f=c}else{f=_}}else if(u>=N){if(c>=N&&c<=F){f=c}else{f=K}}else if(r===b&&u>=b){f=b}else if(u>=w){f=w}else if(r===T&&u>=T){f=T}else if(r===M&&u>=M){f=M}var d;if(f>=c){f=c;d=true}var v=n+f;if(t.rangebreaks&&f>0){var h=84;var p=0;for(var g=0;g<h;g++){var m=(g+.5)/h;if(t.maskBreaks(n*(1-m)+m*v)!==Q)p++}f*=p/h;if(!f){e[a].drop=true}if(d&&c>b)f=c}if(f>0||a===0){e[a].periodX=n+f/2}}}ne.calcTicks=function calcTicks(t,e){var r=t.type;var a=t.calendar;var n=t.ticklabelstep;var i=t.ticklabelmode==="period";var o=re.simpleMap(t.range,t.r2l,undefined,undefined,e);var l=o[1]<o[0];var s=Math.min(o[0],o[1]);var c=Math.max(o[0],o[1]);var N=Math.max(1e3,t._length||0);var u=[];var f=[];var d=[];var v=[];var h=t.minor&&(t.minor.ticks||t.minor.showgrid);for(var p=1;p>=(h?0:1);p--){var E=!p;if(p){t._dtickInit=t.dtick;t._tick0Init=t.tick0}else{t.minor._dtickInit=t.minor.dtick;t.minor._tick0Init=t.minor.tick0}var g=p?t:re.extendFlat({},t,t.minor);if(E){ne.prepMinorTicks(g,t,e)}else{ne.prepTicks(g,e)}if(g.tickmode==="array"){if(p){d=[];u=arrayTicks(t)}else{v=[];f=arrayTicks(t)}continue}if(g.tickmode==="sync"){d=[];u=syncTicks(t);continue}var m=expandRange(o);var y=m[0];var x=m[1];var _=J(g.dtick);var z=r==="log"&&!(_||g.dtick.charAt(0)==="L");var b=ne.tickFirst(g,e);if(p){t._tmin=b;if(b<y!==l)break;if(r==="category"||r==="multicategory"){x=l?Math.max(-.5,x):Math.min(t._categories.length-.5,x)}}var B=null;var w=b;var T;if(p){var k;if(_){k=t.dtick}else{if(r==="date"){if(typeof t.dtick==="string"&&t.dtick.charAt(0)==="M"){k=K*t.dtick.substring(1)}}else{k=t._roughDTick}}T=Math.round((t.r2l(w)-t.r2l(t.tick0))/k)-1}var A=g.dtick;if(g.rangebreaks&&g._tick0Init!==g.tick0){w=moveOutsideBreak(w,t);if(!l){w=ne.tickIncrement(w,A,!l,a)}}if(p&&i){w=ne.tickIncrement(w,A,!l,a);T--}for(;l?w>=x:w<=x;w=ne.tickIncrement(w,A,l,a)){if(p)T++;if(g.rangebreaks){if(!l){if(w<y)continue;if(g.maskBreaks(w)===Q&&moveOutsideBreak(w,g)>=c)break}}if(d.length>N||w===B)break;B=w;var M={value:w};if(p){if(z&&w!==(w|0)){M.simpleLabel=true}if(n>1&&T%n){M.skipLabel=true}d.push(M)}else{M.minor=true;v.push(M)}}}if(h){var H=t.minor.ticks==="inside"&&t.ticks==="outside"||t.minor.ticks==="outside"&&t.ticks==="inside";if(!H){var j=d.map(function(e){return e.value});var V=[];for(var S=0;S<v.length;S++){var Y=v[S];var U=Y.value;if(j.indexOf(U)!==-1){continue}var C=false;for(var L=0;!C&&L<d.length;L++){if(1e7+d[L].value===1e7+U){C=true}}if(!C)V.push(Y)}v=V}}if(i)positionPeriodTicks(d,t,t._definedDelta);var D;if(t.rangebreaks){var G=t._id.charAt(0)==="y";var O=1;if(t.tickmode==="auto"){O=t.tickfont?t.tickfont.size:12}var P=NaN;for(D=d.length-1;D>-1;D--){if(d[D].drop){d.splice(D,1);continue}d[D].value=moveOutsideBreak(d[D].value,t);var I=t.c2p(d[D].value);if(G?P>I-O:P<I+O){d.splice(l?D+1:D,1)}else{P=I}}}if(isAngular(t)&&Math.abs(o[1]-o[0])===360){d.pop()}t._tmax=(d[d.length-1]||{}).value;t._prevDateHead="";t._inCalcTicks=true;var q;var Z=function(e){e.text="";t._prevDateHead=q};d=d.concat(v);var R,F;for(D=0;D<d.length;D++){var W=d[D].minor;var X=d[D].value;if(W){f.push({x:X,minor:true})}else{q=t._prevDateHead;R=ne.tickText(t,X,false,d[D].simpleLabel);F=d[D].periodX;if(F!==undefined){R.periodX=F;if(F>c||F<s){if(F>c)R.periodX=c;if(F<s)R.periodX=s;Z(R)}}if(d[D].skipLabel){Z(R)}u.push(R)}}u=u.concat(f);t._inCalcTicks=false;if(i&&u.length){u[0].noTick=true}return u};function filterRangeBreaks(t,e){if(t.rangebreaks){e=e.filter(function(e){return t.maskBreaks(e.x)!==Q})}return e}function syncTicks(e){var t=e._mainAxis;var r=[];if(t._vals){for(var a=0;a<t._vals.length;a++){if(t._vals[a].noTick){continue}var n=t.l2p(t._vals[a].x);var i=e.p2l(n);var o=ne.tickText(e,i);if(t._vals[a].minor){o.minor=true;o.text=""}r.push(o)}}r=filterRangeBreaks(e,r);return r}function arrayTicks(e){var t=re.simpleMap(e.range,e.r2l);var r=expandRange(t);var a=Math.min(r[0],r[1]);var n=Math.max(r[0],r[1]);var i=e.type==="category"?e.d2l_noadd:e.d2l;if(e.type==="log"&&String(e.dtick).charAt(0)!=="L"){e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1)}var o=[];for(var l=0;l<=1;l++){if(l&&!e.minor)continue;var s=!l?e.tickvals:e.minor.tickvals;var c=!l?e.ticktext:[];if(!s)continue;if(!Array.isArray(c))c=[];for(var u=0;u<s.length;u++){var f=i(s[u]);if(f>a&&f<n){var d=c[u]===undefined?ne.tickText(e,f):tickTextObj(e,f,String(c[u]));if(l){d.minor=true;d.text=""}o.push(d)}}}o=filterRangeBreaks(e,o);return o}var f=[2,5,10];var G=[1,2,3,6,12];var q=[1,2,5,10,15,30];var Z=[1,2,3,7,14];var W=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1];var X=[-.301,0,.301,.699,1];var $=[15,30,45,90,180];function roundDTick(e,t,r){return t*re.roundUp(e/t,r)}ne.autoTicks=function(e,t,r){var a;function getBase(e){return Math.pow(e,Math.floor(Math.log(t)/Math.LN10))}if(e.type==="date"){e.tick0=re.dateTick0(e.calendar,0);var n=2*t;if(n>y){t/=y;a=getBase(10);e.dtick="M"+12*roundDTick(t,a,f)}else if(n>K){t/=K;e.dtick="M"+roundDTick(t,1,G)}else if(n>w){e.dtick=roundDTick(t,w,e._hasDayOfWeekBreaks?[1,2,7,14]:Z);if(!r){var i=ne.getTickFormat(e);var o=e.ticklabelmode==="period";if(o)e._rawTick0=e.tick0;if(/%[uVW]/.test(i)){e.tick0=re.dateTick0(e.calendar,2)}else{e.tick0=re.dateTick0(e.calendar,1)}if(o)e._dowTick0=e.tick0}}else if(n>M){e.dtick=roundDTick(t,M,G)}else if(n>u){e.dtick=roundDTick(t,u,q)}else if(n>d){e.dtick=roundDTick(t,d,q)}else{a=getBase(10);e.dtick=roundDTick(t,a,f)}}else if(e.type==="log"){e.tick0=0;var l=re.simpleMap(e.range,e.r2l);if(e._isMinor){t*=1.5}if(t>.7){e.dtick=Math.ceil(t)}else if(Math.abs(l[1]-l[0])<1){var s=1.5*Math.abs((l[1]-l[0])/t);t=Math.abs(Math.pow(10,l[1])-Math.pow(10,l[0]))/s;a=getBase(10);e.dtick="L"+roundDTick(t,a,f)}else{e.dtick=t>.3?"D2":"D1"}}else if(e.type==="category"||e.type==="multicategory"){e.tick0=0;e.dtick=Math.ceil(Math.max(t,1))}else if(isAngular(e)){e.tick0=0;a=1;e.dtick=roundDTick(t,a,$)}else{e.tick0=0;a=getBase(10);e.dtick=roundDTick(t,a,f)}if(e.dtick===0)e.dtick=1;if(!J(e.dtick)&&typeof e.dtick!=="string"){var c=e.dtick;e.dtick=1;throw"ax.dtick error: "+String(c)}};function autoTickRound(e){var t=e.dtick;e._tickexponent=0;if(!J(t)&&typeof t!=="string"){t=1}if(e.type==="category"||e.type==="multicategory"){e._tickround=null}if(e.type==="date"){var r=e.r2l(e.tick0);var a=e.l2r(r).replace(/(^-|i)/g,"");var n=a.length;if(String(t).charAt(0)==="M"){if(n>10||a.substr(5)!=="01-01")e._tickround="d";else e._tickround=+t.substr(1)%12===0?"y":"m"}else if(t>=w&&n<=10||t>=w*15)e._tickround="d";else if(t>=u&&n<=16||t>=M)e._tickround="M";else if(t>=d&&n<=19||t>=u)e._tickround="S";else{var i=e.l2r(r+t).replace(/^-/,"").length;e._tickround=Math.max(n,i)-20;if(e._tickround<0)e._tickround=4}}else if(J(t)||t.charAt(0)==="L"){var o=e.range.map(e.r2d||Number);if(!J(t))t=Number(t.substr(1));e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var l=Math.max(Math.abs(o[0]),Math.abs(o[1]));var s=Math.floor(Math.log(l)/Math.LN10+.01);var c=e.minexponent===undefined?3:e.minexponent;if(Math.abs(s)>c){if(isSIFormat(e.exponentformat)&&!beyondSI(s)){e._tickexponent=3*Math.round((s-1)/3)}else e._tickexponent=s}}else{e._tickround=null}}ne.tickIncrement=function(e,t,r,a){var n=r?-1:1;if(J(t))return re.increment(e,n*t);var i=t.charAt(0);var o=n*Number(t.substr(1));if(i==="M")return re.incrementMonth(e,o,a);if(i==="L")return Math.log(Math.pow(10,e)+o)/Math.LN10;if(i==="D"){var l=t==="D2"?X:W;var s=e+n*.01;var c=re.roundUp(re.mod(s,1),l,r);return Math.floor(s)+Math.log(k.round(Math.pow(10,c),1))/Math.LN10}throw"unrecognized dtick "+String(t)};ne.tickFirst=function(e,t){var r=e.r2l||Number;var a=re.simpleMap(e.range,r,undefined,undefined,t);var n=a[1]<a[0];var i=n?Math.floor:Math.ceil;var o=expandRange(a)[0];var l=e.dtick;var s=r(e.tick0);if(J(l)){var c=i((o-s)/l)*l+s;if(e.type==="category"||e.type==="multicategory"){c=re.constrain(c,0,e._categories.length-1)}return c}var u=l.charAt(0);var f=Number(l.substr(1));if(u==="M"){var d=0;var v=s;var h,p,g;while(d<10){h=ne.tickIncrement(v,l,n,e.calendar);if((h-o)*(v-o)<=0){if(n)return Math.min(v,h);return Math.max(v,h)}p=(o-(v+h)/2)/(h-v);g=u+(Math.abs(Math.round(p))||1)*f;v=ne.tickIncrement(v,g,p<0?!n:n,e.calendar);d++}re.error("tickFirst did not converge",e);return v}else if(u==="L"){return Math.log(i((Math.pow(10,o)-s)/f)*f+s)/Math.LN10}else if(u==="D"){var m=l==="D2"?X:W;var y=re.roundUp(re.mod(o,1),m,n);return Math.floor(o)+Math.log(k.round(Math.pow(10,y),1))/Math.LN10}else throw"unrecognized dtick "+String(l)};ne.tickText=function(r,a,n,e){var t=tickTextObj(r,a);var i=r.tickmode==="array";var o=n||i;var l=r.type;var s=l==="category"?r.d2l_noadd:r.d2l;var c;if(i&&Array.isArray(r.ticktext)){var u=re.simpleMap(r.range,r.r2l);var f=(Math.abs(u[1]-u[0])-(r._lBreaks||0))/1e4;for(c=0;c<r.ticktext.length;c++){if(Math.abs(a-s(r.tickvals[c]))<f)break}if(c<r.ticktext.length){t.text=String(r.ticktext[c]);return t}}function isHidden(e){if(e===undefined)return true;if(n)return e==="none";var t={first:r._tmin,last:r._tmax}[e];return e!=="all"&&a!==t}var d=n?"never":r.exponentformat!=="none"&&isHidden(r.showexponent)?"hide":"";if(l==="date")formatDate(r,t,n,o);else if(l==="log")formatLog(r,t,n,o,d);else if(l==="category")formatCategory(r,t);else if(l==="multicategory")formatMultiCategory(r,t,n);else if(isAngular(r))formatAngle(r,t,n,o,d);else formatLinear(r,t,n,o,d);if(!e){if(r.tickprefix&&!isHidden(r.showtickprefix))t.text=r.tickprefix+t.text;if(r.ticksuffix&&!isHidden(r.showticksuffix))t.text+=r.ticksuffix}if(r.labelalias&&r.labelalias.hasOwnProperty(t.text)){var v=r.labelalias[t.text];if(typeof v==="string")t.text=v}if(r.tickson==="boundaries"||r.showdividers){var h=function(e){var t=r.l2p(e);return t>=0&&t<=r._length?e:null};t.xbnd=[h(t.x-.5),h(t.x+r.dtick-.5)]}return t};ne.hoverLabelText=function(e,t,r){if(r)e=re.extendFlat({},e,{hoverformat:r});var a=Array.isArray(t)?t[0]:t;var n=Array.isArray(t)?t[1]:undefined;if(n!==undefined&&n!==a){return ne.hoverLabelText(e,a,r)+" - "+ne.hoverLabelText(e,n,r)}var i=e.type==="log"&&a<=0;var o=ne.tickText(e,e.c2l(i?-a:a),"hover").text;if(i){return a===0?"0":p+o}return o};function tickTextObj(e,t,r){var a=e.tickfont||{};return{x:t,dx:0,dy:0,text:r||"",fontSize:a.size,font:a.family,fontColor:a.color}}function formatDate(e,t,r,a){var n=e._tickround;var i=r&&e.hoverformat||ne.getTickFormat(e);if(a){if(J(n))n=4;else n={y:"m",m:"d",d:"M",M:"S",S:4}[n]}var o=re.formatDate(t.x,i,n,e._dateFormat,e.calendar,e._extraFormat);var l;var s=o.indexOf("\n");if(s!==-1){l=o.substr(s+1);o=o.substr(0,s)}if(a){if(o==="00:00:00"||o==="00:00"){o=l;l=""}else if(o.length===8){o=o.replace(/:00$/,"")}}if(l){if(r){if(n==="d")o+=", "+l;else o=l+(o?", "+o:"")}else{if(!e._inCalcTicks||e._prevDateHead!==l){e._prevDateHead=l;o+="<br>"+l}else{var c=insideTicklabelposition(e);var u=e._trueSide||e.side;if(!c&&u==="top"||c&&u==="bottom"){o+="<br> "}}}}t.text=o}function formatLog(e,t,r,a,n){var i=e.dtick;var o=t.x;var l=e.tickformat;var s=typeof i==="string"&&i.charAt(0);if(n==="never"){n=""}if(a&&s!=="L"){i="L3";s="L"}if(l||s==="L"){t.text=numFormat(Math.pow(10,o),e,n,a)}else if(J(i)||s==="D"&&re.mod(o+.01,1)<.1){var c=Math.round(o);var u=Math.abs(c);var f=e.exponentformat;if(f==="power"||isSIFormat(f)&&beyondSI(c)){if(c===0)t.text=1;else if(c===1)t.text="10";else t.text="10<sup>"+(c>1?"":p)+u+"</sup>";t.fontSize*=1.25}else if((f==="e"||f==="E")&&u>2){t.text="1"+f+(c>0?"+":p)+u}else{t.text=numFormat(Math.pow(10,o),e,"","fakehover");if(i==="D1"&&e._id.charAt(0)==="y"){t.dy-=t.fontSize/6}}}else if(s==="D"){t.text=String(Math.round(Math.pow(10,re.mod(o,1))));t.fontSize*=.75}else throw"unrecognized dtick "+String(i);if(e.dtick==="D1"){var d=String(t.text).charAt(0);if(d==="0"||d==="1"){if(e._id.charAt(0)==="y"){t.dx-=t.fontSize/4}else{t.dy+=t.fontSize/2;t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(o<0?.5:.25)}}}}function formatCategory(e,t){var r=e._categories[Math.round(t.x)];if(r===undefined)r="";t.text=String(r)}function formatMultiCategory(e,t,r){var a=Math.round(t.x);var n=e._categories[a]||[];var i=n[1]===undefined?"":String(n[1]);var o=n[0]===undefined?"":String(n[0]);if(r){t.text=o+" - "+i}else{t.text=i;t.text2=o}}function formatLinear(e,t,r,a,n){if(n==="never"){n=""}else if(e.showexponent==="all"&&Math.abs(t.x/e.dtick)<1e-6){n="hide"}t.text=numFormat(t.x,e,n,a)}function formatAngle(e,t,r,a,n){if(e.thetaunit==="radians"&&!r){var i=t.x/180;if(i===0){t.text="0"}else{var o=num2frac(i);if(o[1]>=100){t.text=numFormat(re.deg2rad(t.x),e,n,a)}else{var l=t.x<0;if(o[1]===1){if(o[0]===1)t.text="";else t.text=o[0]+""}else{t.text=["<sup>",o[0],"</sup>","","<sub>",o[1],"</sub>",""].join("")}if(l)t.text=p+t.text}}}else{t.text=numFormat(t.x,e,n,a)}}function num2frac(e){function almostEq(e,t){return Math.abs(e-t)<=1e-6}function findGCD(e,t){return almostEq(t,0)?e:findGCD(t,e%t)}function findPrecision(e){var t=1;while(!almostEq(Math.round(e*t)/t,e)){t*=10}return t}var t=findPrecision(e);var r=e*t;var a=Math.abs(findGCD(r,t));return[Math.round(r/a),Math.round(t/a)]}var oe=["f","p","n","","m","","k","M","G","T"];function isSIFormat(e){return e==="SI"||e==="B"}function beyondSI(e){return e>14||e<-15}function numFormat(e,t,r,a){var n=e<0;var i=t._tickround;var o=r||t.exponentformat||"B";var l=t._tickexponent;var s=ne.getTickFormat(t);var c=t.separatethousands;if(a){var u={exponentformat:o,minexponent:t.minexponent,dtick:t.showexponent==="none"?t.dtick:J(e)?Math.abs(e)||1:1,range:t.showexponent==="none"?t.range.map(t.r2d):[0,e||1]};autoTickRound(u);i=(Number(u._tickround)||0)+4;l=u._tickexponent;if(t.hoverformat)s=t.hoverformat}if(s)return t._numFormat(s)(e).replace(/-/g,p);var f=Math.pow(10,-i)/2;if(o==="none")l=0;e=Math.abs(e);if(e<f){e="0";n=false}else{e+=f;if(l){e*=Math.pow(10,-l);i+=l}if(i===0)e=String(Math.floor(e));else if(i<0){e=String(Math.round(e));e=e.substr(0,e.length+i);for(var d=i;d<0;d++)e+="0"}else{e=String(e);var v=e.indexOf(".")+1;if(v)e=e.substr(0,v+i).replace(/\.?0+$/,"")}e=re.numSeparate(e,t._separators,c)}if(l&&o!=="hide"){if(isSIFormat(o)&&beyondSI(l))o="power";var h;if(l<0)h=p+-l;else if(o!=="power")h="+"+l;else h=String(l);if(o==="e"||o==="E"){e+=o+h}else if(o==="power"){e+="10<sup>"+h+"</sup>"}else if(o==="B"&&l===9){e+="B"}else if(isSIFormat(o)){e+=oe[l/3+5]}}if(n)return p+e;return e}ne.getTickFormat=function(e){var t;function convertToMs(e){return typeof e!=="string"?e:Number(e.replace("M",""))*K}function compareLogTicks(e,t){var r=["L","D"];if(typeof e===typeof t){if(typeof e==="number"){return e-t}else{var a=r.indexOf(e.charAt(0));var n=r.indexOf(t.charAt(0));if(a===n){return Number(e.replace(/(L|D)/g,""))-Number(t.replace(/(L|D)/g,""))}else{return a-n}}}else{return typeof e==="number"?1:-1}}function isProperStop(e,t,r){var a=r||function(e){return e};var n=t[0];var i=t[1];return(!n&&typeof n!=="number"||a(n)<=a(e))&&(!i&&typeof i!=="number"||a(i)>=a(e))}function isProperLogStop(e,t){var r=t[0]===null;var a=t[1]===null;var n=compareLogTicks(e,t[0])>=0;var i=compareLogTicks(e,t[1])<=0;return(r||n)&&(a||i)}var r,a;if(e.tickformatstops&&e.tickformatstops.length>0){switch(e.type){case"date":case"linear":{for(t=0;t<e.tickformatstops.length;t++){a=e.tickformatstops[t];if(a.enabled&&isProperStop(e.dtick,a.dtickrange,convertToMs)){r=a;break}}break}case"log":{for(t=0;t<e.tickformatstops.length;t++){a=e.tickformatstops[t];if(a.enabled&&isProperLogStop(e.dtick,a.dtickrange)){r=a;break}}break}default:}}return r?r.value:e.tickformat};ne.getSubplots=function(e,t){var r=e._fullLayout._subplots;var a=r.cartesian.concat(r.gl2d||[]);var n=t?ne.findSubplotsWithAxis(a,t):a;n.sort(function(e,t){var r=e.substr(1).split("y");var a=t.substr(1).split("y");if(r[0]===a[0])return+r[1]-+a[1];return+r[0]-+a[0]});return n};ne.findSubplotsWithAxis=function(e,t){var r=new RegExp(t._id.charAt(0)==="x"?"^"+t._id+"y":t._id+"$");var a=[];for(var n=0;n<e.length;n++){var i=e[n];if(r.test(i))a.push(i)}return a};ne.makeClipPaths=function(e){var t=e._fullLayout;if(t._hasOnlyLargeSploms)return;var r={_offset:0,_length:t.width,_id:""};var a={_offset:0,_length:t.height,_id:""};var n=ne.list(e,"x",true);var i=ne.list(e,"y",true);var o=[];var l,s;for(l=0;l<n.length;l++){o.push({x:n[l],y:a});for(s=0;s<i.length;s++){if(l===0)o.push({x:r,y:i[s]});o.push({x:n[l],y:i[s]})}}var c=t._clips.selectAll(".axesclip").data(o,function(e){return e.x._id+e.y._id});c.enter().append("clipPath").classed("axesclip",true).attr("id",function(e){return"clip"+t._uid+e.x._id+e.y._id}).append("rect");c.exit().remove();c.each(function(e){k.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})})};ne.draw=function(a,e,n){var i=a._fullLayout;if(e==="redraw"){i._paper.selectAll("g.subplot").each(function(e){var t=e[0];var r=i._plots[t];if(r){var a=r.xaxis;var n=r.yaxis;r.xaxislayer.selectAll("."+a._id+"tick").remove();r.yaxislayer.selectAll("."+n._id+"tick").remove();r.xaxislayer.selectAll("."+a._id+"tick2").remove();r.yaxislayer.selectAll("."+n._id+"tick2").remove();r.xaxislayer.selectAll("."+a._id+"divider").remove();r.yaxislayer.selectAll("."+n._id+"divider").remove();if(r.minorGridlayer)r.minorGridlayer.selectAll("path").remove();if(r.gridlayer)r.gridlayer.selectAll("path").remove();if(r.zerolinelayer)r.zerolinelayer.selectAll("path").remove();i._infolayer.select(".g-"+a._id+"title").remove();i._infolayer.select(".g-"+n._id+"title").remove()}})}var o=!e||e==="redraw"?ne.listIds(a):e;var t=ne.list(a);var l=t.filter(function(e){return e.autoshift}).map(function(e){return e.overlaying});o.map(function(e){var t=ne.getFromId(a,e);if(t.tickmode==="sync"&&t.overlaying){var r=o.findIndex(function(e){return e===t.overlaying});if(r>=0){o.unshift(o.splice(r,1).shift())}}});var s={"false":{left:0,right:0}};return re.syncOrAsync(o.map(function(r){return function(){if(!r)return;var e=ne.getFromId(a,r);if(!n)n={};n.axShifts=s;n.overlayingShiftedAx=l;var t=ne.drawOne(a,e,n);if(e._shiftPusher){incrementShift(e,e._fullDepth||0,s,true)}e._r=e.range.slice();e._rl=re.simpleMap(e._r,e.r2l);return t}}))};ne.drawOne=function(g,m,e){e=e||{};var t=e.axShifts||{};var r=e.overlayingShiftedAx||[];var a,n,i;m.setScale();var y=g._fullLayout;var o=m._id;var x=o.charAt(0);var _=ne.counterLetter(o);var l=y._plots[m._mainSubplot];if(!l)return;m._shiftPusher=m.autoshift||r.indexOf(m._id)!==-1||r.indexOf(m.overlaying)!==-1;if(m._shiftPusher&m.anchor==="free"){var s=m.linewidth/2||0;if(m.ticks==="inside"){s+=m.ticklen}incrementShift(m,s,t,true);incrementShift(m,m.shift||0,t,false)}if(e.skipTitle!==true||m._shift===undefined)m._shift=setShiftVal(m,t);var c=l[x+"axislayer"];var F=m._mainLinePosition;var u=F+=m._shift;var f=m._mainMirrorPosition;var d=m._vals=ne.calcTicks(m);var N=[m.mirror,u,f].join("_");for(a=0;a<d.length;a++){d[a].axInfo=N}m._selections={};if(m._tickAngles)m._prevTickAngles=m._tickAngles;m._tickAngles={};m._depth=null;var v={};function getLabelLevelBbox(e){var t=o+(e||"tick");if(!v[t])v[t]=calcLabelLevelBbox(m,t);return v[t]}if(!m.visible)return;var h=ne.makeTransTickFn(m);var E=ne.makeTransTickLabelFn(m);var p;var b;var z=m.ticks==="inside";var B=m.ticks==="outside";if(m.tickson==="boundaries"){var H=getBoundaryVals(m,d);b=ne.clipEnds(m,H);p=z?b:H}else{b=ne.clipEnds(m,d);p=z&&m.ticklabelmode!=="period"?b:d}var j=m._gridVals=b;var w=getDividerVals(m,d);if(!y._hasOnlyLargeSploms){var V=m._subplotsWith;var Y={};for(a=0;a<V.length;a++){n=V[a];i=y._plots[n];var T=i[_+"axis"];var U=T._mainAxis._id;if(Y[U])continue;Y[U]=1;var G=x==="x"?"M0,"+T._offset+"v"+T._length:"M"+T._offset+",0h"+T._length;ne.drawGrid(g,m,{vals:j,counterAxis:T,layer:i.gridlayer.select("."+o),minorLayer:i.minorGridlayer.select("."+o),path:G,transFn:h});ne.drawZeroLine(g,m,{counterAxis:T,layer:i.zerolinelayer,path:G,transFn:h})}}var k;var A=ne.getTickSigns(m);var M=ne.getTickSigns(m,"minor");if(m.ticks||m.minor&&m.minor.ticks){var q=ne.makeTickPath(m,u,A[2]);var Z=ne.makeTickPath(m,u,M[2],{minor:true});var S;var C;var L;var D;if(m._anchorAxis&&m.mirror&&m.mirror!==true){S=ne.makeTickPath(m,f,A[3]);C=ne.makeTickPath(m,f,M[3],{minor:true});L=q+S;D=Z+C}else{S="";C="";L=q;D=Z}if(m.showdividers&&B&&m.tickson==="boundaries"){var W={};for(a=0;a<w.length;a++){W[w[a].x]=1}k=function(e){return W[e.x]?S:L}}else{k=function(e){return e.minor?D:L}}}ne.drawTicks(g,m,{vals:p,layer:c,path:k,transFn:h});if(m.mirror==="allticks"){var X=Object.keys(m._linepositions||{});for(a=0;a<X.length;a++){n=X[a];i=y._plots[n];var O=m._linepositions[n]||[];var J=O[0];var K=O[1];var P=O[2];var Q=ne.makeTickPath(m,J,P?A[0]:M[0],{minor:P})+ne.makeTickPath(m,K,P?A[1]:M[1],{minor:P});ne.drawTicks(g,m,{vals:p,layer:i[x+"axislayer"],path:Q,transFn:h})}}var I=[];I.push(function(){return ne.drawLabels(g,m,{vals:d,layer:c,plotinfo:i,transFn:E,labelFns:ne.makeLabelFns(m,u)})});if(m.type==="multicategory"){var $={x:2,y:10}[x];I.push(function(){var e={x:"height",y:"width"}[x];var t=getLabelLevelBbox()[e]+$+(m._tickAngles[o+"tick"]?m.tickfont.size*ae:0);return ne.drawLabels(g,m,{vals:getSecondaryLabelVals(m,d),layer:c,cls:o+"tick2",repositionOnUpdate:true,secondary:true,transFn:h,labelFns:ne.makeLabelFns(m,u+t*A[4])})});I.push(function(){m._depth=A[4]*(getLabelLevelBbox("tick2")[m.side]-u);return drawDividers(g,m,{vals:w,layer:c,path:ne.makeTickPath(m,u,A[4],{len:m._depth}),transFn:h})})}else if(m.title.hasOwnProperty("standoff")){I.push(function(){m._depth=A[4]*(getLabelLevelBbox()[m.side]-u)})}var R=te.getComponentMethod("rangeslider","isVisible")(m);if(!e.skipTitle&&!(R&&m.side==="bottom")){I.push(function(){return drawTitle(g,m)})}I.push(function(){var e=m.side.charAt(0);var t=ie[m.side].charAt(0);var r=ne.getPxPosition(g,m);var a=B?m.ticklen:0;var n;var i;var o;var l;if(m.automargin||R||m._shiftPusher){if(m.type==="multicategory"){n=getLabelLevelBbox("tick2")}else{n=getLabelLevelBbox();if(x==="x"&&e==="b"){m._depth=Math.max(n.width>0?n.bottom-r:0,a)}}}var s=0;var c=0;if(m._shiftPusher){s=Math.max(a,n.height>0?e==="l"?r-n.left:n.right-r:0);if(m.title.text!==y._dfltTitle[x]){c=(m._titleStandoff||0)+(m._titleScoot||0);if(e==="l"){c+=approxTitleDepth(m)}}m._fullDepth=Math.max(s,c)}if(m.automargin){i={x:0,y:0,r:0,l:0,t:0,b:0};var u=[0,1];var f=typeof m._shift==="number"?m._shift:0;if(x==="x"){if(e==="b"){i[e]=m._depth}else{i[e]=m._depth=Math.max(n.width>0?r-n.top:0,a);u.reverse()}if(n.width>0){var d=n.right-(m._offset+m._length);if(d>0){i.xr=1;i.r=d}var v=m._offset-n.left;if(v>0){i.xl=0;i.l=v}}}else{if(e==="l"){m._depth=Math.max(n.height>0?r-n.left:0,a);i[e]=m._depth-f}else{m._depth=Math.max(n.height>0?n.right-r:0,a);i[e]=m._depth+f;u.reverse()}if(n.height>0){var h=n.bottom-(m._offset+m._length);if(h>0){i.yb=0;i.b=h}var p=m._offset-n.top;if(p>0){i.yt=1;i.t=p}}}i[_]=m.anchor==="free"?m.position:m._anchorAxis.domain[u[0]];if(m.title.text!==y._dfltTitle[x]){i[e]+=approxTitleDepth(m)+(m.title.standoff||0)}if(m.mirror&&m.anchor!=="free"){o={x:0,y:0,r:0,l:0,t:0,b:0};o[t]=m.linewidth;if(m.mirror&&m.mirror!==true)o[t]+=a;if(m.mirror===true||m.mirror==="ticks"){o[_]=m._anchorAxis.domain[u[1]]}else if(m.mirror==="all"||m.mirror==="allticks"){o[_]=[m._counterDomainMin,m._counterDomainMax][u[1]]}}}if(R){l=te.getComponentMethod("rangeslider","autoMarginOpts")(g,m)}if(typeof m.automargin==="string"){filterPush(i,m.automargin);filterPush(o,m.automargin)}ee.autoMargin(g,axAutoMarginID(m),i);ee.autoMargin(g,axMirrorAutoMarginID(m),o);ee.autoMargin(g,rangeSliderAutoMarginID(m),l)});return re.syncOrAsync(I)};function filterPush(t,r){if(!t)return;var a=Object.keys(o).reduce(function(t,e){if(r.indexOf(e)!==-1){o[e].forEach(function(e){t[e]=1})}return t},{});Object.keys(t).forEach(function(e){if(!a[e]){if(e.length===1)t[e]=0;else delete t[e]}})}function getBoundaryVals(e,t){var a=[];var r;var n=function(e,t){var r=e.xbnd[t];if(r!==null){a.push(re.extendFlat({},e,{x:r}))}};if(t.length){for(r=0;r<t.length;r++){n(t[r],0)}n(t[r-1],1)}return a}function getSecondaryLabelVals(e,t){var r=[];var a={};for(var n=0;n<t.length;n++){var i=t[n];if(a[i.text2]){a[i.text2].push(i.x)}else{a[i.text2]=[i.x]}}for(var o in a){r.push(tickTextObj(e,re.interp(a[o],.5),o))}return r}function getDividerVals(e,t){var a=[];var r,n;var i=t.length&&t[t.length-1].x<t[0].x;var o=function(e,t){var r=e.xbnd[t];if(r!==null){a.push(re.extendFlat({},e,{x:r}))}};if(e.showdividers&&t.length){for(r=0;r<t.length;r++){var l=t[r];if(l.text2!==n){o(l,i?1:0)}n=l.text2}o(t[r-1],i?0:1)}return a}function calcLabelLevelBbox(e,t){var r,a;var n,i;if(e._selections[t].size()){r=Infinity;a=-Infinity;n=Infinity;i=-Infinity;e._selections[t].each(function(){var e=selectTickLabel(this);var t=A.bBox(e.node().parentNode);r=Math.min(r,t.top);a=Math.max(a,t.bottom);n=Math.min(n,t.left);i=Math.max(i,t.right)})}else{r=0;a=0;n=0;i=0}return{top:r,bottom:a,left:n,right:i,height:a-r,width:i-n}}ne.getTickSigns=function(e,t){var r=e._id.charAt(0);var a={x:"top",y:"right"}[r];var n=e.side===a?1:-1;var i=[-1,1,n,-n];var o=t?(e.minor||{}).ticks:e.ticks;if(o!=="inside"===(r==="x")){i=i.map(function(e){return-e})}if(e.side){i.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)])}return i};ne.makeTransTickFn=function(t){return t._id.charAt(0)==="x"?function(e){return v(t._offset+t.l2p(e.x),0)}:function(e){return v(0,t._offset+t.l2p(e.x))}};ne.makeTransTickLabelFn=function(t){var e=getTickLabelUV(t);var r=e[0];var a=e[1];return t._id.charAt(0)==="x"?function(e){return v(r+t._offset+t.l2p(getPosX(e)),a)}:function(e){return v(a,r+t._offset+t.l2p(getPosX(e)))}};function getPosX(e){return e.periodX!==undefined?e.periodX:e.x}function getTickLabelUV(e){var t=e.ticklabelposition||"";var r=function(e){return t.indexOf(e)!==-1};var a=r("top");var n=r("left");var i=r("right");var o=r("bottom");var l=r("inside");var s=o||n||a||i;if(!s&&!l)return[0,0];var c=e.side;var u=s?(e.tickwidth||0)/2:0;var f=B;var d=e.tickfont?e.tickfont.size:12;if(o||a){u+=d*L;f+=(e.linewidth||0)/2}if(n||i){u+=(e.linewidth||0)/2;f+=B}if(l&&c==="top"){f-=d*(1-L)}if(n||a)u=-u;if(c==="bottom"||c==="right")f=-f;return[s?u:0,l?f:0]}ne.makeTickPath=function(e,t,r,a){if(!a)a={};var n=a.minor;if(n&&!e.minor)return"";var i=a.len!==undefined?a.len:n?e.minor.ticklen:e.ticklen;var o=e._id.charAt(0);var l=(e.linewidth||1)/2;return o==="x"?"M0,"+(t+l*r)+"v"+i*r:"M"+(t+l*r)+",0h"+i*r};ne.makeLabelFns=function(a,t,e){var r=a.ticklabelposition||"";var n=function(e){return r.indexOf(e)!==-1};var i=n("top");var o=n("left");var l=n("right");var s=n("bottom");var c=s||o||i||l;var u=n("inside");var f=r==="inside"&&a.ticks==="inside"||!u&&a.ticks==="outside"&&a.tickson!=="boundaries";var d=0;var v=0;var h=f?a.ticklen:0;if(u){h*=-1}else if(c){h=0}if(f){d+=h;if(e){var p=re.deg2rad(e);d=h*Math.cos(p)+1;v=h*Math.sin(p)}}if(a.showticklabels&&(f||a.showline)){d+=.2*a.tickfont.size}d+=(a.linewidth||1)/2*(u?-1:1);var g={labelStandoff:d,labelShift:v};var m,y,x,_;var b=0;var w=a.side;var T=a._id.charAt(0);var k=a.tickangle;var A;if(T==="x"){A=!u&&w==="bottom"||u&&w==="top";_=A?1:-1;if(u)_*=-1;m=v*_;y=t+d*_;x=A?1:-.2;if(Math.abs(k)===90){if(u){x+=C}else{if(k===-90&&w==="bottom"){x=L}else if(k===90&&w==="top"){x=C}else{x=.5}}b=C/2*(k/90)}g.xFn=function(e){return e.dx+m+b*e.fontSize};g.yFn=function(e){return e.dy+y+e.fontSize*x};g.anchorFn=function(e,t){if(c){if(o)return"end";if(l)return"start"}if(!J(t)||t===0||t===180){return"middle"}return t*_<0!==u?"end":"start"};g.heightFn=function(e,t,r){return t<-60||t>60?-.5*r:a.side==="top"!==u?-r:0}}else if(T==="y"){A=!u&&w==="left"||u&&w==="right";_=A?1:-1;if(u)_*=-1;m=d;y=v*_;x=0;if(!u&&Math.abs(k)===90){if(k===-90&&w==="left"||k===90&&w==="right"){x=L}else{x=.5}}if(u){var M=J(k)?+k:0;if(M!==0){var S=re.deg2rad(M);b=Math.abs(Math.sin(S))*L*_;x=0}}g.xFn=function(e){return e.dx+t-(m+e.fontSize*x)*_+b*e.fontSize};g.yFn=function(e){return e.dy+y+e.fontSize*C};g.anchorFn=function(e,t){if(J(t)&&Math.abs(t)===90){return"middle"}return A?"end":"start"};g.heightFn=function(e,t,r){if(a.side==="right")t*=-1;return t<-30?-r:t<30?-.5*r:0}}return g};function tickDataFn(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}ne.drawTicks=function(t,r,e){e=e||{};var a=r._id+"tick";var n=[].concat(r.minor&&r.minor.ticks?e.vals.filter(function(e){return e.minor&&!e.noTick}):[]).concat(r.ticks?e.vals.filter(function(e){return!e.minor&&!e.noTick}):[]);var i=e.layer.selectAll("path."+a).data(n,tickDataFn);i.exit().remove();i.enter().append("path").classed(a,1).classed("ticks",1).classed("crisp",e.crisp!==false).each(function(e){return m.stroke(k.select(this),e.minor?r.minor.tickcolor:r.tickcolor)}).style("stroke-width",function(e){return A.crispRound(t,e.minor?r.minor.tickwidth:r.tickwidth,1)+"px"}).attr("d",e.path).style("display",null);hideCounterAxisInsideTickLabels(r,[s]);i.attr("transform",e.transFn)};ne.drawGrid=function(e,t,r){r=r||{};if(t.tickmode==="sync"){return}var a=t._id+"grid";var n=t.minor&&t.minor.showgrid;var i=n?r.vals.filter(function(e){return e.minor}):[];var o=t.showgrid?r.vals.filter(function(e){return!e.minor}):[];var l=r.counterAxis;if(l&&ne.shouldShowZeroLine(e,t,l)){var s=t.tickmode==="array";for(var c=0;c<o.length;c++){var u=o[c].x;if(s?!u:Math.abs(u)<t.dtick/100){o=o.slice(0,c).concat(o.slice(c+1));if(s)c--;else break}}}t._gw=A.crispRound(e,t.gridwidth,1);var f=!n?0:A.crispRound(e,t.minor.gridwidth,1);var d=r.layer;var v=r.minorLayer;for(var h=1;h>=0;h--){var p=h?d:v;if(!p)continue;var g=p.selectAll("path."+a).data(h?o:i,tickDataFn);g.exit().remove();g.enter().append("path").classed(a,1).classed("crisp",r.crisp!==false);g.attr("transform",r.transFn).attr("d",r.path).each(function(e){return m.stroke(k.select(this),e.minor?t.minor.gridcolor:t.gridcolor||"#ddd")}).style("stroke-dasharray",function(e){return A.dashStyle(e.minor?t.minor.griddash:t.griddash,e.minor?t.minor.gridwidth:t.gridwidth)}).style("stroke-width",function(e){return(e.minor?f:t._gw)+"px"}).style("display",null);if(typeof r.path==="function")g.attr("d",r.path)}hideCounterAxisInsideTickLabels(t,[E,z])};ne.drawZeroLine=function(e,t,r){r=r||r;var a=t._id+"zl";var n=ne.shouldShowZeroLine(e,t,r.counterAxis);var i=r.layer.selectAll("path."+a).data(n?[{x:0,id:t._id}]:[]);i.exit().remove();i.enter().append("path").classed(a,1).classed("zl",1).classed("crisp",r.crisp!==false).each(function(){r.layer.selectAll("path").sort(function(e,t){return H(e.id,t.id)})});i.attr("transform",r.transFn).attr("d",r.path).call(m.stroke,t.zerolinecolor||m.defaultLine).style("stroke-width",A.crispRound(e,t.zerolinewidth,t._gw||1)+"px").style("display",null);hideCounterAxisInsideTickLabels(t,[l])};ne.drawLabels=function(h,m,y){y=y||{};var p=h._fullLayout;var e=m._id;var x=e.charAt(0);var t=y.cls||e+"tick";var _=y.vals.filter(function(e){return e.text});var d=y.labelFns;var b=y.secondary?0:m.tickangle;var r=(m._prevTickAngles||{})[t];var w=y.layer.selectAll("g."+t).data(m.showticklabels?_:[],tickDataFn);var a=[];w.enter().append("g").classed(t,1).append("text").attr("text-anchor","middle").each(function(e){var t=k.select(this);var r=h._promises.length;t.call(g.positionText,d.xFn(e),d.yFn(e)).call(A.font,e.font,e.fontSize,e.fontColor).text(e.text).call(g.convertToTspans,h);if(h._promises[r]){a.push(h._promises.pop().then(function(){positionLabels(t,b)}))}else{positionLabels(t,b)}});hideCounterAxisInsideTickLabels(m,[c]);w.exit().remove();if(y.repositionOnUpdate){w.each(function(e){k.select(this).select("text").call(g.positionText,d.xFn(e),d.yFn(e))})}function positionLabels(e,f){e.each(function(e){var t=k.select(this);var r=t.select(".text-math-group");var a=d.anchorFn(e,f);var n=y.transFn.call(t.node(),e)+(J(f)&&+f!==0?" rotate("+f+","+d.xFn(e)+","+(d.yFn(e)-e.fontSize/2)+")":"");var i=g.lineCount(t);var o=ae*e.fontSize;var l=d.heightFn(e,J(f)?+f:0,(i-1)*o);if(l){n+=v(0,l)}if(r.empty()){var s=t.select("text");s.attr({transform:n,"text-anchor":a});s.style("opacity",1);if(m._adjustTickLabelsOverflow){m._adjustTickLabelsOverflow()}}else{var c=A.bBox(r.node()).width;var u=c*{end:-.5,start:.5}[a];r.attr("transform",n+v(u,0))}})}m._adjustTickLabelsOverflow=function(){var e=m.ticklabeloverflow;if(!e||e==="allow")return;var o=e.indexOf("hide")!==-1;var l=m._id.charAt(0)==="x";var t=0;var r=l?h._fullLayout.width:h._fullLayout.height;if(e.indexOf("domain")!==-1){var a=re.simpleMap(m.range,m.r2l);t=m.l2p(a[0])+m._offset;r=m.l2p(a[1])+m._offset}var s=Math.min(t,r);var c=Math.max(t,r);var u=m.side;var f=Infinity;var d=-Infinity;w.each(function(e){var t=k.select(this);var r=t.select(".text-math-group");if(r.empty()){var a=A.bBox(t.node());var n=0;if(l){if(a.right>c)n=1;else if(a.left<s)n=1}else{if(a.bottom>c)n=1;else if(a.top+(m.tickangle?0:e.fontSize/4)<s)n=1}var i=t.select("text");if(n){if(o)i.style("opacity",0)}else{i.style("opacity",1);if(u==="bottom"||u==="right"){f=Math.min(f,l?a.top:a.left)}else{f=-Infinity}if(u==="top"||u==="left"){d=Math.max(d,l?a.bottom:a.right)}else{d=Infinity}}}});for(var n in p._plots){var i=p._plots[n];if(m._id!==i.xaxis._id&&m._id!==i.yaxis._id)continue;var v=l?i.yaxis:i.xaxis;if(v){v["_visibleLabelMin_"+m._id]=f;v["_visibleLabelMax_"+m._id]=d}}};m._hideCounterAxisInsideTickLabels=function(e){var t=m._id.charAt(0)==="x";var r=[];for(var a in p._plots){var n=p._plots[a];if(m._id!==n.xaxis._id&&m._id!==n.yaxis._id)continue;r.push(t?n.yaxis:n.xaxis)}r.forEach(function(i,o){if(i&&insideTicklabelposition(i)){(e||[l,z,E,s,c]).forEach(function(a){var n=a.K==="tick"&&a.L==="text"&&m.ticklabelmode==="period";var e=p._plots[m._mainSubplot];var t;if(a.K===l.K)t=e.zerolinelayer.selectAll("."+m._id+"zl");else if(a.K===z.K)t=e.minorGridlayer.selectAll("."+m._id);else if(a.K===E.K)t=e.gridlayer.selectAll("."+m._id);else t=e[m._id.charAt(0)+"axislayer"];t.each(function(){var e=k.select(this);if(a.L)e=e.selectAll(a.L);e.each(function(e){var t=m.l2p(n?getPosX(e):e.x)+m._offset;var r=k.select(this);if(t<m["_visibleLabelMax_"+i._id]&&t>m["_visibleLabelMin_"+i._id]){r.style("display","none")}else if(a.K==="tick"&&!o){r.style("display",null)}})})})}})};positionLabels(w,r+1?r:b);function allLabelsReady(){return a.length&&Promise.all(a)}var T=null;function fixLabelOverlaps(){positionLabels(w,b);if(_.length&&x==="x"&&!J(b)&&(m.type!=="log"||String(m.dtick).charAt(0)!=="D")){T=0;var n=0;var i=[];var e;w.each(function(e){n=Math.max(n,e.fontSize);var t=m.l2p(e.x);var r=selectTickLabel(this);var a=A.bBox(r.node());i.push({top:0,bottom:10,height:10,left:t-a.width/2,right:t+a.width/2+2,width:a.width+2})});if((m.tickson==="boundaries"||m.showdividers)&&!y.secondary){var t=2;if(m.ticks)t+=m.tickwidth/2;for(e=0;e<i.length;e++){var r=_[e].xbnd;var a=i[e];if(r[0]!==null&&a.left-m.l2p(r[0])<t||r[1]!==null&&m.l2p(r[1])-a.right<t){T=90;break}}}else{var o=_.length;var l=Math.abs((_[o-1].x-_[0].x)*m._m)/(o-1);var s=m.ticklabelposition||"";var c=function(e){return s.indexOf(e)!==-1};var u=c("top");var f=c("left");var d=c("right");var v=c("bottom");var h=v||f||u||d;var p=!h?0:(m.tickwidth||0)+2*B;var g=l<n*2.5||m.type==="multicategory"||m._name==="realaxis";for(e=0;e<i.length-1;e++){if(re.bBoxIntersect(i[e],i[e+1],p)){T=g?90:30;break}}}if(T){positionLabels(w,T)}}}if(m._selections){m._selections[t]=w}var n=[allLabelsReady];if(m.automargin&&p._redrawFromAutoMarginCount&&r===90){T=90;n.push(function(){positionLabels(w,r)})}else{n.push(fixLabelOverlaps)}if(m._tickAngles){n.push(function(){m._tickAngles[t]=T===null?J(b)?b:0:T})}var i=m._anchorAxis;if(i&&i.autorange&&insideTicklabelposition(m)&&!j(p,m._id)){if(!p._insideTickLabelsAutorange){p._insideTickLabelsAutorange={}}p._insideTickLabelsAutorange[i._name+".autorange"]=i.autorange;n.push(function computeFinalTickLabelBoundingBoxes(){w.each(function(e,t){var r=selectTickLabel(this);var a=r.select(".text-math-group");if(a.empty()){m._vals[t].bb=A.bBox(r.node())}})})}var o=re.syncOrAsync(n);if(o&&o.then)h._promises.push(o);return o};function drawDividers(e,t,r){var a=t._id+"divider";var n=r.vals;var i=r.layer.selectAll("path."+a).data(n,tickDataFn);i.exit().remove();i.enter().insert("path",":first-child").classed(a,1).classed("crisp",1).call(m.stroke,t.dividercolor).style("stroke-width",A.crispRound(e,t.dividerwidth,1)+"px");i.attr("transform",r.transFn).attr("d",r.path)}ne.getPxPosition=function(e,t){var r=e._fullLayout._size;var a=t._id.charAt(0);var n=t.side;var i;if(t.anchor!=="free"){i=t._anchorAxis}else if(a==="x"){i={_offset:r.t+(1-(t.position||0))*r.h,_length:0}}else if(a==="y"){i={_offset:r.l+(t.position||0)*r.w+t._shift,_length:0}}if(n==="top"||n==="left"){return i._offset}else if(n==="bottom"||n==="right"){return i._offset+i._length}};function approxTitleDepth(e){var t=e.title.font.size;var r=(e.title.text.match(g.BR_TAG_ALL)||[]).length;if(e.title.hasOwnProperty("standoff")){return r?t*(L+r*ae):t*L}else{return r?t*(r+1)*ae:t}}function drawTitle(e,t){var r=e._fullLayout;var a=t._id;var n=a.charAt(0);var i=t.title.font.size;var o;if(t.title.hasOwnProperty("standoff")){o=t._depth+t.title.standoff+approxTitleDepth(t)}else{var l=insideTicklabelposition(t);if(t.type==="multicategory"){o=t._depth}else{var s=1.5*i;if(l){s=.5*i;if(t.ticks==="outside"){s+=t.ticklen}}o=10+s+(t.linewidth?t.linewidth-1:0)}if(!l){if(n==="x"){o+=t.side==="top"?i*(t.showticklabels?1:0):i*(t.showticklabels?1.5:.5)}else{o+=t.side==="right"?i*(t.showticklabels?1:.5):i*(t.showticklabels?.5:0)}}}var c=ne.getPxPosition(e,t);var u,f,d;if(n==="x"){f=t._offset+t._length/2;d=t.side==="top"?c-o:c+o}else{d=t._offset+t._length/2;f=t.side==="right"?c+o:c-o;u={rotate:"-90",offset:0}}var v;if(t.type!=="multicategory"){var h=t._selections[t._id+"tick"];v={selection:h,side:t.side};if(h&&h.node()&&h.node().parentNode){var p=A.getTranslate(h.node().parentNode);v.offsetLeft=p.x;v.offsetTop=p.y}if(t.title.hasOwnProperty("standoff")){v.pad=0}}t._titleStandoff=o;return S.draw(e,a+"title",{propContainer:t,propName:t._name+".title.text",placeholder:r._dfltTitle[n],avoid:v,transform:u,attributes:{x:f,y:d,"text-anchor":"middle"}})}ne.shouldShowZeroLine=function(e,t,r){var a=re.simpleMap(t.range,t.r2l);return a[0]*a[1]<=0&&t.zeroline&&(t.type==="linear"||t.type==="-")&&!(t.rangebreaks&&t.maskBreaks(0)===Q)&&(clipEnds(t,0)||!anyCounterAxLineAtZero(e,t,r,a)||hasBarsOrFill(e,t))};ne.clipEnds=function(t,e){return e.filter(function(e){return clipEnds(t,e.x)})};function clipEnds(e,t){var r=e.l2p(t);return r>1&&r<e._length-1}function anyCounterAxLineAtZero(e,n,t,r){var a=t._mainAxis;if(!a)return;var i=e._fullLayout;var o=n._id.charAt(0);var l=ne.counterLetter(n._id);var s=n._offset+(Math.abs(r[0])<Math.abs(r[1])===(o==="x")?0:n._length);function lineNearZero(e){if(!e.showline||!e.linewidth)return false;var t=Math.max((e.linewidth+n.zerolinewidth)/2,1);function closeEnough(e){return typeof e==="number"&&Math.abs(e-s)<t}if(closeEnough(e._mainLinePosition)||closeEnough(e._mainMirrorPosition)){return true}var r=e._linepositions||{};for(var a in r){if(closeEnough(r[a][0])||closeEnough(r[a][1])){return true}}}var c=i._plots[t._mainSubplot];if(!(c.mainplotinfo||c).overlays.length){return lineNearZero(t,s)}var u=ne.list(e,l);for(var f=0;f<u.length;f++){var d=u[f];if(d._mainAxis===a&&lineNearZero(d,s)){return true}}}function hasBarsOrFill(e,t){var r=e._fullData;var a=t._mainSubplot;var n=t._id.charAt(0);for(var i=0;i<r.length;i++){var o=r[i];if(o.visible===true&&o.xaxis+o.yaxis===a){if(te.traceIs(o,"bar-like")&&o.orientation==={x:"h",y:"v"}[n])return true;if(o.fill&&o.fill.charAt(o.fill.length-1)===n)return true}}return false}function selectTickLabel(e){var t=k.select(e);var r=t.select(".text-math-group");return r.empty()?t.select("text"):r}ne.allowAutoMargin=function(e){var t=ne.list(e,"",true);for(var r=0;r<t.length;r++){var a=t[r];if(a.automargin){ee.allowAutoMargin(e,axAutoMarginID(a));if(a.mirror){ee.allowAutoMargin(e,axMirrorAutoMarginID(a))}}if(te.getComponentMethod("rangeslider","isVisible")(a)){ee.allowAutoMargin(e,rangeSliderAutoMarginID(a))}}};function axAutoMarginID(e){return e._id+".automargin"}function axMirrorAutoMarginID(e){return axAutoMarginID(e)+".mirror"}function rangeSliderAutoMarginID(e){return e._id+".rangeslider"}ne.swap=function(e,t){var r=makeAxisGroups(e,t);for(var a=0;a<r.length;a++){swapAxisGroup(e,r[a].x,r[a].y)}};function makeAxisGroups(e,t){var r=[];var a,n;for(a=0;a<t.length;a++){var i=[];var o=e._fullData[t[a]].xaxis;var l=e._fullData[t[a]].yaxis;if(!o||!l)continue;for(n=0;n<r.length;n++){if(r[n].x.indexOf(o)!==-1||r[n].y.indexOf(l)!==-1){i.push(n)}}if(!i.length){r.push({x:[o],y:[l]});continue}var s=r[i[0]];var c;if(i.length>1){for(n=1;n<i.length;n++){c=r[i[n]];mergeAxisGroups(s.x,c.x);mergeAxisGroups(s.y,c.y)}}mergeAxisGroups(s.x,[o]);mergeAxisGroups(s.y,[l])}return r}function mergeAxisGroups(e,t){for(var r=0;r<t.length;r++){if(e.indexOf(t[r])===-1)e.push(t[r])}}function swapAxisGroup(e,t,r){var a=[];var n=[];var i=e.layout;var o,l;for(o=0;o<t.length;o++)a.push(ne.getFromId(e,t[o]));for(o=0;o<r.length;o++)n.push(ne.getFromId(e,r[o]));var s=Object.keys(D);var c=["anchor","domain","overlaying","position","side","tickangle","editType"];var u=["linear","log"];for(o=0;o<s.length;o++){var f=s[o];var d=a[0][f];var v=n[0][f];var h=true;var p=false;var g=false;if(f.charAt(0)==="_"||typeof d==="function"||c.indexOf(f)!==-1){continue}for(l=1;l<a.length&&h;l++){var m=a[l][f];if(f==="type"&&u.indexOf(d)!==-1&&u.indexOf(m)!==-1&&d!==m){p=true}else if(m!==d)h=false}for(l=1;l<n.length&&h;l++){var y=n[l][f];if(f==="type"&&u.indexOf(v)!==-1&&u.indexOf(y)!==-1&&v!==y){g=true}else if(n[l][f]!==v)h=false}if(h){if(p)i[a[0]._name].type="linear";if(g)i[n[0]._name].type="linear";swapAxisAttrs(i,f,a,n,e._fullLayout._dfltTitle)}}for(o=0;o<e._fullLayout.annotations.length;o++){var x=e._fullLayout.annotations[o];if(t.indexOf(x.xref)!==-1&&r.indexOf(x.yref)!==-1){re.swapAttrs(i.annotations[o],["?"])}}}function swapAxisAttrs(e,t,r,a,n){var i=re.nestedProperty;var o=i(e[r[0]._name],t).get();var l=i(e[a[0]._name],t).get();var s;if(t==="title"){if(o&&o.text===n.x){o.text=n.y}if(l&&l.text===n.y){l.text=n.x}}for(s=0;s<r.length;s++){i(e,r[s]._name+"."+t).set(l)}for(s=0;s<a.length;s++){i(e,a[s]._name+"."+t).set(o)}}function isAngular(e){return e._id==="angularaxis"}function moveOutsideBreak(e,t){var r=t._rangebreaks.length;for(var a=0;a<r;a++){var n=t._rangebreaks[a];if(e>=n.min&&e<n.max){return n.max}}return e}function insideTicklabelposition(e){return(e.ticklabelposition||"").indexOf("inside")!==-1}function hideCounterAxisInsideTickLabels(e,t){if(insideTicklabelposition(e._anchorAxis||{})){if(e._hideCounterAxisInsideTickLabels){e._hideCounterAxisInsideTickLabels(t)}}}function incrementShift(e,t,r,a){var n=e.anchor!=="free"&&(e.overlaying===undefined||e.overlaying===false)?e._id:e.overlaying;var i;if(a){i=e.side==="right"?t:-t}else{i=t}if(!(n in r)){r[n]={}}if(!(e.side in r[n])){r[n][e.side]=0}r[n][e.side]+=i}function setShiftVal(e,t){return e.autoshift?t[e.overlaying][e.side]:e.shift||0}},4322:function(e,t,r){"use strict";var f=r(2770);var a=r(1828);var d=r(606).BADNUM;var c=a.isArrayOrTypedArray;var v=a.isDateTime;var h=a.cleanNumber;var p=Math.round;e.exports=function autoType(e,t,r){var a=e;var n=r.noMultiCategory;if(c(a)&&!a.length)return"-";if(!n&&multiCategory(a))return"multicategory";if(n&&Array.isArray(a[0])){var i=[];for(var o=0;o<a.length;o++){if(c(a[o])){for(var l=0;l<a[o].length;l++){i.push(a[o][l])}}}a=i}if(moreDates(a,t))return"date";var s=r.autotypenumbers!=="strict";if(category(a,s))return"category";if(linearOK(a,s))return"linear";return"-"};function hasTypeNumber(e,t){return t?f(e):typeof e==="number"}function linearOK(e,t){var r=e.length;for(var a=0;a<r;a++){if(hasTypeNumber(e[a],t))return true}return false}function moreDates(e,t){var r=e.length;var a=getIncrement(r);var n=0;var i=0;var o={};for(var l=0;l<r;l+=a){var s=p(l);var c=e[s];var u=String(c);if(o[u])continue;o[u]=1;if(v(c,t))n++;if(f(c))i++}return n>i*2}function getIncrement(e){return Math.max(1,(e-1)/1e3)}function category(e,t){var r=e.length;var a=getIncrement(r);var n=0;var i=0;var o={};for(var l=0;l<r;l+=a){var s=p(l);var c=e[s];var u=String(c);if(o[u])continue;o[u]=1;var f=typeof c;if(f==="boolean")i++;else if(t?h(c)!==d:f==="number")n++;else if(f==="string")i++}return i>n*2}function multiCategory(e){return c(e[0])&&c(e[1])}},1453:function(e,t,r){"use strict";var f=r(2770);var C=r(3972);var L=r(1828);var D=r(4467);var O=r(5501);var P=r(3838);var I=r(6218);var R=r(8701);var F=r(6115);var N=r(9426);var E=r(5258);var z=r(2128);var B=r(1994);var H=r(5555).WEEKDAY_PATTERN;var d=r(5555).HOUR_PATTERN;e.exports=function handleAxisDefaults(e,t,r,a,n){var i=a.letter;var o=a.font||{};var l=a.splomStash||{};var s=r("visible",!a.visibleDflt);var c=t._template||{};var u=t.type||c.type||"-";var f;if(u==="date"){var d=C.getComponentMethod("calendars","handleDefaults");d(e,t,"calendar",a.calendar);if(!a.noTicklabelmode){f=r("ticklabelmode")}}var v="";if(!a.noTicklabelposition||u==="multicategory"){v=L.coerce(e,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:f==="period"?["outside","inside"]:i==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")}if(!a.noTicklabeloverflow){r("ticklabeloverflow",v.indexOf("inside")!==-1?"hide past domain":u==="category"||u==="multicategory"?"allow":"hide past div")}B(t,n);var h=!t.isValidRange(e.range);if(h&&a.reverseDflt)h="reversed";var p=r("autorange",h);if(p&&(u==="linear"||u==="-"))r("rangemode");r("range");t.cleanRange();E(e,t,r,a);if(u!=="category"&&!a.noHover)r("hoverformat");var g=r("color");var m=g!==P.color.dflt?g:o.color;var y=l.label||n._dfltTitle[i];N(e,t,r,u,a);if(!s)return t;r("title.text",y);L.coerceFont(r,"title.font",{family:o.family,size:L.bigFont(o.size),color:m});I(e,t,r,u);var x=a.hasMinor;if(x){D.newContainer(t,"minor");I(e,t,r,u,{isMinor:true})}F(e,t,r,u,a);R(e,t,r,a);if(x){var _=a.isMinor;a.isMinor=true;R(e,t,r,a);a.isMinor=_}z(e,t,r,{dfltColor:g,bgColor:a.bgColor,showGrid:a.showGrid,hasMinor:x,attributes:P});if(x&&!t.minor.ticks&&!t.minor.showgrid){delete t.minor}if(t.showline||t.ticks)r("mirror");var b=u==="multicategory";if(!a.noTickson&&(u==="category"||b)&&(t.ticks||t.showgrid)){var w;if(b)w="boundaries";var T=r("tickson",w);if(T==="boundaries"){delete t.ticklabelposition}}if(b){var k=r("showdividers");if(k){r("dividercolor");r("dividerwidth")}}if(u==="date"){O(e,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:rangebreaksDefaults});if(!t.rangebreaks.length){delete t.rangebreaks}else{for(var A=0;A<t.rangebreaks.length;A++){if(t.rangebreaks[A].pattern===H){t._hasDayOfWeekBreaks=true;break}}B(t,n);if(n._has("scattergl")||n._has("splom")){for(var M=0;M<a.data.length;M++){var S=a.data[M];if(S.type==="scattergl"||S.type==="splom"){S.visible=false;L.warn(S.type+" traces do not work on axes with rangebreaks."+" Setting trace "+S.index+" to `visible: false`.")}}}}}return t};function rangebreaksDefaults(r,a,e){function coerce(e,t){return L.coerce(r,a,P.rangebreaks,e,t)}var t=coerce("enabled");if(t){var n=coerce("bounds");if(n&&n.length>=2){var i="";var o,l;if(n.length===2){for(o=0;o<2;o++){l=indexOfDay(n[o]);if(l){i=H;break}}}var s=coerce("pattern",i);if(s===H){for(o=0;o<2;o++){l=indexOfDay(n[o]);if(l){a.bounds[o]=n[o]=l-1}}}if(s){for(o=0;o<2;o++){l=n[o];switch(s){case H:if(!f(l)){a.enabled=false;return}l=+l;if(l!==Math.floor(l)||l<0||l>=7){a.enabled=false;return}a.bounds[o]=n[o]=l;break;case d:if(!f(l)){a.enabled=false;return}l=+l;if(l<0||l>24){a.enabled=false;return}a.bounds[o]=n[o]=l;break}}}if(e.autorange===false){var c=e.range;if(c[0]<c[1]){if(n[0]<c[0]&&n[1]>c[1]){a.enabled=false;return}}else if(n[0]>c[0]&&n[1]<c[1]){a.enabled=false;return}}}else{var u=coerce("values");if(u&&u.length){coerce("dvalue")}else{a.enabled=false;return}}}}var a={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function indexOfDay(e){if(typeof e!=="string")return;return a[e.substr(0,3).toLowerCase()]}},2663:function(e,t,r){"use strict";var a=r(1562);var n=a.FORMAT_LINK;var i=a.DATE_FORMAT_LINK;function axisHoverFormat(e,t){return{valType:"string",dflt:"",editType:"none",description:(t?descriptionOnlyNumbers:descriptionWithDates)("hover text",e)+["By default the values are formatted using "+(t?"generic number format":"`"+e+"axis.hoverformat`")+"."].join(" ")}}function descriptionOnlyNumbers(e,t){return["Sets the "+e+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+n+"."].join(" ")}function descriptionWithDates(e,t){return descriptionOnlyNumbers(e,t)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}e.exports={axisHoverFormat:axisHoverFormat,descriptionOnlyNumbers:descriptionOnlyNumbers,descriptionWithDates:descriptionWithDates}},1675:function(e,u,t){"use strict";var o=t(3972);var i=t(5555);u.id2name=function id2name(e){if(typeof e!=="string"||!e.match(i.AX_ID_PATTERN))return;var t=e.split(" ")[0].substr(1);if(t==="1")t="";return e.charAt(0)+"axis"+t};u.name2id=function name2id(e){if(!e.match(i.AX_NAME_PATTERN))return;var t=e.substr(5);if(t==="1")t="";return e.charAt(0)+t};u.cleanId=function cleanId(e,t,r){var a=/( domain)$/.test(e);if(typeof e!=="string"||!e.match(i.AX_ID_PATTERN))return;if(t&&e.charAt(0)!==t)return;if(a&&!r)return;var n=e.split(" ")[0].substr(1).replace(/^0+/,"");if(n==="1")n="";return e.charAt(0)+n+(a&&r?" domain":"")};u.list=function(e,t,r){var a=e._fullLayout;if(!a)return[];var n=u.listIds(e,t);var i=new Array(n.length);var o;for(o=0;o<n.length;o++){var l=n[o];i[o]=a[l.charAt(0)+"axis"+l.substr(1)]}if(!r){var s=a._subplots.gl3d||[];for(o=0;o<s.length;o++){var c=a[s[o]];if(t)i.push(c[t+"axis"]);else i.push(c.xaxis,c.yaxis,c.zaxis)}}return i};u.listIds=function(e,t){var r=e._fullLayout;if(!r)return[];var a=r._subplots;if(t)return a[t+"axis"];return a.xaxis.concat(a.yaxis)};u.getFromId=function(e,t,r){var a=e._fullLayout;t=t===undefined||typeof t!=="string"?t:t.replace(" domain","");if(r==="x")t=t.replace(/y[0-9]*/,"");else if(r==="y")t=t.replace(/x[0-9]*/,"");return a[u.id2name(t)]};u.getFromTrace=function(e,t,r){var a=e._fullLayout;var n=null;if(o.traceIs(t,"gl3d")){var i=t.scene;if(i.substr(0,5)==="scene"){n=a[i][r+"axis"]}}else{n=u.getFromId(e,t[r+"axis"]||r)}return n};u.idSort=function(e,t){var r=e.charAt(0);var a=t.charAt(0);if(r!==a)return r>a?1:-1;return+(e.substr(1)||1)-+(t.substr(1)||1)};u.ref2id=function(e){return/^[xyz]/.test(e)?e.split(" ")[0]:false};function isFound(e,t){if(t&&t.length){for(var r=0;r<t.length;r++){if(t[r][e])return true}}return false}u.isLinked=function(e,t){return isFound(t,e._axisMatchGroups)||isFound(t,e._axisConstraintGroups)}},5258:function(e){"use strict";function findCategories(e,t){var r=t.dataAttr||e._id.charAt(0);var a={};var n;var i,o;if(t.axData){n=t.axData}else{n=[];for(i=0;i<t.data.length;i++){var l=t.data[i];if(l[r+"axis"]===e._id){n.push(l)}}}for(i=0;i<n.length;i++){var s=n[i][r];for(o=0;o<s.length;o++){var c=s[o];if(c!==null&&c!==undefined){a[c]=1}}}return Object.keys(a)}e.exports=function handleCategoryOrderDefaults(e,t,r,a){if(t.type!=="category")return;var n=e.categoryarray;var i=Array.isArray(n)&&n.length>0;var o;if(i)o="array";var l=r("categoryorder",o);var s;if(l==="array"){s=r("categoryarray")}if(!i&&l==="array"){l=t.categoryorder="trace"}if(l==="trace"){t._initialCategories=[]}else if(l==="array"){t._initialCategories=s.slice()}else{s=findCategories(t,a).sort();if(l==="category ascending"){t._initialCategories=s}else if(l==="category descending"){t._initialCategories=s.reverse()}}}},6287:function(e,t,r){"use strict";var s=r(2770);var n=r(1828);var a=r(606);var c=a.ONEDAY;var i=a.ONEWEEK;t.dtick=function(e,t){var r=t==="log";var a=t==="date";var n=t==="category";var i=a?c:1;if(!e)return i;if(s(e)){e=Number(e);if(e<=0)return i;if(n){return Math.max(1,Math.round(e))}if(a){return Math.max(.1,e)}return e}if(typeof e!=="string"||!(a||r)){return i}var o=e.charAt(0);var l=e.substr(1);l=s(l)?Number(l):0;if(l<=0||!(a&&o==="M"&&l===Math.round(l)||r&&o==="L"||r&&o==="D"&&(l===1||l===2))){return i}return e};t.tick0=function(e,t,r,a){if(t==="date"){return n.cleanDate(e,n.dateTick0(r,a%i===0?1:0))}if(a==="D1"||a==="D2"){return undefined}return s(e)?Number(e):0}},5555:function(e,t,r){"use strict";var a=r(587).counter;e.exports={idRegex:{x:a("x","( domain)?"),y:a("y","( domain)?")},attrRegex:a("[xy]axis"),xAxisMatch:a("xaxis"),yAxisMatch:a("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},9082:function(e,t,r){"use strict";var S=r(1828);var z=r(1739);var B=r(1675).id2name;var C=r(3838);var H=r(2449);var w=r(1994);var j=r(606).ALMOST_EQUAL;var i=r(8783).FROM_BL;t.handleDefaults=function(e,r,t){var a=t.axIds;var n=t.axHasImage;var i=r._axisConstraintGroups=[];var o=r._axisMatchGroups=[];var l,s,c,u,f,d,v,h;for(l=0;l<a.length;l++){u=B(a[l]);f=e[u];d=r[u];handleOneAxDefaults(f,d,{axIds:a,layoutOut:r,hasImage:n[u]})}function stash(e,t){for(l=0;l<e.length;l++){s=e[l];for(c in s){r[B(c)][t]=s}}}stash(o,"_matchGroup");for(l=0;l<i.length;l++){s=i[l];for(c in s){d=r[B(c)];if(d.fixedrange){for(var p in s){var g=B(p);if((e[g]||{}).fixedrange===false){S.warn("fixedrange was specified as false for axis "+g+" but was overridden because another "+"axis in its constraint group has fixedrange true")}r[g].fixedrange=true}break}}}l=0;while(l<i.length){s=i[l];for(c in s){d=r[B(c)];if(d._matchGroup&&Object.keys(d._matchGroup).length===Object.keys(s).length){i.splice(l,1);l--}break}l++}stash(i,"_constraintGroup");var m=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"];var y=false;var x=false;function setAttrVal(){h=d[v];if(v==="rangebreaks"){x=d._hasDayOfWeekBreaks}}for(l=0;l<o.length;l++){s=o[l];for(var _=0;_<m.length;_++){v=m[_];h=null;var b;for(c in s){u=B(c);f=e[u];d=r[u];if(!(v in d)){continue}if(!d.matches){b=d;if(v in f){setAttrVal();break}}if(h===null&&v in f){setAttrVal()}}if(v==="range"&&h){y=true}if(v==="autorange"&&h===null&&y){h=false}if(h===null&&v in b){h=b[v]}if(h!==null){for(c in s){d=r[B(c)];d[v]=v==="range"?h.slice():h;if(v==="rangebreaks"){d._hasDayOfWeekBreaks=x;w(d,r)}}}}}};function handleOneAxDefaults(r,a,e){var t=e.axIds;var n=e.layoutOut;var i=e.hasImage;var o=n._axisConstraintGroups;var l=n._axisMatchGroups;var s=a._id;var c=s.charAt(0);var u=((n._splomAxes||{})[c]||{})[s]||{};var f=a._id;var d=f.charAt(0)==="x";a._matchGroup=null;a._constraintGroup=null;function coerce(e,t){return S.coerce(r,a,C,e,t)}coerce("constrain",i?"domain":"range");S.coerce(r,a,{constraintoward:{valType:"enumerated",values:d?["left","center","right"]:["bottom","middle","top"],dflt:d?"center":"middle"}},"constraintoward");var v=a.type;var h,p;var g=[];for(h=0;h<t.length;h++){p=t[h];if(p===f)continue;var m=n[B(p)];if(m.type===v){g.push(p)}}var y=getConstraintGroup(o,f);if(y){var x=[];for(h=0;h<g.length;h++){p=g[h];if(!y[p])x.push(p)}g=x}var _=g.length;var b,w;if(_&&(r.matches||u.matches)){b=S.coerce(r,a,{matches:{valType:"enumerated",values:g,dflt:g.indexOf(u.matches)!==-1?u.matches:undefined}},"matches")}var T=i&&!d?a.anchor:undefined;if(_&&!b&&(r.scaleanchor||T)){w=S.coerce(r,a,{scaleanchor:{valType:"enumerated",values:g}},"scaleanchor",T)}if(b){a._matchGroup=updateConstraintGroups(l,f,b,1);var k=n[B(b)];var A=extent(n,a)/extent(n,k);if(d!==(b.charAt(0)==="x")){A=(d?"x":"y")+A}updateConstraintGroups(o,f,b,A)}else if(r.matches&&t.indexOf(r.matches)!==-1){S.warn("ignored "+a._name+'.matches: "'+r.matches+'" to avoid an infinite loop')}if(w){var M=coerce("scaleratio");if(!M)M=a.scaleratio=1;updateConstraintGroups(o,f,w,M)}else if(r.scaleanchor&&t.indexOf(r.scaleanchor)!==-1){S.warn("ignored "+a._name+'.scaleanchor: "'+r.scaleanchor+'" to avoid either an infinite loop '+"and possibly inconsistent scaleratios, or because this axis "+"declares a *matches* constraint.")}}function extent(e,t){var r=t.domain;if(!r){r=e[B(t.overlaying)].domain}return r[1]-r[0]}function getConstraintGroup(e,t){for(var r=0;r<e.length;r++){if(e[r][t]){return e[r]}}return null}function updateConstraintGroups(e,t,r,a){var n,i,o,l,s;var c=getConstraintGroup(e,t);if(c===null){c={};c[t]=1;s=e.length;e.push(c)}else{s=e.indexOf(c)}var u=Object.keys(c);for(n=0;n<e.length;n++){o=e[n];if(n!==s&&o[r]){var f=o[r];for(i=0;i<u.length;i++){l=u[i];o[l]=multiplyScales(f,multiplyScales(a,c[l]))}e.splice(s,1);return}}if(a!==1){for(i=0;i<u.length;i++){var d=u[i];c[d]=multiplyScales(a,c[d])}}c[r]=1}function multiplyScales(e,t){var r="";var a="";var n,i;if(typeof e==="string"){r=e.match(/^[xy]*/)[0];n=r.length;e=+e.substr(n)}if(typeof t==="string"){a=t.match(/^[xy]*/)[0];i=a.length;t=+t.substr(i)}var o=e*t;if(!n&&!i){return o}if(!n||!i||r.charAt(0)===a.charAt(0)){return r+a+e*t}if(n===i){return o}return(n>i?r.substr(i):a.substr(n))+o}function finalRatios(e,t){var r=t._size;var a=r.h/r.w;var n={};var i=Object.keys(e);for(var o=0;o<i.length;o++){var l=i[o];var s=e[l];if(typeof s==="string"){var c=s.match(/^[xy]*/)[0];var u=c.length;s=+s.substr(u);var f=c.charAt(0)==="y"?a:1/a;for(var d=0;d<u;d++){s*=f}}n[l]=s}return n}t.enforce=function enforce(e){var t=e._fullLayout;var r=t._axisConstraintGroups||[];var a,n,i,o,l,s,c,u;for(a=0;a<r.length;a++){i=finalRatios(r[a],t);var f=Object.keys(i);var d=Infinity;var v=0;var h=Infinity;var p={};var g={};var m=false;for(n=0;n<f.length;n++){o=f[n];g[o]=l=t[B(o)];if(l._inputDomain)l.domain=l._inputDomain.slice();else l._inputDomain=l.domain.slice();if(!l._inputRange)l._inputRange=l.range.slice();l.setScale();p[o]=s=Math.abs(l._m)/i[o];d=Math.min(d,s);if(l.constrain==="domain"||!l._constraintShrinkable){h=Math.min(h,s)}delete l._constraintShrinkable;v=Math.max(v,s);if(l.constrain==="domain")m=true}if(d>j*v&&!m)continue;for(n=0;n<f.length;n++){o=f[n];s=p[o];l=g[o];c=l.constrain;if(s!==h||c==="domain"){u=s/h;if(c==="range"){H(l,u)}else{var y=l._inputDomain;var x=(l.domain[1]-l.domain[0])/(y[1]-y[0]);var _=(l.r2l(l.range[1])-l.r2l(l.range[0]))/(l.r2l(l._inputRange[1])-l.r2l(l._inputRange[0]));u/=x;if(u*_<1){l.domain=l._input.domain=y.slice();H(l,u);continue}if(_<1){l.range=l._input.range=l._inputRange.slice();u*=_}if(l.autorange){var b=l.r2l(l.range[0]);var w=l.r2l(l.range[1]);var T=(b+w)/2;var k=T;var A=T;var M=Math.abs(w-T);var S=T-M*u*1.0001;var C=T+M*u*1.0001;var L=z.makePadFn(t,l,0);var N=z.makePadFn(t,l,1);updateDomain(l,u);var D=Math.abs(l._m);var O=z.concatExtremes(e,l);var P=O.min;var I=O.max;var R;var F;for(F=0;F<P.length;F++){R=P[F].val-L(P[F])/D;if(R>S&&R<k){k=R}}for(F=0;F<I.length;F++){R=I[F].val+N(I[F])/D;if(R<C&&R>A){A=R}}var E=(A-k)/(2*M);u/=E;k=l.l2r(k);A=l.l2r(A);l.range=l._input.range=b<w?[k,A]:[A,k]}updateDomain(l,u)}}}}};t.getAxisGroup=function getAxisGroup(e,t){var r=e._axisMatchGroups;for(var a=0;a<r.length;a++){var n=r[a];if(n[t])return"g"+a}return t};t.clean=function clean(e,t){if(t._inputDomain){var r=false;var a=t._id;var n=e._fullLayout._axisConstraintGroups;for(var i=0;i<n.length;i++){if(n[i][a]){r=true;break}}if(!r||t.constrain!=="domain"){t._input.domain=t.domain=t._inputDomain;delete t._inputDomain}}};function updateDomain(e,t){var r=e._inputDomain;var a=i[e.constraintoward];var n=r[0]+(r[1]-r[0])*a;e.domain=e._input.domain=[n+(r[0]-n)/t,n+(r[1]-n)/t];e.setScale()}},9323:function(e,s,t){"use strict";var K=t(9898);var Q=t(1828);var i=Q.numberFormat;var $=t(4267);var a=t(8520);var ee=t(3972);var o=Q.strTranslate;var te=t(3893);var n=t(7901);var re=t(1424);var ue=t(211);var ae=t(9298);var c=t(6964);var fe=t(8569);var r=t(4505);var ne=r.selectingOrDrawing;var de=r.freeMode;var ve=t(8783).FROM_TL;var he=t(3306);var pe=t(1549).redrawReglTraces;var ge=t(4875);var ie=t(1675).getFromId;var me=t(7322).prepSelect;var ye=t(7322).clearOutline;var xe=t(7322).selectOnClick;var oe=t(2449);var le=t(5555);var se=le.MINDRAG;var ce=le.MINZOOM;var l=true;function makeDragBox(_,u,e,t,r,a,b,w){var i=_._fullLayout._zoomlayer;var f=b+w==="nsew";var z=(b+w).length===1;var T,k;var A,M;var d,v;var o,l;var h,p;var g;var S;var C,L;var s;var D,O;var P,B,H;var m;var j;var V;e+=u.yaxis._shift;function recomputeAxisLists(){T=u.xaxis;k=u.yaxis;h=T._length;p=k._length;o=T._offset;l=k._offset;A={};A[T._id]=T;M={};M[k._id]=k;if(b&&w){var e=u.overlays;for(var t=0;t<e.length;t++){var r=e[t].xaxis;A[r._id]=r;var a=e[t].yaxis;M[a._id]=a}}d=hashValues(A);v=hashValues(M);C=isDirectionActive(d,w);L=isDirectionActive(v,b);s=!L&&!C;S=calcLinks(_,_._fullLayout._axisMatchGroups,A,M);g=calcLinks(_,_._fullLayout._axisConstraintGroups,A,M,S);var n=g.isSubplotConstrained||S.isSubplotConstrained;D=w||n;O=b||n;var i=_._fullLayout;P=i._has("scattergl");B=i._has("splom");H=i._has("svg")}recomputeAxisLists();var n=getDragCursor(L+C,_._fullLayout.dragmode,f);var y=makeRectDragger(u,b+w+"drag",n,e,t,r,a);if(s&&!f){y.onmousedown=null;y.style.pointerEvents="none";return y}var x={element:y,gd:_,plotinfo:u};x.prepFn=function(e,t,r){var a=x.dragmode;var n=_._fullLayout.dragmode;if(n!==a){x.dragmode=n}recomputeAxisLists();j=_._fullLayout._invScaleX;V=_._fullLayout._invScaleY;if(!s){if(f){if(e.shiftKey){if(n==="pan")n="zoom";else if(!ne(n))n="pan"}else if(e.ctrlKey){n="pan"}}else{n="pan"}}if(de(n))x.minDrag=1;else x.minDrag=undefined;if(ne(n)){x.xaxes=d;x.yaxes=v;me(e,t,r,x,n)}else{x.clickFn=clickFn;if(ne(a)){clearAndResetSelect()}if(!s){if(n==="zoom"){x.moveFn=zoomMove;x.doneFn=zoomDone;x.minDrag=1;zoomPrep(e,t,r)}else if(n==="pan"){x.moveFn=plotDrag;x.doneFn=dragTail}}}_._fullLayout._redrag=function(){var e=_._dragdata;if(e&&e.element===y){var t=_._fullLayout.dragmode;if(!ne(t)){recomputeAxisLists();updateSubplots([0,0,h,p]);x.moveFn(e.dx,e.dy)}}}};function clearAndResetSelect(){x.plotinfo.selection=false;ye(_)}function clickFn(e,t){var r=x.gd;if(r._fullLayout._activeShapeIndex>=0){r._fullLayout._deactivateShape(r);return}var a=r._fullLayout.clickmode;removeZoombox(r);if(e===2&&!z)doubleClick();if(f){if(a.indexOf("select")>-1){xe(t,r,d,v,u.id,x)}if(a.indexOf("event")>-1){ue.click(r,t,u.id)}}else if(e===1&&z){var n=b?k:T;var i=b==="s"||w==="w"?0:1;var o=n._name+".range["+i+"]";var l=getEndText(n,i);var s="left";var c="middle";if(n.fixedrange)return;if(b){c=b==="n"?"top":"bottom";if(n.side==="right")s="right"}else if(w==="e")s="right";if(r._context.showAxisRangeEntryBoxes){K.select(y).call(te.makeEditable,{gd:r,immediate:true,background:r._fullLayout.paper_bgcolor,text:String(l),fill:n.tickfont?n.tickfont.color:"#444",horizontalAlign:s,verticalAlign:c}).on("edit",function(e){var t=n.d2r(e);if(t!==undefined){ee.call("_guiRelayout",r,o,t)}})}}}fe.init(x);var c,I;var R;var Y;var U;var G;var F;var q;var N;var Z;function zoomPrep(e,t,r){var a=y.getBoundingClientRect();c=t-a.left;I=r-a.top;_._fullLayout._calcInverseTransform(_);var n=Q.apply3DTransform(_._fullLayout._invTransform)(c,I);c=n[0];I=n[1];R={l:c,r:c,w:0,t:I,b:I,h:0};Y=_._hmpixcount?_._hmlumcount/_._hmpixcount:$(_._fullLayout.plot_bgcolor).getLuminance();U="M0,0H"+h+"V"+p+"H0V0";G=false;F="xy";Z=false;q=makeZoombox(i,Y,o,l,U);N=makeCorners(i,o,l)}function zoomMove(e,t){if(_._transitioningWithDuration){return false}var r=Math.max(0,Math.min(h,j*e+c));var a=Math.max(0,Math.min(p,V*t+I));var n=Math.abs(r-c);var i=Math.abs(a-I);R.l=Math.min(c,r);R.r=Math.max(c,r);R.t=Math.min(I,a);R.b=Math.max(I,a);function noZoom(){F="";R.r=R.l;R.t=R.b;N.attr("d","M0,0Z")}if(g.isSubplotConstrained){if(n>ce||i>ce){F="xy";if(n/h>i/p){i=n*p/h;if(I>a)R.t=I-i;else R.b=I+i}else{n=i*h/p;if(c>r)R.l=c-n;else R.r=c+n}N.attr("d",xyCorners(R))}else{noZoom()}}else if(S.isSubplotConstrained){if(n>ce||i>ce){F="xy";var o=Math.min(R.l/h,(p-R.b)/p);var l=Math.max(R.r/h,(p-R.t)/p);R.l=o*h;R.r=l*h;R.b=(1-o)*p;R.t=(1-l)*p;N.attr("d",xyCorners(R))}else{noZoom()}}else if(!L||i<Math.min(Math.max(n*.6,se),ce)){if(n<se||!C){noZoom()}else{R.t=0;R.b=p;F="x";N.attr("d",xCorners(R,I))}}else if(!C||n<Math.min(i*.6,ce)){R.l=0;R.r=h;F="y";N.attr("d",yCorners(R,c))}else{F="xy";N.attr("d",xyCorners(R))}R.w=R.r-R.l;R.h=R.b-R.t;if(F)Z=true;_._dragged=Z;updateZoombox(q,N,R,U,G,Y);computeZoomUpdates();_.emit("plotly_relayouting",m);G=true}function computeZoomUpdates(){m={};if(F==="xy"||F==="x"){zoomAxRanges(d,R.l/h,R.r/h,m,g.xaxes);updateMatchedAxRange("x",m)}if(F==="xy"||F==="y"){zoomAxRanges(v,(p-R.b)/p,(p-R.t)/p,m,g.yaxes);updateMatchedAxRange("y",m)}}function zoomDone(){computeZoomUpdates();removeZoombox(_);dragTail();showDoubleClickNotifier(_)}var E=[0,0,h,p];var W=null;var X=le.REDRAWDELAY;var J=u.mainplot?_._fullLayout._plots[u.mainplot]:u;function zoomWheel(e){if(!_._context._scrollZoom.cartesian&&!_._fullLayout._enablescrollzoom){return}clearAndResetSelect();if(_._transitioningWithDuration){e.preventDefault();e.stopPropagation();return}recomputeAxisLists();clearTimeout(W);var t=-e.deltaY;if(!isFinite(t))t=e.wheelDelta/10;if(!isFinite(t)){Q.log("Did not find wheel motion attributes: ",e);return}var r=Math.exp(-Math.min(Math.max(t,-20),20)/200);var a=J.draglayer.select(".nsewdrag").node().getBoundingClientRect();var n=(e.clientX-a.left)/a.width;var i=(a.bottom-e.clientY)/a.height;var o;function zoomWheelOneAxis(t,e,r){if(t.fixedrange)return;var a=Q.simpleMap(t.range,t.r2l);var n=a[0]+(a[1]-a[0])*e;function doZoom(e){return t.l2r(n+(e-n)*r)}t.range=a.map(doZoom)}if(D){if(!w)n=.5;for(o=0;o<d.length;o++){zoomWheelOneAxis(d[o],n,r)}updateMatchedAxRange("x");E[2]*=r;E[0]+=E[2]*n*(1/r-1)}if(O){if(!b)i=.5;for(o=0;o<v.length;o++){zoomWheelOneAxis(v[o],i,r)}updateMatchedAxRange("y");E[3]*=r;E[1]+=E[3]*(1-i)*(1/r-1)}updateSubplots(E);ticksAndAnnotations();_.emit("plotly_relayouting",m);W=setTimeout(function(){if(!_._fullLayout)return;E=[0,0,h,p];dragTail()},X);e.preventDefault();return}if(b.length*w.length!==1){attachWheelEventHandler(y,zoomWheel)}function plotDrag(e,t){e=e*j;t=t*V;if(_._transitioningWithDuration){return}_._fullLayout._replotting=true;if(C==="ew"||L==="ns"){var r=C?-e:0;var a=L?-t:0;if(S.isSubplotConstrained){if(C&&L){var n=(e/h-t/p)/2;e=n*h;t=-n*p;r=-e;a=-t}if(L){r=-a*h/p}else{a=-r*p/h}}if(C){dragAxList(d,e);updateMatchedAxRange("x")}if(L){dragAxList(v,t);updateMatchedAxRange("y")}updateSubplots([r,a,h,p]);ticksAndAnnotations();_.emit("plotly_relayouting",m);return}function dz(e,t,r){var a=1-t;var n;var i;for(var o=0;o<e.length;o++){var l=e[o];if(l.fixedrange)continue;n=l;i=l._rl[a]+(l._rl[t]-l._rl[a])/dZoom(r/l._length);var s=l.l2r(i);if(s!==false&&s!==undefined)l.range[t]=s}return n._length*(n._rl[t]-i)/(n._rl[t]-n._rl[a])}var i=C==="w"===(L==="n")?1:-1;if(C&&L&&(g.isSubplotConstrained||S.isSubplotConstrained)){var o=(e/h+i*t/p)/2;e=o*h;t=i*o*p}var l,s;if(C==="w")e=dz(d,0,e);else if(C==="e")e=dz(d,1,-e);else if(!C)e=0;if(L==="n")t=dz(v,1,t);else if(L==="s")t=dz(v,0,-t);else if(!L)t=0;l=C==="w"?e:0;s=L==="n"?t:0;if(g.isSubplotConstrained&&!S.isSubplotConstrained||S.isSubplotConstrained&&C&&L&&i>0){var c;if(S.isSubplotConstrained||!C&&L.length===1){for(c=0;c<d.length;c++){d[c].range=d[c]._r.slice();oe(d[c],1-t/p)}e=t*h/p;l=e/2}if(S.isSubplotConstrained||!L&&C.length===1){for(c=0;c<v.length;c++){v[c].range=v[c]._r.slice();oe(v[c],1-e/h)}t=e*p/h;s=t/2}}if(!S.isSubplotConstrained||!L){updateMatchedAxRange("x")}if(!S.isSubplotConstrained||!C){updateMatchedAxRange("y")}var u=h-e;var f=p-t;if(S.isSubplotConstrained&&!(C&&L)){if(C){s=l?0:e*p/h;f=u*p/h}else{l=s?0:t*h/p;u=f*h/p}}updateSubplots([l,s,u,f]);ticksAndAnnotations();_.emit("plotly_relayouting",m)}function updateMatchedAxRange(e,t){var r=S.isSubplotConstrained?{x:v,y:d}[e]:S[e+"axes"];var a=S.isSubplotConstrained?{x:d,y:v}[e]:[];for(var n=0;n<r.length;n++){var i=r[n];var o=i._id;var l=S.xLinks[o]||S.yLinks[o];var s=a[0]||A[l]||M[l];if(s){if(t){t[i._name+".range[0]"]=t[s._name+".range[0]"];t[i._name+".range[1]"]=t[s._name+".range[1]"]}else{i.range=s.range.slice()}}}}function ticksAndAnnotations(){var n=[];var i;function pushActiveAxIds(e){for(i=0;i<e.length;i++){if(!e[i].fixedrange)n.push(e[i]._id)}}function pushActiveAxIdsSynced(e,t){for(i=0;i<e.length;i++){var r=e[i];var a=r[t];if(!r.fixedrange&&a.tickmode==="sync")n.push(a._id)}}if(D){pushActiveAxIds(d);pushActiveAxIds(g.xaxes);pushActiveAxIds(S.xaxes);pushActiveAxIdsSynced(u.overlays,"xaxis")}if(O){pushActiveAxIds(v);pushActiveAxIds(g.yaxes);pushActiveAxIds(S.yaxes);pushActiveAxIdsSynced(u.overlays,"yaxis")}m={};for(i=0;i<n.length;i++){var e=n[i];var t=ie(_,e);ae.drawOne(_,t,{skipTitle:true});m[t._name+".range[0]"]=t.range[0];m[t._name+".range[1]"]=t.range[1]}ae.redrawComponents(_,n)}function doubleClick(){if(_._transitioningWithDuration)return;var e=_._context.doubleClick;var t=[];if(C)t=t.concat(d);if(L)t=t.concat(v);if(S.xaxes)t=t.concat(S.xaxes);if(S.yaxes)t=t.concat(S.yaxes);var r={};var a,n,i;if(e==="reset+autosize"){e="autosize";for(n=0;n<t.length;n++){a=t[n];if(a._rangeInitial&&(a.range[0]!==a._rangeInitial[0]||a.range[1]!==a._rangeInitial[1])||!a._rangeInitial&&!a.autorange){e="reset";break}}}if(e==="autosize"){for(n=0;n<t.length;n++){a=t[n];if(!a.fixedrange)r[a._name+".autorange"]=true}}else if(e==="reset"){if(C||g.isSubplotConstrained)t=t.concat(g.xaxes);if(L&&!g.isSubplotConstrained)t=t.concat(g.yaxes);if(g.isSubplotConstrained){if(!C)t=t.concat(d);else if(!L)t=t.concat(v)}for(n=0;n<t.length;n++){a=t[n];if(!a.fixedrange){if(!a._rangeInitial){r[a._name+".autorange"]=true}else{i=a._rangeInitial;r[a._name+".range[0]"]=i[0];r[a._name+".range[1]"]=i[1]}}}}_.emit("plotly_doubleclick",null);ee.call("_guiRelayout",_,r)}function dragTail(){updateSubplots([0,0,h,p]);Q.syncOrAsync([ge.previousPromises,function(){_._fullLayout._replotting=false;ee.call("_guiRelayout",_,m)}],_)}function updateSubplots(e){var t=_._fullLayout;var r=t._plots;var a=t._subplots.cartesian;var n,i,o,l;if(B){ee.subplotsRegistry.splom.drag(_)}if(P){for(n=0;n<a.length;n++){i=r[a[n]];o=i.xaxis;l=i.yaxis;if(i._scene){var s=Q.simpleMap(o.range,o.r2l);var c=Q.simpleMap(l.range,l.r2l);i._scene.update({range:[s[0],c[0],s[1],c[1]]})}}}if(B||P){he(_);pe(_)}if(H){var u=e[2]/T._length;var f=e[3]/k._length;for(n=0;n<a.length;n++){i=r[a[n]];o=i.xaxis;l=i.yaxis;var d=(D||S.isSubplotConstrained)&&!o.fixedrange&&A[o._id];var v=(O||S.isSubplotConstrained)&&!l.fixedrange&&M[l._id];var h,p;var g,m;if(d){h=u;g=w||S.isSubplotConstrained?e[0]:getShift(o,h)}else if(S.xaHash[o._id]){h=u;g=e[0]*o._length/T._length}else if(S.yaHash[o._id]){h=f;g=L==="ns"?-e[1]*o._length/k._length:getShift(o,h,{n:"top",s:"bottom"}[L])}else{h=getLinkedScaleFactor(o,u,f);g=scaleAndGetShift(o,h)}if(v){p=f;m=b||S.isSubplotConstrained?e[1]:getShift(l,p)}else if(S.yaHash[l._id]){p=f;m=e[1]*l._length/k._length}else if(S.xaHash[l._id]){p=u;m=C==="ew"?-e[0]*l._length/T._length:getShift(l,p,{e:"right",w:"left"}[C])}else{p=getLinkedScaleFactor(l,u,f);m=scaleAndGetShift(l,p)}if(!h&&!p){continue}if(!h)h=1;if(!p)p=1;var y=o._offset-g/h;var x=l._offset-m/p;i.clipRect.call(re.setTranslate,g,m).call(re.setScale,h,p);i.plot.call(re.setTranslate,y,x).call(re.setScale,1/h,1/p);if(h!==i.xScaleFactor||p!==i.yScaleFactor){re.setPointGroupScale(i.zoomScalePts,h,p);re.setTextPointsScale(i.zoomScaleTxt,h,p)}re.hideOutsideRangePoints(i.clipOnAxisFalseTraces,i);i.xScaleFactor=h;i.yScaleFactor=p}}}function getLinkedScaleFactor(e,t,r){if(e.fixedrange)return 0;if(D&&g.xaHash[e._id]){return t}if(O&&(g.isSubplotConstrained?g.xaHash:g.yaHash)[e._id]){return r}return 0}function scaleAndGetShift(e,t){if(t){e.range=e._r.slice();oe(e,t);return getShift(e,t)}return 0}function getShift(e,t,r){return e._length*(1-t)*ve[r||e.constraintoward||"middle"]}return y}function makeDragger(t,e,r,a){var n=Q.ensureSingle(t.draglayer,e,r,function(e){e.classed("drag",true).style({fill:"transparent","stroke-width":0}).attr("data-subplot",t.id)});n.call(c,a);return n.node()}function makeRectDragger(e,t,r,a,n,i,o){var l=makeDragger(e,"rect",t,r);K.select(l).call(re.setRect,a,n,i,o);return l}function isDirectionActive(e,t){for(var r=0;r<e.length;r++){if(!e[r].fixedrange)return t}return""}function getEndText(e,t){var r=e.range[t];var a=Math.abs(r-e.range[1-t]);var n;if(e.type==="date"){return r}else if(e.type==="log"){n=Math.ceil(Math.max(0,-Math.log(a)/Math.LN10))+3;return i("."+n+"g")(Math.pow(10,r))}else{n=Math.floor(Math.log(Math.abs(r))/Math.LN10)-Math.floor(Math.log(a)/Math.LN10)+4;return i("."+String(n)+"g")(r)}}function zoomAxRanges(e,t,r,a,n){for(var i=0;i<e.length;i++){var o=e[i];if(o.fixedrange)continue;if(o.rangebreaks){var l=o._id.charAt(0)==="y";var s=l?1-t:t;var c=l?1-r:r;a[o._name+".range[0]"]=o.l2r(o.p2l(s*o._length));a[o._name+".range[1]"]=o.l2r(o.p2l(c*o._length))}else{var u=o._rl[0];var f=o._rl[1]-u;a[o._name+".range[0]"]=o.l2r(u+f*t);a[o._name+".range[1]"]=o.l2r(u+f*r)}}if(n&&n.length){var d=(t+(1-r))/2;zoomAxRanges(n,d,1-d,a,[])}}function dragAxList(e,t){for(var r=0;r<e.length;r++){var a=e[r];if(!a.fixedrange){if(a.rangebreaks){var n=0;var i=a._length;var o=a.p2l(n+t)-a.p2l(n);var l=a.p2l(i+t)-a.p2l(i);var s=(o+l)/2;a.range=[a.l2r(a._rl[0]-s),a.l2r(a._rl[1]-s)]}else{a.range=[a.l2r(a._rl[0]-t/a._m),a.l2r(a._rl[1]-t/a._m)]}}}}function dZoom(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function getDragCursor(e,t,r){if(!e)return"pointer";if(e==="nsew"){if(r)return"";if(t==="pan")return"move";return"crosshair"}return e.toLowerCase()+"-resize"}function makeZoombox(e,t,r,a,n){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",o(r,a)).attr("d",n+"Z")}function makeCorners(e,t,r){return e.append("path").attr("class","zoombox-corners").style({fill:n.background,stroke:n.defaultLine,"stroke-width":1,opacity:0}).attr("transform",o(t,r)).attr("d","M0,0Z")}function updateZoombox(e,t,r,a,n,i){e.attr("d",a+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z");transitionZoombox(e,t,n,i)}function transitionZoombox(e,t,r,a){if(!r){e.transition().style("fill",a>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200);t.transition().style("opacity",1).duration(200)}}function removeZoombox(e){K.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function showDoubleClickNotifier(e){if(l&&e.data&&e._context.showTips){Q.notifier(Q._(e,"Double-click to zoom back out"),"long");l=false}}function xCorners(e,t){return"M"+(e.l-.5)+","+(t-ce-.5)+"h-3v"+(2*ce+1)+"h3ZM"+(e.r+.5)+","+(t-ce-.5)+"h3v"+(2*ce+1)+"h-3Z"}function yCorners(e,t){return"M"+(t-ce-.5)+","+(e.t-.5)+"v-3h"+(2*ce+1)+"v3ZM"+(t-ce-.5)+","+(e.b+.5)+"v3h"+(2*ce+1)+"v-3Z"}function xyCorners(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,ce)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function calcLinks(e,t,r,a,n){var i=false;var o={};var l={};var s,c,u,f;var d=(n||{}).xaHash;var v=(n||{}).yaHash;for(var h=0;h<t.length;h++){var p=t[h];for(s in r){if(p[s]){for(u in p){if(!(n&&(d[u]||v[u]))&&!(u.charAt(0)==="x"?r:a)[u]){o[u]=s}}for(c in a){if(!(n&&(d[c]||v[c]))&&p[c]){i=true}}}}for(c in a){if(p[c]){for(f in p){if(!(n&&(d[f]||v[f]))&&!(f.charAt(0)==="x"?r:a)[f]){l[f]=c}}}}}if(i){Q.extendFlat(o,l);l={}}var g={};var m=[];for(u in o){var y=ie(e,u);m.push(y);g[y._id]=y}var x={};var _=[];for(f in l){var b=ie(e,f);_.push(b);x[b._id]=b}return{xaHash:g,yaHash:x,xaxes:m,yaxes:_,xLinks:o,yLinks:l,isSubplotConstrained:i}}function attachWheelEventHandler(e,t){if(!a){if(e.onwheel!==undefined)e.onwheel=t;else if(e.onmousewheel!==undefined)e.onmousewheel=t;else if(!e.isAddedWheelEvent){e.isAddedWheelEvent=true;e.addEventListener("wheel",t,{passive:false})}}else{var r=e.onwheel!==undefined?"wheel":"mousewheel";if(e._onwheel){e.removeEventListener(r,e._onwheel)}e._onwheel=t;e.addEventListener(r,t,{passive:false})}}function hashValues(e){var t=[];for(var r in e)t.push(e[r]);return t}e.exports={makeDragBox:makeDragBox,makeDragger:makeDragger,makeRectDragger:makeRectDragger,makeZoombox:makeZoombox,makeCorners:makeCorners,updateZoombox:updateZoombox,xyCorners:xyCorners,transitionZoombox:transitionZoombox,removeZoombox:removeZoombox,showDoubleClickNotifier:showDoubleClickNotifier,attachWheelEventHandler:attachWheelEventHandler}},4305:function(e,r,t){"use strict";var a=t(9898);var c=t(211);var u=t(8569);var n=t(6964);var f=t(9323).makeDragBox;var d=t(5555).DRAGGERSIZE;r.initInteractions=function initInteractions(l){var s=l._fullLayout;if(l._context.staticPlot){a.select(l).selectAll(".drag").remove();return}if(!s._has("cartesian")&&!s._has("splom"))return;var e=Object.keys(s._plots||{}).sort(function(e,t){if((s._plots[e].mainplot&&true)===(s._plots[t].mainplot&&true)){var r=e.split("y");var a=t.split("y");return r[0]===a[0]?Number(r[1]||1)-Number(a[1]||1):Number(r[0]||1)-Number(a[0]||1)}return s._plots[e].mainplot?1:-1});e.forEach(function(t){var e=s._plots[t];var r=e.xaxis;var a=e.yaxis;if(!e.mainplot){var n=f(l,e,r._offset,a._offset,r._length,a._length,"ns","ew");n.onmousemove=function(e){l._fullLayout._rehover=function(){if(l._fullLayout._hoversubplot===t&&l._fullLayout._plots[t]){c.hover(l,e,t)}};c.hover(l,e,t);l._fullLayout._lasthover=n;l._fullLayout._hoversubplot=t};n.onmouseout=function(e){if(l._dragging)return;l._fullLayout._hoversubplot=null;u.unhover(l,e)};if(l._context.showAxisDragHandles){f(l,e,r._offset-d,a._offset-d,d,d,"n","w");f(l,e,r._offset+r._length,a._offset-d,d,d,"n","e");f(l,e,r._offset-d,a._offset+a._length,d,d,"s","w");f(l,e,r._offset+r._length,a._offset+a._length,d,d,"s","e")}}if(l._context.showAxisDragHandles){if(t===r._mainSubplot){var i=r._mainLinePosition;if(r.side==="top")i-=d;f(l,e,r._offset+r._length*.1,i,r._length*.8,d,"","ew");f(l,e,r._offset,i,r._length*.1,d,"","w");f(l,e,r._offset+r._length*.9,i,r._length*.1,d,"","e")}if(t===a._mainSubplot){var o=a._mainLinePosition;if(a.side!=="right")o-=d;f(l,e,o,a._offset+a._length*.1,d,a._length*.8,"ns","");f(l,e,o,a._offset+a._length*.9,d,a._length*.1,"s","");f(l,e,o,a._offset,d,a._length*.1,"n","")}}});var t=s._hoverlayer.node();t.onmousemove=function(e){e.target=l._fullLayout._lasthover;c.hover(l,e,s._hoversubplot)};t.onclick=function(e){e.target=l._fullLayout._lasthover;c.click(l,e)};t.onmousedown=function(e){l._fullLayout._lasthover.onmousedown(e)};r.updateFx(l)};r.updateFx=function(e){var t=e._fullLayout;var r=t.dragmode==="pan"?"move":"crosshair";n(t._draggers,r)}},6325:function(e,t,r){"use strict";var y=r(3972);var x=r(1828);var _=r(1675);e.exports=function makeIncludeComponents(m){return function includeComponents(e,t){var r=e[m];if(!Array.isArray(r))return;var a=y.subplotsRegistry.cartesian;var n=a.idRegex;var i=t._subplots;var o=i.xaxis;var l=i.yaxis;var s=i.cartesian;var c=t._has("cartesian")||t._has("gl2d");for(var u=0;u<r.length;u++){var f=r[u];if(!x.isPlainObject(f))continue;var d=_.cleanId(f.xref,"x",false);var v=_.cleanId(f.yref,"y",false);var h=n.x.test(d);var p=n.y.test(v);if(h||p){if(!c)x.pushUnique(t._basePlotModules,a);var g=false;if(h&&o.indexOf(d)===-1){o.push(d);g=true}if(p&&l.indexOf(v)===-1){l.push(v);g=true}if(g&&h&&p){s.push(d+v)}}}}}},3612:function(e,t,r){"use strict";var _=r(9898);var b=r(3972);var p=r(1828);var a=r(4875);var w=r(1424);var T=r(7659).a0;var y=r(1675);var k=r(5555);var n=r(7922);var d=p.ensureSingle;function ensureSingleAndAddDatum(e,t,r){return p.ensureSingle(e,t,r,function(e){e.datum(r)})}t.name="cartesian";t.attr=["xaxis","yaxis"];t.idRoot=["x","y"];t.idRegex=k.idRegex;t.attrRegex=k.attrRegex;t.attributes=r(9502);t.layoutAttributes=r(3838);t.supplyLayoutDefaults=r(6763);t.transitionAxes=r(6847);t.finalizeSubplots=function(e,t){var r=t._subplots;var a=r.xaxis;var n=r.yaxis;var i=r.cartesian;var o=i.concat(r.gl2d||[]);var l={};var s={};var c,u,f;for(c=0;c<o.length;c++){var d=o[c].split("y");l[d[0]]=1;s["y"+d[1]]=1}for(c=0;c<a.length;c++){u=a[c];if(!l[u]){f=(e[y.id2name(u)]||{}).anchor;if(!k.idRegex.y.test(f))f="y";i.push(u+f);o.push(u+f);if(!s[f]){s[f]=1;p.pushUnique(n,f)}}}for(c=0;c<n.length;c++){f=n[c];if(!s[f]){u=(e[y.id2name(f)]||{}).anchor;if(!k.idRegex.x.test(u))u="x";i.push(u+f);o.push(u+f);if(!l[u]){l[u]=1;p.pushUnique(a,u)}}}if(!o.length){u="";f="";for(var v in e){if(k.attrRegex.test(v)){var h=v.charAt(0);if(h==="x"){if(!u||+v.substr(5)<+u.substr(5)){u=v}}else if(!f||+v.substr(5)<+f.substr(5)){f=v}}}u=u?y.name2id(u):"x";f=f?y.name2id(f):"y";a.push(u);n.push(f);i.push(u+f)}};t.plot=function(e,t,r,a){var n=e._fullLayout;var i=n._subplots.cartesian;var o=e.calcdata;var l;if(!Array.isArray(t)){t=[];for(l=0;l<o.length;l++)t.push(l)}for(l=0;l<i.length;l++){var s=i[l];var c=n._plots[s];var u=[];var f;for(var d=0;d<o.length;d++){var v=o[d];var h=v[0].trace;if(h.xaxis+h.yaxis===s){if(t.indexOf(h.index)!==-1||h.carpet){if(f&&f[0].trace.xaxis+f[0].trace.yaxis===s&&["tonextx","tonexty","tonext"].indexOf(h.fill)!==-1&&u.indexOf(f)===-1){u.push(f)}u.push(v)}f=v}}plotOne(e,c,u,r,a)}};function plotOne(a,n,e,i,o){var t=k.traceLayerClasses;var r=a._fullLayout;var l=r._modules;var s,c,u;var f=[];var d=[];for(var v=0;v<l.length;v++){s=l[v];var h=s.name;var p=b.modules[h].categories;if(p.svg){var g=s.layerName||h+"layer";var m=s.plot;c=T(e,m);u=c[0];e=c[1];if(u.length){f.push({i:t.indexOf(g),className:g,plotMethod:m,cdModule:u})}if(p.zoomScale){d.push("."+g)}}}f.sort(function(e,t){return e.i-t.i});var y=n.plot.selectAll("g.mlayer").data(f,function(e){return e.className});y.enter().append("g").attr("class",function(e){return e.className}).classed("mlayer",true).classed("rangeplot",n.isRangePlot);y.exit().remove();y.order();y.each(function(e){var t=_.select(this);var r=e.className;e.plotMethod(a,n,e.cdModule,t,i,o);if(k.clipOnAxisFalseQuery.indexOf("."+r)===-1){w.setClipUrl(t,n.layerClipId,a)}});if(r._has("scattergl")){s=b.getModule("scattergl");u=T(e,s)[0];s.plot(a,n,u)}if(!a._context.staticPlot){if(n._hasClipOnAxisFalse){n.clipOnAxisFalseTraces=n.plot.selectAll(k.clipOnAxisFalseQuery.join(",")).selectAll(".trace")}if(d.length){var x=n.plot.selectAll(d.join(",")).selectAll(".trace");n.zoomScalePts=x.selectAll("path.point");n.zoomScaleTxt=x.selectAll(".textpoint")}}}t.clean=function(e,t,r,a){var n=a._plots||{};var i=t._plots||{};var o=a._subplots||{};var l;var s,c;if(a._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms){for(c in n){l=n[c];if(l.plotgroup)l.plotgroup.remove()}}var u=a._has&&a._has("gl");var f=t._has&&t._has("gl");if(u&&!f){for(c in n){l=n[c];if(l._scene)l._scene.destroy()}}if(o.xaxis&&o.yaxis){var d=y.listIds({_fullLayout:a});for(s=0;s<d.length;s++){var v=d[s];if(!t[y.id2name(v)]){a._infolayer.selectAll(".g-"+v+"title").remove()}}}var h=a._has&&a._has("cartesian");var p=t._has&&t._has("cartesian");if(h&&!p){purgeSubplotLayers(a._cartesianlayer.selectAll(".subplot"),a);a._defs.selectAll(".axesclip").remove();delete a._axisConstraintGroups;delete a._axisMatchGroups}else if(o.cartesian){for(s=0;s<o.cartesian.length;s++){var g=o.cartesian[s];if(!i[g]){var m="."+g+",."+g+"-x,."+g+"-y";a._cartesianlayer.selectAll(m).remove();removeSubplotExtras(g,a)}}}};t.drawFramework=function(a){var n=a._fullLayout;var e=makeSubplotData(a);var t=n._cartesianlayer.selectAll(".subplot").data(e,String);t.enter().append("g").attr("class",function(e){return"subplot "+e[0]});t.order();t.exit().call(purgeSubplotLayers,n);t.each(function(e){var t=e[0];var r=n._plots[t];r.plotgroup=_.select(this);makeSubplotLayer(a,r);r.draglayer=d(n._draggers,"g",t)})};t.rangePlot=function(e,t,r){makeSubplotLayer(e,t);plotOne(e,t,r);a.style(e)};function makeSubplotData(e){var t=e._fullLayout;var r=t._subplots.cartesian;var a=r.length;var n,i,o,l,s,c;var u=[];var f=[];for(n=0;n<a;n++){o=r[n];l=t._plots[o];s=l.xaxis;c=l.yaxis;var d=s._mainAxis;var v=c._mainAxis;var h=d._id+v._id;var p=t._plots[h];l.overlays=[];if(h!==o&&p){l.mainplot=h;l.mainplotinfo=p;f.push(o)}else{l.mainplot=undefined;l.mainplotinfo=undefined;u.push(o)}}for(n=0;n<f.length;n++){o=f[n];l=t._plots[o];l.mainplotinfo.overlays.push(l)}var g=u.concat(f);var m=new Array(a);for(n=0;n<a;n++){o=g[n];l=t._plots[o];s=l.xaxis;c=l.yaxis;var y=[o,s.layer,c.layer,s.overlaying||"",c.overlaying||""];for(i=0;i<l.overlays.length;i++){y.push(l.overlays[i].id)}m[n]=y}return m}function makeSubplotLayer(e,t){var r=t.plotgroup;var a=t.id;var n=k.layerValue2layerClass[t.xaxis.layer];var i=k.layerValue2layerClass[t.yaxis.layer];var o=e._fullLayout._hasOnlyLargeSploms;if(!t.mainplot){if(o){t.xlines=d(r,"path","xlines-above");t.ylines=d(r,"path","ylines-above");t.xaxislayer=d(r,"g","xaxislayer-above");t.yaxislayer=d(r,"g","yaxislayer-above")}else{var l=d(r,"g","layer-subplot");t.shapelayer=d(l,"g","shapelayer");t.imagelayer=d(l,"g","imagelayer");t.minorGridlayer=d(r,"g","minor-gridlayer");t.gridlayer=d(r,"g","gridlayer");t.zerolinelayer=d(r,"g","zerolinelayer");d(r,"path","xlines-below");d(r,"path","ylines-below");t.overlinesBelow=d(r,"g","overlines-below");d(r,"g","xaxislayer-below");d(r,"g","yaxislayer-below");t.overaxesBelow=d(r,"g","overaxes-below");t.plot=d(r,"g","plot");t.overplot=d(r,"g","overplot");t.xlines=d(r,"path","xlines-above");t.ylines=d(r,"path","ylines-above");t.overlinesAbove=d(r,"g","overlines-above");d(r,"g","xaxislayer-above");d(r,"g","yaxislayer-above");t.overaxesAbove=d(r,"g","overaxes-above");t.xlines=r.select(".xlines-"+n);t.ylines=r.select(".ylines-"+i);t.xaxislayer=r.select(".xaxislayer-"+n);t.yaxislayer=r.select(".yaxislayer-"+i)}}else{var s=t.mainplotinfo;var c=s.plotgroup;var u=a+"-x";var f=a+"-y";t.minorGridlayer=s.minorGridlayer;t.gridlayer=s.gridlayer;t.zerolinelayer=s.zerolinelayer;d(s.overlinesBelow,"path",u);d(s.overlinesBelow,"path",f);d(s.overaxesBelow,"g",u);d(s.overaxesBelow,"g",f);t.plot=d(s.overplot,"g",a);d(s.overlinesAbove,"path",u);d(s.overlinesAbove,"path",f);d(s.overaxesAbove,"g",u);d(s.overaxesAbove,"g",f);t.xlines=c.select(".overlines-"+n).select("."+u);t.ylines=c.select(".overlines-"+i).select("."+f);t.xaxislayer=c.select(".overaxes-"+n).select("."+u);t.yaxislayer=c.select(".overaxes-"+i).select("."+f)}if(!o){ensureSingleAndAddDatum(t.minorGridlayer,"g",t.xaxis._id);ensureSingleAndAddDatum(t.minorGridlayer,"g",t.yaxis._id);t.minorGridlayer.selectAll("g").map(function(e){return e[0]}).sort(y.idSort);ensureSingleAndAddDatum(t.gridlayer,"g",t.xaxis._id);ensureSingleAndAddDatum(t.gridlayer,"g",t.yaxis._id);t.gridlayer.selectAll("g").map(function(e){return e[0]}).sort(y.idSort)}t.xlines.style("fill","none").classed("crisp",true);t.ylines.style("fill","none").classed("crisp",true)}function purgeSubplotLayers(e,a){if(!e)return;var n={};e.each(function(e){var t=e[0];var r=_.select(this);r.remove();removeSubplotExtras(t,a);n[t]=true});for(var t in a._plots){var r=a._plots[t];var i=r.overlays||[];for(var o=0;o<i.length;o++){var l=i[o];if(n[l.id]){l.plot.selectAll(".trace").remove()}}}}function removeSubplotExtras(e,t){t._draggers.selectAll("g."+e).remove();t._defs.select("#clip"+t._uid+e+"plot").remove()}t.toSVG=function(e){var a=e._fullLayout._glimages;var r=_.select(e).selectAll(".svg-container");var t=r.filter(function(e,t){return t===r.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function canvasToImage(){var e=this;var t=e.toDataURL("image/png");var r=a.append("svg:image");r.attr({xmlns:n.svg,"xlink:href":t,preserveAspectRatio:"none",x:0,y:0,width:e.style.width,height:e.style.height})}t.each(canvasToImage)};t.updateFx=r(4305).updateFx},3838:function(e,t,r){"use strict";var a=r(1940);var n=r(2399);var i=r(9952).P;var o=r(1426).extendFlat;var l=r(4467).templatedArray;var s=r(2663).descriptionWithDates;var c=r(606).ONEDAY;var u=r(5555);var f=u.HOUR_PATTERN;var d=u.WEEKDAY_PATTERN;var v={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:undefined,dtick:undefined}};var h=o({},v,{values:v.values.slice().concat(["sync"])});function makeNticks(e){return{valType:"integer",min:0,dflt:e?5:0,editType:"ticks"}}var p={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}};var g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}};var m={valType:"data_array",editType:"ticks"};var y={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function makeTicklen(e){var t={valType:"number",min:0,editType:"ticks"};if(!e)t.dflt=5;return t}function makeTickwidth(e){var t={valType:"number",min:0,editType:"ticks"};if(!e)t.dflt=1;return t}var x={valType:"color",dflt:n.defaultLine,editType:"ticks"};var _={valType:"color",dflt:n.lightLine,editType:"ticks"};function makeGridwidth(e){var t={valType:"number",min:0,editType:"ticks"};if(!e)t.dflt=1;return t}var b=o({},i,{editType:"ticks"});var w={valType:"boolean",editType:"ticks"};e.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:n.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:a({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:true},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[true,false,"reversed"],dflt:true,editType:"axrange",impliedEdits:{"range[0]":undefined,"range[1]":undefined}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":false},anim:true},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":false},anim:true}],editType:"axrange",impliedEdits:{autorange:false},anim:true},fixedrange:{valType:"boolean",dflt:false,editType:"calc"},scaleanchor:{valType:"enumerated",values:[u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"calc"},rangebreaks:l("rangebreak",{enabled:{valType:"boolean",dflt:true,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[d,f,""],editType:"calc"},values:{valType:"info_array",freeLength:true,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:c},editType:"calc"}),tickmode:h,nticks:makeNticks(),tick0:p,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:m,ticktext:{valType:"data_array",editType:"ticks"},ticks:y,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[true,"ticks",false,"all","allticks"],dflt:false,editType:"ticks+layoutstyle"},ticklen:makeTicklen(),tickwidth:makeTickwidth(),tickcolor:x,showticklabels:{valType:"boolean",dflt:true,editType:"ticks"},labelalias:{valType:"any",dflt:false,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[true,false],dflt:false,editType:"ticks"},showspikes:{valType:"boolean",dflt:false,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:o({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:a({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:false,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:s("tick label")},tickformatstops:l("tickformatstop",{enabled:{valType:"boolean",dflt:true,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:s("hover text")},showline:{valType:"boolean",dflt:false,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:n.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:w,gridcolor:_,gridwidth:makeGridwidth(),griddash:b,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:n.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:true,editType:"ticks"},dividercolor:{valType:"color",dflt:n.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},minor:{tickmode:v,nticks:makeNticks("minor"),tick0:p,dtick:g,tickvals:m,ticks:y,ticklen:makeTicklen("minor"),tickwidth:makeTickwidth("minor"),tickcolor:x,gridcolor:_,gridwidth:makeGridwidth("minor"),griddash:b,showgrid:w,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:false,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:a({editType:"ticks"})}}},6763:function(e,t,r){"use strict";var ae=r(1828);var ne=r(7901);var ie=r(3469).isUnifiedHover;var oe=r(8212);var le=r(4467);var se=r(820);var ce=r(3838);var ue=r(951);var fe=r(1453);var de=r(9082);var ve=r(2830);var he=r(1675);var pe=he.id2name;var ge=he.name2id;var me=r(5555).AX_ID_PATTERN;var a=r(3972);var ye=a.traceIs;var xe=a.getComponentMethod;function appendList(e,t,r){if(Array.isArray(e[t]))e[t].push(r);else e[t]=[r]}e.exports=function supplyLayoutDefaults(o,e,t){var r=e.autotypenumbers;var a={};var n={};var i={};var l={};var s={};var c={};var u={};var f={};var d={};var v={};var h,p;for(h=0;h<t.length;h++){var g=t[h];if(!ye(g,"cartesian")&&!ye(g,"gl2d"))continue;var m;if(g.xaxis){m=pe(g.xaxis);appendList(a,m,g)}else if(g.xaxes){for(p=0;p<g.xaxes.length;p++){appendList(a,pe(g.xaxes[p]),g)}}var y;if(g.yaxis){y=pe(g.yaxis);appendList(a,y,g)}else if(g.yaxes){for(p=0;p<g.yaxes.length;p++){appendList(a,pe(g.yaxes[p]),g)}}if(g.type==="funnel"){if(g.orientation==="h"){if(m)n[m]=true;if(y)u[y]=true}else{if(y)i[y]=true}}else if(g.type==="image"){if(y)f[y]=true;if(m)f[m]=true}else{if(y){s[y]=true;c[y]=true}if(!ye(g,"carpet")||g.type==="carpet"&&!g._cheater){if(m)l[m]=true}}if(g.type==="carpet"&&g._cheater){if(m)n[m]=true}if(ye(g,"2dMap")){d[m]=true;d[y]=true}if(ye(g,"oriented")){var R=g.orientation==="h"?y:m;v[R]=true}}var x=e._subplots;var _=x.xaxis;var b=x.yaxis;var w=ae.simpleMap(_,pe);var T=ae.simpleMap(b,pe);var k=w.concat(T);var F=ne.background;if(_.length&&b.length){F=ae.coerce(o,e,se,"plot_bgcolor")}var N=ne.combine(F,e.paper_bgcolor);var A;var M;var S;var C;var L;function newAxLayoutOut(){var e=a[A]||[];L._traceIndices=e.map(function(e){return e._expandedIndex});L._annIndices=[];L._shapeIndices=[];L._selectionIndices=[];L._imgIndices=[];L._subplotsWith=[];L._counterAxes=[];L._name=L._attr=A;L._id=M}function coerce(e,t){return ae.coerce(C,L,ce,e,t)}function coerce2(e,t){return ae.coerce2(C,L,ce,e,t)}function getCounterAxes(e){return e==="x"?b:_}function getOverlayableAxes(e,t){var r=e==="x"?w:T;var a=[];for(var n=0;n<r.length;n++){var i=r[n];if(i!==t&&!(o[i]||{}).overlaying){a.push(ge(i))}}return a}var D={x:getCounterAxes("x"),y:getCounterAxes("y")};var E=D.x.concat(D.y);var O={};var P=[];function addMissingMatchedAxis(){var e=C.matches;if(me.test(e)&&E.indexOf(e)===-1){O[e]=C.type;P=Object.keys(O)}}var z=oe(o,e);var I=ie(z);for(h=0;h<k.length;h++){A=k[h];M=ge(A);S=A.charAt(0);if(!ae.isPlainObject(o[A])){o[A]={}}C=o[A];L=le.newContainer(e,A,S+"axis");newAxLayoutOut();var B=S==="x"&&!l[A]&&n[A]||S==="y"&&!s[A]&&i[A];var H=S==="y"&&(!c[A]&&u[A]||f[A]);var j={hasMinor:true,letter:S,font:e.font,outerTicks:d[A],showGrid:!v[A],data:a[A]||[],bgColor:N,calendar:e.calendar,automargin:true,visibleDflt:B,reverseDflt:H,autotypenumbersDflt:r,splomStash:((e._splomAxes||{})[S]||{})[M]};coerce("uirevision",e.uirevision);ue(C,L,coerce,j);fe(C,L,coerce,j,e);var V=I&&S===z.charAt(0);var Y=coerce2("spikecolor",I?L.color:undefined);var U=coerce2("spikethickness",I?1.5:undefined);var G=coerce2("spikedash",I?"dot":undefined);var q=coerce2("spikemode",I?"across":undefined);var Z=coerce2("spikesnap");var W=coerce("showspikes",!!V||!!Y||!!U||!!G||!!q||!!Z);if(!W){delete L.spikecolor;delete L.spikethickness;delete L.spikedash;delete L.spikemode;delete L.spikesnap}var X=pe(C.overlaying);var J=[0,1];if(e[X]!==undefined){var K=pe(e[X].anchor);if(e[K]!==undefined){J=e[K].domain}}ve(C,L,coerce,{letter:S,counterAxes:D[S],overlayableAxes:getOverlayableAxes(S,A),grid:e.grid,overlayingDomain:J});coerce("title.standoff");addMissingMatchedAxis();L._input=C}h=0;while(h<P.length){M=P[h++];A=pe(M);S=A.charAt(0);if(!ae.isPlainObject(o[A])){o[A]={}}C=o[A];L=le.newContainer(e,A,S+"axis");newAxLayoutOut();var Q={letter:S,font:e.font,outerTicks:d[A],showGrid:!v[A],data:[],bgColor:N,calendar:e.calendar,automargin:true,visibleDflt:false,reverseDflt:false,autotypenumbersDflt:r,splomStash:((e._splomAxes||{})[S]||{})[M]};coerce("uirevision",e.uirevision);L.type=O[M]||"linear";fe(C,L,coerce,Q,e);ve(C,L,coerce,{letter:S,counterAxes:D[S],overlayableAxes:getOverlayableAxes(S,A),grid:e.grid});coerce("fixedrange");addMissingMatchedAxis();L._input=C}var $=xe("rangeslider","handleDefaults");var ee=xe("rangeselector","handleDefaults");for(h=0;h<w.length;h++){A=w[h];C=o[A];L=e[A];$(o,e,A);if(L.type==="date"){ee(C,L,e,T,L.calendar)}coerce("fixedrange")}for(h=0;h<T.length;h++){A=T[h];C=o[A];L=e[A];var te=e[pe(L.anchor)];var re=xe("rangeslider","isVisible")(te);coerce("fixedrange",re)}de.handleDefaults(o,e,{axIds:E.concat(P).sort(he.idSort),axHasImage:f})}},2128:function(e,t,r){"use strict";var b=r(4267).mix;var w=r(2399);var T=r(1828);e.exports=function handleLineGridDefaults(r,a,e,n){n=n||{};var t=n.dfltColor;function coerce2(e,t){return T.coerce2(r,a,n.attributes,e,t)}var i=coerce2("linecolor",t);var o=coerce2("linewidth");var l=e("showline",n.showLine||!!i||!!o);if(!l){delete a.linecolor;delete a.linewidth}var s=b(t,n.bgColor,n.blend||w.lightFraction).toRgbString();var c=coerce2("gridcolor",s);var u=coerce2("gridwidth");var f=coerce2("griddash");var d=e("showgrid",n.showGrid||!!c||!!u||!!f);if(!d){delete a.gridcolor;delete a.gridwidth;delete a.griddash}if(n.hasMinor){var v=b(a.gridcolor,n.bgColor,67).toRgbString();var h=coerce2("minor.gridcolor",v);var p=coerce2("minor.gridwidth",a.gridwidth||1);var g=coerce2("minor.griddash",a.griddash||"solid");var m=e("minor.showgrid",!!h||!!p||!!g);if(!m){delete a.minor.gridcolor;delete a.minor.gridwidth;delete a.minor.griddash}}if(!n.noZeroLine){var y=coerce2("zerolinecolor",t);var x=coerce2("zerolinewidth");var _=e("zeroline",n.showGrid||!!y||!!x);if(!_){delete a.zerolinecolor;delete a.zerolinewidth}}}},2830:function(e,t,r){"use strict";var _=r(2770);var b=r(1828);e.exports=function handlePositionDefaults(e,t,r,a){var n=a.counterAxes||[];var i=a.overlayableAxes||[];var o=a.letter;var l=a.grid;var s=a.overlayingDomain;var c,u,f,d,v,h;if(l){u=l._domains[o][l._axisMap[t._id]];c=l._anchors[t._id];if(u){f=l[o+"side"].split(" ")[0];d=l.domain[o][f==="right"||f==="top"?1:0]}}u=u||[0,1];c=c||(_(e.position)?"free":n[0]||"free");f=f||(o==="x"?"bottom":"left");d=d||0;v=0;h=false;var p=b.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(n),dflt:c}},"anchor");var g=b.coerce(e,t,{side:{valType:"enumerated",values:o==="x"?["bottom","top"]:["left","right"],dflt:f}},"side");if(p==="free"){if(o==="y"){var m=r("autoshift");if(m){d=g==="left"?s[0]:s[1];h=t.automargin?t.automargin:true;v=g==="left"?-3:3}r("shift",v)}r("position",d)}r("automargin",h);var y=false;if(i.length){y=b.coerce(e,t,{overlaying:{valType:"enumerated",values:[false].concat(i),dflt:false}},"overlaying")}if(!y){var x=r("domain",u);if(x[0]>x[1]-1/4096)t.domain=u;b.noneOrAll(e.domain,t.domain,u);if(t.tickmode==="sync"){t.tickmode="auto"}}r("layer");return t}},9426:function(e,t,r){"use strict";var c=r(9652);e.exports=function handlePrefixSuffixDefaults(e,t,r,a,n){if(!n)n={};var i=n.tickSuffixDflt;var o=c(e);var l=r("tickprefix");if(l)r("showtickprefix",o);var s=r("ticksuffix",i);if(s)r("showticksuffix",o)}},2449:function(e,t,r){"use strict";var i=r(8783).FROM_BL;e.exports=function scaleZoom(e,t,r){if(r===undefined){r=i[e.constraintoward||"center"]}var a=[e.r2l(e.range[0]),e.r2l(e.range[1])];var n=a[0]+(a[1]-a[0])*r;e.range=e._input.range=[e.l2r(n+(a[0]-n)*t),e.l2r(n+(a[1]-n)*t)];e.setScale()}},1994:function(e,t,r){"use strict";var n=r(9898);var i=r(4096).g0;var x=r(1828);var o=x.numberFormat;var f=r(2770);var _=x.cleanNumber;var l=x.ms2DateTime;var s=x.dateTime2ms;var c=x.ensureNumber;var m=x.isArrayOrTypedArray;var a=r(606);var v=a.FP_SAFE;var b=a.BADNUM;var w=a.LOG_CLIP;var T=a.ONEWEEK;var k=a.ONEDAY;var A=a.ONEHOUR;var M=a.ONEMIN;var S=a.ONESEC;var C=r(1675);var L=r(5555);var D=L.HOUR_PATTERN;var O=L.WEEKDAY_PATTERN;function fromLog(e){return Math.pow(10,e)}function isValidCategory(e){return e!==null&&e!==undefined}e.exports=function setConvert(y,h){h=h||{};var p=y._id||"x";var g=p.charAt(0);function toLog(e,t){if(e>0)return Math.log(e)/Math.LN10;else if(e<=0&&t&&y.range&&y.range.length===2){var r=y.range[0];var a=y.range[1];return.5*(r+a-2*w*Math.abs(r-a))}else return b}function dt2ms(e,t,r,a){if((a||{}).msUTC&&f(e)){return+e}var n=s(e,r||y.calendar);if(n===b){if(f(e)){e=+e;var i=Math.floor(x.mod(e+.05,1)*10);var o=Math.round(e-i/10);n=s(new Date(o))+i/10}else return b}return n}function ms2dt(e,t,r){return l(e,t,r||y.calendar)}function getCategoryName(e){return y._categories[Math.round(e)]}function setCategoryIndex(e){if(isValidCategory(e)){if(y._categoriesMap===undefined){y._categoriesMap={}}if(y._categoriesMap[e]!==undefined){return y._categoriesMap[e]}else{y._categories.push(typeof e==="number"?String(e):e);var t=y._categories.length-1;y._categoriesMap[e]=t;return t}}return b}function setMultiCategoryIndex(e,t){var r=new Array(t);for(var a=0;a<t;a++){var n=(e[0]||[])[a];var i=(e[1]||[])[a];r[a]=getCategoryIndex([n,i])}return r}function getCategoryIndex(e){if(y._categoriesMap){return y._categoriesMap[e]}}function getCategoryPosition(e){var t=getCategoryIndex(e);if(t!==undefined)return t;if(f(e))return+e}function getRangePosition(e){return f(e)?+e:getCategoryIndex(e)}function _l2p(e,t,r){return n.round(r+t*e,2)}function _p2l(e,t,r){return(e-r)/t}var d=function d(e){if(!f(e))return b;return _l2p(e,y._m,y._b)};var a=function(e){return _p2l(e,y._m,y._b)};if(y.rangebreaks){var u=g==="y";d=function(e){if(!f(e))return b;var t=y._rangebreaks.length;if(!t)return _l2p(e,y._m,y._b);var r=u;if(y.range[0]>y.range[1])r=!r;var a=r?-1:1;var n=a*e;var i=0;for(var o=0;o<t;o++){var l=a*y._rangebreaks[o].min;var s=a*y._rangebreaks[o].max;if(n<l)break;if(n>s)i=o+1;else{i=n<(l+s)/2?o:o+1;break}}var c=y._B[i]||0;if(!isFinite(c))return 0;return _l2p(e,y._m2,c)};a=function(e){var t=y._rangebreaks.length;if(!t)return _p2l(e,y._m,y._b);var r=0;for(var a=0;a<t;a++){if(e<y._rangebreaks[a].pmin)break;if(e>y._rangebreaks[a].pmax)r=a+1}return _p2l(e,y._m2,y._B[r])}}y.c2l=y.type==="log"?toLog:c;y.l2c=y.type==="log"?fromLog:c;y.l2p=d;y.p2l=a;y.c2p=y.type==="log"?function(e,t){return d(toLog(e,t))}:d;y.p2c=y.type==="log"?function(e){return fromLog(a(e))}:a;if(["linear","-"].indexOf(y.type)!==-1){y.d2r=y.r2d=y.d2c=y.r2c=y.d2l=y.r2l=_;y.c2d=y.c2r=y.l2d=y.l2r=c;y.d2p=y.r2p=function(e){return y.l2p(_(e))};y.p2d=y.p2r=a;y.cleanPos=c}else if(y.type==="log"){y.d2r=y.d2l=function(e,t){return toLog(_(e),t)};y.r2d=y.r2c=function(e){return fromLog(_(e))};y.d2c=y.r2l=_;y.c2d=y.l2r=c;y.c2r=toLog;y.l2d=fromLog;y.d2p=function(e,t){return y.l2p(y.d2r(e,t))};y.p2d=function(e){return fromLog(a(e))};y.r2p=function(e){return y.l2p(_(e))};y.p2r=a;y.cleanPos=c}else if(y.type==="date"){y.d2r=y.r2d=x.identity;y.d2c=y.r2c=y.d2l=y.r2l=dt2ms;y.c2d=y.c2r=y.l2d=y.l2r=ms2dt;y.d2p=y.r2p=function(e,t,r){return y.l2p(dt2ms(e,0,r))};y.p2d=y.p2r=function(e,t,r){return ms2dt(a(e),t,r)};y.cleanPos=function(e){return x.cleanDate(e,b,y.calendar)}}else if(y.type==="category"){y.d2c=y.d2l=setCategoryIndex;y.r2d=y.c2d=y.l2d=getCategoryName;y.d2r=y.d2l_noadd=getCategoryPosition;y.r2c=function(e){var t=getRangePosition(e);return t!==undefined?t:y.fraction2r(.5)};y.l2r=y.c2r=c;y.r2l=getRangePosition;y.d2p=function(e){return y.l2p(y.r2c(e))};y.p2d=function(e){return getCategoryName(a(e))};y.r2p=y.d2p;y.p2r=a;y.cleanPos=function(e){if(typeof e==="string"&&e!=="")return e;return c(e)}}else if(y.type==="multicategory"){y.r2d=y.c2d=y.l2d=getCategoryName;y.d2r=y.d2l_noadd=getCategoryPosition;y.r2c=function(e){var t=getCategoryPosition(e);return t!==undefined?t:y.fraction2r(.5)};y.r2c_just_indices=getCategoryIndex;y.l2r=y.c2r=c;y.r2l=getCategoryPosition;y.d2p=function(e){return y.l2p(y.r2c(e))};y.p2d=function(e){return getCategoryName(a(e))};y.r2p=y.d2p;y.p2r=a;y.cleanPos=function(e){if(Array.isArray(e)||typeof e==="string"&&e!=="")return e;return c(e)};y.setupMultiCategory=function(e){var t=y._traceIndices;var r,a;var n=y._matchGroup;if(n&&y._categories.length===0){for(var i in n){if(i!==p){var o=h[C.id2name(i)];t=t.concat(o._traceIndices)}}}var l=[[0,{}],[0,{}]];var s=[];for(r=0;r<t.length;r++){var c=e[t[r]];if(g in c){var u=c[g];var f=c._length||x.minRowLength(u);if(m(u[0])&&m(u[1])){for(a=0;a<f;a++){var d=u[0][a];var v=u[1][a];if(isValidCategory(d)&&isValidCategory(v)){s.push([d,v]);if(!(d in l[0][1])){l[0][1][d]=l[0][0]++}if(!(v in l[1][1])){l[1][1][v]=l[1][0]++}}}}}}s.sort(function(e,t){var r=l[0][1];var a=r[e[0]]-r[t[0]];if(a)return a;var n=l[1][1];return n[e[1]]-n[t[1]]});for(r=0;r<s.length;r++){setCategoryIndex(s[r])}}}y.fraction2r=function(e){var t=y.r2l(y.range[0]);var r=y.r2l(y.range[1]);return y.l2r(t+e*(r-t))};y.r2fraction=function(e){var t=y.r2l(y.range[0]);var r=y.r2l(y.range[1]);return(y.r2l(e)-t)/(r-t)};y.cleanRange=function(e,t){if(!t)t={};if(!e)e="range";var r=x.nestedProperty(y,e).get();var a,n;if(y.type==="date")n=x.dfltRange(y.calendar);else if(g==="y")n=L.DFLTRANGEY;else if(y._name==="realaxis")n=[0,1];else n=t.dfltRange||L.DFLTRANGEX;n=n.slice();if(y.rangemode==="tozero"||y.rangemode==="nonnegative"){n[0]=0}if(!r||r.length!==2){x.nestedProperty(y,e).set(n);return}if(y.type==="date"&&!y.autorange){r[0]=x.cleanDate(r[0],b,y.calendar);r[1]=x.cleanDate(r[1],b,y.calendar)}for(a=0;a<2;a++){if(y.type==="date"){if(!x.isDateTime(r[a],y.calendar)){y[e]=n;break}if(y.r2l(r[0])===y.r2l(r[1])){var i=x.constrain(y.r2l(r[0]),x.MIN_MS+1e3,x.MAX_MS-1e3);r[0]=y.l2r(i-1e3);r[1]=y.l2r(i+1e3);break}}else{if(!f(r[a])){if(f(r[1-a])){r[a]=r[1-a]*(a?10:.1)}else{y[e]=n;break}}if(r[a]<-v)r[a]=-v;else if(r[a]>v)r[a]=v;if(r[0]===r[1]){var o=Math.max(1,Math.abs(r[0]*1e-6));r[0]-=o;r[1]+=o}}}};y.setScale=function(e){var t=h._size;if(y.overlaying){var r=C.getFromId({_fullLayout:h},y.overlaying);y.domain=r.domain}var a=e&&y._r?"_r":"range";var n=y.calendar;y.cleanRange(a);var i=y.r2l(y[a][0],n);var o=y.r2l(y[a][1],n);var l=g==="y";if(l){y._offset=t.t+(1-y.domain[1])*t.h;y._length=t.h*(y.domain[1]-y.domain[0]);y._m=y._length/(i-o);y._b=-y._m*o}else{y._offset=t.l+y.domain[0]*t.w;y._length=t.w*(y.domain[1]-y.domain[0]);y._m=y._length/(o-i);y._b=-y._m*i}y._rangebreaks=[];y._lBreaks=0;y._m2=0;y._B=[];if(y.rangebreaks){var s,c;y._rangebreaks=y.locateBreaks(Math.min(i,o),Math.max(i,o));if(y._rangebreaks.length){for(s=0;s<y._rangebreaks.length;s++){c=y._rangebreaks[s];y._lBreaks+=Math.abs(c.max-c.min)}var u=l;if(i>o)u=!u;if(u)y._rangebreaks.reverse();var f=u?-1:1;y._m2=f*y._length/(Math.abs(o-i)-y._lBreaks);y._B.push(-y._m2*(l?o:i));for(s=0;s<y._rangebreaks.length;s++){c=y._rangebreaks[s];y._B.push(y._B[y._B.length-1]-f*y._m2*(c.max-c.min))}for(s=0;s<y._rangebreaks.length;s++){c=y._rangebreaks[s];c.pmin=d(c.min);c.pmax=d(c.max)}}}if(!isFinite(y._m)||!isFinite(y._b)||y._length<0){h._replotting=false;throw new Error("Something went wrong with axis scaling")}};y.maskBreaks=function(e){var t=y.rangebreaks||[];var r,a,n,i,o;if(!t._cachedPatterns){t._cachedPatterns=t.map(function(e){return e.enabled&&e.bounds?x.simpleMap(e.bounds,e.pattern?_:y.d2c):null})}if(!t._cachedValues){t._cachedValues=t.map(function(e){return e.enabled&&e.values?x.simpleMap(e.values,y.d2c).sort(x.sorterAsc):null})}for(var l=0;l<t.length;l++){var s=t[l];if(s.enabled){if(s.bounds){var c=s.pattern;r=t._cachedPatterns[l];a=r[0];n=r[1];switch(c){case O:o=new Date(e);i=o.getUTCDay();if(a>n){n+=7;if(i<a)i+=7}break;case D:o=new Date(e);var u=o.getUTCHours();var f=o.getUTCMinutes();var d=o.getUTCSeconds();var v=o.getUTCMilliseconds();i=u+(f/60+d/3600+v/36e5);if(a>n){n+=24;if(i<a)i+=24}break;case"":i=e;break}if(i>=a&&i<n)return b}else{var h=t._cachedValues[l];for(var p=0;p<h.length;p++){a=h[p];n=a+s.dvalue;if(e>=a&&e<n)return b}}}}return e};y.locateBreaks=function(i,o){var e,t,r,a;var l=[];if(!y.rangebreaks)return l;var n=y.rangebreaks.slice().sort(function(e,t){if(e.pattern===O&&t.pattern===D)return-1;if(t.pattern===O&&e.pattern===D)return 1;return 0});var s=function(e,t){e=x.constrain(e,i,o);t=x.constrain(t,i,o);if(e===t)return;var r=true;for(var a=0;a<l.length;a++){var n=l[a];if(e<n.max&&t>=n.min){if(e<n.min){n.min=e}if(t>n.max){n.max=t}r=false}}if(r){l.push({min:e,max:t})}};for(e=0;e<n.length;e++){var c=n[e];if(c.enabled){if(c.bounds){var u=i;var f=o;if(c.pattern){u=Math.floor(u)}t=x.simpleMap(c.bounds,c.pattern?_:y.r2l);r=t[0];a=t[1];var d=new Date(u);var v;var h;switch(c.pattern){case O:h=T;v=((a<r?7:0)+(a-r))*k;u+=r*k-(d.getUTCDay()*k+d.getUTCHours()*A+d.getUTCMinutes()*M+d.getUTCSeconds()*S+d.getUTCMilliseconds());break;case D:h=k;v=((a<r?24:0)+(a-r))*A;u+=r*A-(d.getUTCHours()*A+d.getUTCMinutes()*M+d.getUTCSeconds()*S+d.getUTCMilliseconds());break;default:u=Math.min(t[0],t[1]);f=Math.max(t[0],t[1]);h=f-u;v=h}for(var p=u;p<f;p+=h){s(p,p+v)}}else{var g=x.simpleMap(c.values,y.d2c);for(var m=0;m<g.length;m++){r=g[m];a=r+c.dvalue;s(r,a)}}}}l.sort(function(e,t){return e.min-t.min});return l};y.makeCalcdata=function(e,t,r){var a,n,i,o;var l=y.type;var s=l==="date"&&e[t+"calendar"];if(t in e){a=e[t];o=e._length||x.minRowLength(a);if(x.isTypedArray(a)&&(l==="linear"||l==="log")){if(o===a.length){return a}else if(a.subarray){return a.subarray(0,o)}}if(l==="multicategory"){return setMultiCategoryIndex(a,o)}n=new Array(o);for(i=0;i<o;i++){n[i]=y.d2c(a[i],0,s,r)}}else{var c=t+"0"in e?y.d2c(e[t+"0"],0,s):0;var u=e["d"+t]?Number(e["d"+t]):1;a=e[{x:"y",y:"x"}[t]];o=e._length||a.length;n=new Array(o);for(i=0;i<o;i++){n[i]=c+i*u}}if(y.rangebreaks){for(i=0;i<o;i++){n[i]=y.maskBreaks(n[i])}}return n};y.isValidRange=function(e){return Array.isArray(e)&&e.length===2&&f(y.r2l(e[0]))&&f(y.r2l(e[1]))};y.isPtWithinRange=function(e,t){var r=y.c2l(e[g],null,t);var a=y.r2l(y.range[0]);var n=y.r2l(y.range[1]);if(a<n){return a<=r&&r<=n}else{return n<=r&&r<=a}};y._emptyCategories=function(){y._categories=[];y._categoriesMap={}};y.clearCalc=function(){var e=y._matchGroup;if(e){var t=null;var r=null;for(var a in e){var n=h[C.id2name(a)];if(n._categories){t=n._categories;r=n._categoriesMap;break}}if(t&&r){y._categories=t;y._categoriesMap=r}else{y._emptyCategories()}}else{y._emptyCategories()}if(y._initialCategories){for(var i=0;i<y._initialCategories.length;i++){setCategoryIndex(y._initialCategories[i])}}};y.sortByInitialCategories=function(){var e=[];y._emptyCategories();if(y._initialCategories){for(var t=0;t<y._initialCategories.length;t++){setCategoryIndex(y._initialCategories[t])}}e=e.concat(y._traceIndices);var r=y._matchGroup;for(var a in r){if(p===a)continue;var n=h[C.id2name(a)];n._categories=y._categories;n._categoriesMap=y._categoriesMap;e=e.concat(n._traceIndices)}return e};var e=h._d3locale;if(y.type==="date"){y._dateFormat=e?e.timeFormat:i;y._extraFormat=h._extraFormat}y._separators=h.separators;y._numFormat=e?e.numberFormat:o;delete y._minDtick;delete y._forceTick0}},9652:function(e){"use strict";e.exports=function getShowAttrDflt(t){var e=["showexponent","showtickprefix","showticksuffix"];var r=e.filter(function(e){return t[e]!==undefined});var a=function(e){return t[e]===t[r[0]]};if(r.every(a)||r.length===1){return t[r[0]]}}},6115:function(e,t,r){"use strict";var v=r(1828);var h=r(7901).contrast;var p=r(3838);var g=r(9652);var m=r(5501);e.exports=function handleTickLabelDefaults(e,t,r,a,n){if(!n)n={};var i=r("labelalias");if(!v.isPlainObject(i))delete t.labelalias;var o=g(e);var l=r("showticklabels");if(l){var s=n.font||{};var c=t.color;var u=t.ticklabelposition||"";var f=u.indexOf("inside")!==-1?h(n.bgColor):c&&c!==p.color.dflt?c:s.color;v.coerceFont(r,"tickfont",{family:s.family,size:s.size,color:f});if(!n.noTicklabelstep&&a!=="multicategory"&&a!=="log"){r("ticklabelstep")}if(!n.noAng)r("tickangle");if(a!=="category"){var d=r("tickformat");m(e,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:tickformatstopDefaults});if(!t.tickformatstops.length){delete t.tickformatstops}if(!n.noExp&&!d&&a!=="date"){r("showexponent",o);r("exponentformat");r("minexponent");r("separatethousands")}}}};function tickformatstopDefaults(r,a){function coerce(e,t){return v.coerce(r,a,p.tickformatstops,e,t)}var e=coerce("enabled");if(e){coerce("dtickrange");coerce("value")}}},8701:function(e,t,r){"use strict";var v=r(1828);var h=r(3838);e.exports=function handleTickMarkDefaults(e,t,r,a){var n=a.isMinor;var i=n?e.minor||{}:e;var o=n?t.minor:t;var l=n?h.minor:h;var s=n?"minor.":"";var c=v.coerce2(i,o,l,"ticklen",n?(t.ticklen||5)*.6:undefined);var u=v.coerce2(i,o,l,"tickwidth",n?t.tickwidth||1:undefined);var f=v.coerce2(i,o,l,"tickcolor",(n?t.tickcolor:undefined)||o.color);var d=r(s+"ticks",!n&&a.outerTicks||c||u||f?"outside":"");if(!d){delete o.ticklen;delete o.tickwidth;delete o.tickcolor}}},6218:function(e,t,r){"use strict";var g=r(6287);var m=r(1828).isArrayOrTypedArray;e.exports=function handleTickValueDefaults(e,t,r,a,n){if(!n)n={};var i=n.isMinor;var o=i?e.minor||{}:e;var l=i?t.minor:t;var s=i?"minor.":"";function readInput(e){var t=o[e];return t!==undefined?t:(l._template||{})[e]}var c=readInput("tick0");var u=readInput("dtick");var f=readInput("tickvals");var d=m(f)?"array":u?"linear":"auto";var v=r(s+"tickmode",d);if(v==="auto"||v==="sync"){r(s+"nticks")}else if(v==="linear"){var h=l.dtick=g.dtick(u,a);l.tick0=g.tick0(c,a,t.calendar,h)}else if(a!=="multicategory"){var p=r(s+"tickvals");if(p===undefined)l.tickmode="auto";else if(!i)r("ticktext")}}},6847:function(e,t,r){"use strict";var f=r(9898);var d=r(3972);var S=r(1828);var C=r(1424);var L=r(9298);e.exports=function transitionAxes(M,i,a,e){var n=M._fullLayout;if(i.length===0){L.redrawComponents(M);return}function unsetSubplotTransform(e){var t=e.xaxis;var r=e.yaxis;n._defs.select("#"+e.clipId+"> rect").call(C.setTranslate,0,0).call(C.setScale,1,1);e.plot.call(C.setTranslate,t._offset,r._offset).call(C.setScale,1,1);var a=e.plot.selectAll(".scatterlayer .trace");a.selectAll(".point").call(C.setPointGroupScale,1,1);a.selectAll(".textpoint").call(C.setTextPointsScale,1,1);a.call(C.hideOutsideRangePoints,e)}function updateSubplot(e,t){var r=e.plotinfo;var a=r.xaxis;var n=r.yaxis;var i=a._length;var o=n._length;var l=!!e.xr1;var s=!!e.yr1;var c=[];if(l){var u=S.simpleMap(e.xr0,a.r2l);var f=S.simpleMap(e.xr1,a.r2l);var d=u[1]-u[0];var v=f[1]-f[0];c[0]=(u[0]*(1-t)+t*f[0]-u[0])/(u[1]-u[0])*i;c[2]=i*(1-t+t*v/d);a.range[0]=a.l2r(u[0]*(1-t)+t*f[0]);a.range[1]=a.l2r(u[1]*(1-t)+t*f[1])}else{c[0]=0;c[2]=i}if(s){var h=S.simpleMap(e.yr0,n.r2l);var p=S.simpleMap(e.yr1,n.r2l);var g=h[1]-h[0];var m=p[1]-p[0];c[1]=(h[1]*(1-t)+t*p[1]-h[1])/(h[0]-h[1])*o;c[3]=o*(1-t+t*m/g);n.range[0]=a.l2r(h[0]*(1-t)+t*p[0]);n.range[1]=n.l2r(h[1]*(1-t)+t*p[1])}else{c[1]=0;c[3]=o}L.drawOne(M,a,{skipTitle:true});L.drawOne(M,n,{skipTitle:true});L.redrawComponents(M,[a._id,n._id]);var y=l?i/c[2]:1;var x=s?o/c[3]:1;var _=l?c[0]:0;var b=s?c[1]:0;var w=l?c[0]/c[2]*i:0;var T=s?c[1]/c[3]*o:0;var k=a._offset-w;var A=n._offset-T;r.clipRect.call(C.setTranslate,_,b).call(C.setScale,1/y,1/x);r.plot.call(C.setTranslate,k,A).call(C.setScale,y,x);C.setPointGroupScale(r.zoomScalePts,1/y,1/x);C.setTextPointsScale(r.zoomScaleTxt,1/y,1/x)}var o;if(e){o=e()}function transitionComplete(){var e={};for(var t=0;t<i.length;t++){var r=i[t];var a=r.plotinfo.xaxis;var n=r.plotinfo.yaxis;if(r.xr1)e[a._name+".range"]=r.xr1.slice();if(r.yr1)e[n._name+".range"]=r.yr1.slice()}o&&o();return d.call("relayout",M,e).then(function(){for(var e=0;e<i.length;e++){unsetSubplotTransform(i[e].plotinfo)}})}function transitionInterrupt(){var e={};for(var t=0;t<i.length;t++){var r=i[t];var a=r.plotinfo.xaxis;var n=r.plotinfo.yaxis;if(r.xr0)e[a._name+".range"]=r.xr0.slice();if(r.yr0)e[n._name+".range"]=r.yr0.slice()}return d.call("relayout",M,e).then(function(){for(var e=0;e<i.length;e++){unsetSubplotTransform(i[e].plotinfo)}})}var l,s,c;var u=f.ease(a.easing);M._transitionData._interruptCallbacks.push(function(){window.cancelAnimationFrame(c);c=null;return transitionInterrupt()});function doFrame(){s=Date.now();var e=Math.min(1,(s-l)/a.duration);var t=u(e);for(var r=0;r<i.length;r++){updateSubplot(i[r],t)}if(s-l>a.duration){transitionComplete();c=window.cancelAnimationFrame(doFrame)}else{c=window.requestAnimationFrame(doFrame)}}l=Date.now();c=window.requestAnimationFrame(doFrame);return Promise.resolve()}},951:function(e,t,r){"use strict";var h=r(3972).traceIs;var p=r(4322);e.exports=function handleTypeDefaults(e,t,r,a){r("autotypenumbers",a.autotypenumbersDflt);var n=r("type",(a.splomStash||{}).type);if(n==="-"){setAutoType(t,a.data);if(t.type==="-"){t.type="linear"}else{e.type=t.type}}};function setAutoType(e,t){if(e.type!=="-")return;var r=e._id;var a=r.charAt(0);var n;if(r.indexOf("scene")!==-1)r=a;var i=getFirstNonEmptyTrace(t,r,a);if(!i)return;if(i.type==="histogram"&&a==={v:"y",h:"x"}[i.orientation||"v"]){e.type="linear";return}var o=a+"calendar";var l=i[o];var s={noMultiCategory:!h(i,"cartesian")||h(i,"noMultiCategory")};if(i.type==="box"&&i._hasPreCompStats&&a==={h:"x",v:"y"}[i.orientation||"v"]){s.noMultiCategory=true}s.autotypenumbers=e.autotypenumbers;if(isBoxWithoutPositionCoords(i,a)){var c=getBoxPosLetter(i);var u=[];for(n=0;n<t.length;n++){var f=t[n];if(!h(f,"box-violin")||(f[a+"axis"]||a)!==r)continue;if(f[c]!==undefined)u.push(f[c][0]);else if(f.name!==undefined)u.push(f.name);else u.push("text");if(f[o]!==l)l=undefined}e.type=p(u,l,s)}else if(i.type==="splom"){var d=i.dimensions;var v=d[i._axesDim[r]];if(v.visible)e.type=p(v.values,l,s)}else{e.type=p(i[a]||[i[a+"0"]],l,s)}}function getFirstNonEmptyTrace(e,t,r){for(var a=0;a<e.length;a++){var n=e[a];if(n.type==="splom"&&n._length>0&&(n["_"+r+"axes"]||{})[t]){return n}if((n[r+"axis"]||r)===t){if(isBoxWithoutPositionCoords(n,r)){return n}else if((n[r]||[]).length||n[r+"0"]){return n}}}}function getBoxPosLetter(e){return{v:"x",h:"y"}[e.orientation||"v"]}function isBoxWithoutPositionCoords(e,t){var r=getBoxPosLetter(e);var a=h(e,"box-violin");var n=h(e._fullInput||{},"candlestick");return a&&!n&&t===r&&e[r]===undefined&&e[r+"0"]===undefined}},1137:function(e,v,t){"use strict";var o=t(3972);var d=t(1828);v.manageCommandObserver=function(t,e,r,a){var n={};var i=true;if(e&&e._commandObserver){n=e._commandObserver}if(!n.cache){n.cache={}}n.lookupTable={};var o=v.hasSimpleAPICommandBindings(t,r,n.lookupTable);if(e&&e._commandObserver){if(!o){if(e._commandObserver.remove){e._commandObserver.remove();e._commandObserver=null;return n}}else{return n}}if(o){bindingValueHasChanged(t,o,n.cache);n.check=function check(){if(!i)return;var e=bindingValueHasChanged(t,o,n.cache);if(e.changed&&a){if(n.lookupTable[e.value]!==undefined){n.disable();Promise.resolve(a({value:e.value,type:o.type,prop:o.prop,traces:o.traces,index:n.lookupTable[e.value]})).then(n.enable,n.enable)}}return e.changed};var l=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"];for(var s=0;s<l.length;s++){t._internalOn(l[s],n.check)}n.remove=function(){for(var e=0;e<l.length;e++){t._removeInternalListener(l[e],n.check)}}}else{d.log("Unable to automatically bind plot updates to API command");n.lookupTable={};n.remove=function(){}}n.disable=function disable(){i=false};n.enable=function enable(){i=true};if(e){e._commandObserver=n}return n};v.hasSimpleAPICommandBindings=function(e,t,r){var a;var n=t.length;var i;for(a=0;a<n;a++){var o;var l=t[a];var s=l.method;var c=l.args;if(!Array.isArray(c))c=[];if(!s){return false}var u=v.computeAPICommandBindings(e,s,c);if(u.length!==1){return false}if(!i){i=u[0];if(Array.isArray(i.traces)){i.traces.sort()}}else{o=u[0];if(o.type!==i.type){return false}if(o.prop!==i.prop){return false}if(Array.isArray(i.traces)){if(Array.isArray(o.traces)){o.traces.sort();for(var f=0;f<i.traces.length;f++){if(i.traces[f]!==o.traces[f]){return false}}}else{return false}}else{if(o.prop!==i.prop){return false}}}o=u[0];var d=o.value;if(Array.isArray(d)){if(d.length===1){d=d[0]}else{return false}}if(r){r[d]=a}}return i};function bindingValueHasChanged(e,t,r){var a,n,i;var o=false;if(t.type==="data"){a=e._fullData[t.traces!==null?t.traces[0]:0]}else if(t.type==="layout"){a=e._fullLayout}else{return false}n=d.nestedProperty(a,t.prop).get();i=r[t.type]=r[t.type]||{};if(i.hasOwnProperty(t.prop)){if(i[t.prop]!==n){o=true}}i[t.prop]=n;return{changed:o,value:n}}v.executeAPICommand=function(e,t,r){if(t==="skip")return Promise.resolve();var a=o.apiMethodRegistry[t];var n=[e];if(!Array.isArray(r))r=[];for(var i=0;i<r.length;i++){n.push(r[i])}return a.apply(null,n)["catch"](function(e){d.warn("API call to Plotly."+t+" rejected.",e);return Promise.reject(e)})};v.computeAPICommandBindings=function(e,t,r){var a;if(!Array.isArray(r))r=[];switch(t){case"restyle":a=computeDataBindings(e,r);break;case"relayout":a=computeLayoutBindings(e,r);break;case"update":a=computeDataBindings(e,[r[0],r[2]]).concat(computeLayoutBindings(e,[r[1]]));break;case"animate":a=computeAnimateBindings(e,r);break;default:a=[]}return a};function computeAnimateBindings(e,t){if(Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1){return[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]}else{return[]}}function computeLayoutBindings(e,t){var a=[];var r=t[0];var n={};if(typeof r==="string"){n[r]=t[1]}else if(d.isPlainObject(r)){n=r}else{return a}crawl(n,function(e,t,r){a.push({type:"layout",prop:e,value:r})},"",0);return a}function computeDataBindings(c,e){var u,t,r,a;var f=[];t=e[0];r=e[1];u=e[2];a={};if(typeof t==="string"){a[t]=r}else if(d.isPlainObject(t)){a=t;if(u===undefined){u=r}}else{return f}if(u===undefined){u=null}crawl(a,function(e,t,r){var a;var n;if(Array.isArray(r)){n=r.slice();var i=Math.min(n.length,c.data.length);if(u){i=Math.min(i,u.length)}a=[];for(var o=0;o<i;o++){a[o]=u?u[o]:o}}else{n=r;a=u?u.slice():null}if(a===null){if(Array.isArray(n)){n=n[0]}}else if(Array.isArray(a)){if(!Array.isArray(n)){var l=n;n=[];for(var s=0;s<a.length;s++){n[s]=l}}n.length=Math.min(a.length,n.length)}f.push({type:"data",prop:e,traces:a,value:n})},"",0);return f}function crawl(a,n,i,o){Object.keys(a).forEach(function(e){var t=a[e];if(e[0]==="_")return;var r=i+(o>0?".":"")+e;if(d.isPlainObject(t)){crawl(t,n,r,o+1)}else{n(r,e,t)}})}},7670:function(e,t,r){"use strict";var l=r(1426).extendFlat;t.Y=function(e,t){e=e||{};t=t||{};var r={valType:"info_array",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]};var a=e.name?e.name+" ":"";var n=e.trace?"trace ":"subplot ";var i=t.description?" "+t.description:"";var o={x:l({},r,{}),y:l({},r,{}),editType:e.editType};if(!e.noGridCell){o.row={valType:"integer",min:0,dflt:0,editType:e.editType};o.column={valType:"integer",min:0,dflt:0,editType:e.editType}}return o};t.c=function(e,t,r,a){var n=a&&a.x||[0,1];var i=a&&a.y||[0,1];var o=t.grid;if(o){var l=r("domain.column");if(l!==undefined){if(l<o.columns)n=o._domains.x[l];else delete e.domain.column}var s=r("domain.row");if(s!==undefined){if(s<o.rows)i=o._domains.y[s];else delete e.domain.row}}var c=r("domain.x",n);var u=r("domain.y",i);if(!(c[0]<c[1]))e.domain.x=n.slice();if(!(u[0]<u[1]))e.domain.y=i.slice()}},1940:function(e){"use strict";e.exports=function(e){var t=e.editType;var r=e.colorEditType;if(r===undefined)r=t;var a={family:{valType:"string",noBlank:true,strict:true,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:r},editType:t};if(e.autoSize)a.size.dflt="auto";if(e.autoColor)a.color.dflt="auto";if(e.arrayOk){a.family.arrayOk=true;a.size.arrayOk=true;a.color.arrayOk=true}return a}},1391:function(e){"use strict";e.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},7659:function(e,t,r){"use strict";var a;var u=r(3972);var f=r(5555).SUBPLOT_PATTERN;a=function(e,t,r){var a=u.subplotsRegistry[t];if(!a)return[];var n=a.attr;var i=[];for(var o=0;o<e.length;o++){var l=e[o];var s=l[0].trace;if(s[n]===r)i.push(l)}return i};t.a0=function(e,t){var r=[];var a=[];var n;if(typeof t==="string"){n=u.getModule(t).plot}else if(typeof t==="function"){n=t}else{n=t.plot}if(!n){return[r,e]}for(var i=0;i<e.length;i++){var o=e[i];var l=o[0].trace;if(l.visible!==true||l._length===0)continue;if(l._module.plot===n){r.push(o)}else{a.push(o)}}return[r,a]};a=function getSubplotData(e,t,r){if(!u.subplotsRegistry[t])return[];var a=u.subplotsRegistry[t].attr;var n=[];var i,o,l;if(t==="gl2d"){var s=r.match(f);o="x"+s[1];l="y"+s[2]}for(var c=0;c<e.length;c++){i=e[c];if(t==="gl2d"&&u.traceIs(i,"gl2d")){if(i[a[0]]===o&&i[a[1]]===l){n.push(i)}}else{if(i[a]===r)n.push(i)}}return n}},3538:function(e){"use strict";function xformMatrix(e,t){var r=[0,0,0,0];var a,n;for(a=0;a<4;++a){for(n=0;n<4;++n){r[n]+=e[4*a+n]*t[a]}}return r}function project(e,t){var r=xformMatrix(e.projection,xformMatrix(e.view,xformMatrix(e.model,[t[0],t[1],t[2],1])));return r}e.exports=project},820:function(e,t,r){"use strict";var a=r(1940);var n=r(5594);var i=r(2399);var o=r(9241);var l=r(3777);var s=r(5025);var c=r(1426).extendFlat;var u=a({editType:"calc"});u.family.dflt='"Open Sans", verdana, arial, sans-serif';u.size.dflt=12;u.color.dflt=i.defaultLine;e.exports={font:u,title:{text:{valType:"string",editType:"layoutstyle"},font:a({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:c(s({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:false,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[false,"hide","show"],dflt:false,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:false,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:true,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:false,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:o.newshape,activeshape:o.activeshape,newselection:l.newselection,activeselection:l.activeselection,meta:{valType:"any",arrayOk:true,editType:"plot"},transition:c({},n.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:a({editType:"layoutstyle"})}}},5025:function(e){"use strict";e.exports=function(e){var t=e.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},4875:function(e,f,t){"use strict";var s=t(9898);var a=t(4096).Dq;var n=t(721).FF;var q=t(2770);var Z=t(3972);var g=t(6281);var w=t(4467);var W=t(1828);var m=t(7901);var y=t(606).BADNUM;var O=t(1675);var E=t(1873).clearOutline;var u=t(1479);var i=t(5594);var o=t(1391);var l=t(7659).a0;var z=W.relinkPrivateKeys;var B=W._;var X=e.exports={};W.extendFlat(X,Z);X.attributes=t(9012);X.attributes.type.values=X.allTypes;X.fontAttrs=t(1940);X.layoutAttributes=t(820);X.fontWeight="normal";var x=X.transformsRegistry;var r=t(1137);X.executeAPICommand=r.executeAPICommand;X.computeAPICommandBindings=r.computeAPICommandBindings;X.manageCommandObserver=r.manageCommandObserver;X.hasSimpleAPICommandBindings=r.hasSimpleAPICommandBindings;X.redrawText=function(t){t=W.getGraphDiv(t);return new Promise(function(e){setTimeout(function(){if(!t._fullLayout)return;Z.getComponentMethod("annotations","draw")(t);Z.getComponentMethod("legend","draw")(t);Z.getComponentMethod("colorbar","draw")(t);e(X.previousPromises(t))},300)})};X.resize=function(r){r=W.getGraphDiv(r);var a;var e=new Promise(function(t,e){if(!r||W.isHidden(r)){e(new Error("Resize must be passed a displayed plot div element."))}if(r._redrawTimer)clearTimeout(r._redrawTimer);if(r._resolveResize)a=r._resolveResize;r._resolveResize=t;r._redrawTimer=setTimeout(function(){if(!r.layout||r.layout.width&&r.layout.height||W.isHidden(r)){t(r);return}delete r.layout.width;delete r.layout.height;var e=r.changed;r.autoplay=true;Z.call("relayout",r,{autosize:true}).then(function(){r.changed=e;if(r._resolveResize===t){delete r._resolveResize;t(r)}})},100)});if(a)a(e);return e};X.previousPromises=function(e){if((e._promises||[]).length){return Promise.all(e._promises).then(function(){e._promises=[]})}};X.addLinks=function(e){if(!e._context.showLink&&!e._context.showSources)return;var t=e._fullLayout;var r=W.ensureSingle(t._paper,"text","js-plot-link-container",function(e){e.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:m.defaultLine,"pointer-events":"all"}).each(function(){var e=s.select(this);e.append("tspan").classed("js-link-to-tool",true);e.append("tspan").classed("js-link-spacer",true);e.append("tspan").classed("js-sourcelinks",true)})});var a=r.node();var n={y:t._paper.attr("height")-9};if(document.body.contains(a)&&a.getComputedTextLength()>=t.width-20){n["text-anchor"]="start";n.x=5}else{n["text-anchor"]="end";n.x=t._paper.attr("width")-7}r.attr(n);var i=r.select(".js-link-to-tool");var o=r.select(".js-link-spacer");var l=r.select(".js-sourcelinks");if(e._context.showSources)e._context.showSources(e);if(e._context.showLink)positionPlayWithData(e,i);o.text(i.text()&&l.text()?" - ":"")};function positionPlayWithData(e,t){t.text("");var r=t.append("a").attr({"xlink:xlink:href":"#","class":"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData){r.on("click",function(){X.sendDataToCloud(e)})}else{var a=window.location.pathname.split("/");var n=window.location.search;r.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+a[2].split(".")[0]+"/"+a[1]+n})}}X.sendDataToCloud=function(e){var t=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(!t)return;e.emit("plotly_beforeexport");var r=s.select(e).append("div").attr("id","hiddenform").style("display","none");var a=r.append("form").attr({action:t+"/external",method:"post",target:"_blank"});var n=a.append("input").attr({type:"text",name:"data"});n.node().value=X.graphJson(e,false,"keepdata");a.node().submit();r.remove();e.emit("plotly_afterexport");return false};var H=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"];var j=["year","month","dayMonth","dayMonthYear"];X.supplyDefaults=function(e,t){var r=t&&t.skipUpdateCalc;var a=e._fullLayout||{};if(a._skipDefaults){delete a._skipDefaults;return}var n=e._fullLayout={};var i=e.layout||{};var o=e._fullData||[];var l=e._fullData=[];var s=e.data||[];var c=e.calcdata||[];var u=e._context||{};var f;if(!e._transitionData)X.createTransitionData(e);n._dfltTitle={plot:B(e,"Click to enter Plot title"),x:B(e,"Click to enter X axis title"),y:B(e,"Click to enter Y axis title"),colorbar:B(e,"Click to enter Colorscale title"),annotation:B(e,"new text")};n._traceWord=B(e,"trace");var d=getFormatObj(e,H);n._mapboxAccessToken=u.mapboxAccessToken;if(a._initialAutoSizeIsDone){var v=a.width;var h=a.height;X.supplyLayoutGlobalDefaults(i,n,d);if(!i.width)n.width=v;if(!i.height)n.height=h;X.sanitizeMargins(n)}else{X.supplyLayoutGlobalDefaults(i,n,d);var p=!i.width||!i.height;var g=n.autosize;var m=u.autosizable;var y=p&&(g||m);if(y)X.plotAutoSize(e,i,n);else if(p)X.sanitizeMargins(n);if(!g&&p){i.width=n.width;i.height=n.height}}n._d3locale=getFormatter(d,n.separators);n._extraFormat=getFormatObj(e,j);n._initialAutoSizeIsDone=true;n._dataLength=s.length;n._modules=[];n._visibleModules=[];n._basePlotModules=[];var x=n._subplots=emptySubplotLists();var _=n._splomAxes={x:{},y:{}};var b=n._splomSubplots={};n._splomGridDflt={};n._scatterStackOpts={};n._firstScatter={};n._alignmentOpts={};n._colorAxes={};n._requestRangeslider={};n._traceUids=getTraceUids(o,s);n._globalTransforms=(e._context||{}).globalTransforms;X.supplyDataDefaults(s,l,i,n);var w=Object.keys(_.x);var T=Object.keys(_.y);if(w.length>1&&T.length>1){Z.getComponentMethod("grid","sizeDefaults")(i,n);for(f=0;f<w.length;f++){W.pushUnique(x.xaxis,w[f])}for(f=0;f<T.length;f++){W.pushUnique(x.yaxis,T[f])}for(var k in b){W.pushUnique(x.cartesian,k)}}n._has=X._hasPlotType.bind(n);if(o.length===l.length){for(f=0;f<l.length;f++){z(l[f],o[f])}}X.supplyLayoutModuleDefaults(i,n,l,e._transitionData);var A=n._visibleModules;var M=[];for(f=0;f<A.length;f++){var S=A[f].crossTraceDefaults;if(S)W.pushUnique(M,S)}for(f=0;f<M.length;f++){M[f](l,n)}n._hasOnlyLargeSploms=n._basePlotModules.length===1&&n._basePlotModules[0].name==="splom"&&w.length>15&&T.length>15&&n.shapes.length===0&&n.images.length===0;X.linkSubplots(l,n,o,a);X.cleanPlot(l,n,o,a);var C=!!(a._has&&a._has("gl2d"));var L=!!(n._has&&n._has("gl2d"));var D=!!(a._has&&a._has("cartesian"));var N=!!(n._has&&n._has("cartesian"));var O=D||C;var P=N||L;if(O&&!P){a._bgLayer.remove()}else if(P&&!O){n._shouldCreateBgLayer=true}if(a._zoomlayer&&!e._dragging){E({_fullLayout:a})}fillMetaTextHelpers(l,n);z(n,a);Z.getComponentMethod("colorscale","crossTraceDefaults")(l,n);if(!n._preGUI)n._preGUI={};if(!n._tracePreGUI)n._tracePreGUI={};var I=n._tracePreGUI;var R={};var F;for(F in I)R[F]="old";for(f=0;f<l.length;f++){F=l[f]._fullInput.uid;if(!R[F])I[F]={};R[F]="new"}for(F in R){if(R[F]==="old")delete I[F]}initMargins(n);Z.getComponentMethod("rangeslider","makeData")(n);if(!r&&c.length===l.length){X.supplyDefaultsUpdateCalc(c,l)}};X.supplyDefaultsUpdateCalc=function(e,t){for(var r=0;r<t.length;r++){var a=t[r];var n=(e[r]||[])[0];if(n&&n.trace){var i=n.trace;if(i._hasCalcTransform){var o=i._arrayAttrs;var l,s,c;for(l=0;l<o.length;l++){s=o[l];c=W.nestedProperty(i,s).get().slice();W.nestedProperty(a,s).set(c)}}n.trace=a}}};function getTraceUids(e,t){var r=t.length;var a=[];var n,i;for(n=0;n<e.length;n++){var o=e[n]._fullInput;if(o!==i)a.push(o);i=o}var l=a.length;var s=new Array(r);var c={};function setUid(e,t){s[t]=e;c[e]=1}function tryUid(e,t){if(e&&typeof e==="string"&&!c[e]){setUid(e,t);return true}}for(n=0;n<r;n++){var u=t[n].uid;if(typeof u==="number")u=String(u);if(tryUid(u,n))continue;if(n<l&&tryUid(a[n].uid,n))continue;setUid(W.randstr(c),n)}return s}function emptySubplotLists(){var e=Z.collectableSubplotTypes;var t={};var r,a;if(!e){e=[];var n=Z.subplotsRegistry;for(var i in n){var o=n[i];var l=o.attr;if(l){e.push(i);if(Array.isArray(l)){for(a=0;a<l.length;a++){W.pushUnique(e,l[a])}}}}}for(r=0;r<e.length;r++){t[e[r]]=[]}return t}function getFormatObj(e,n){var t=e._context.locale;if(!t)t="en-US";var i=false;var o={};function includeFormat(e){var t=true;for(var r=0;r<n.length;r++){var a=n[r];if(!o[a]){if(e[a]){o[a]=e[a]}else t=false}}if(t)i=true}for(var r=0;r<2;r++){var a=e._context.locales;for(var l=0;l<2;l++){var s=(a[t]||{}).format;if(s){includeFormat(s);if(i)break}a=Z.localeRegistry}var c=t.split("-")[0];if(i||c===t)break;t=c}if(!i)includeFormat(Z.localeRegistry.en.format);return o}function getFormatter(r,e){r.decimal=e.charAt(0);r.thousands=e.charAt(1);return{numberFormat:function(e){try{e=n(r).format(W.adjustFormat(e))}catch(t){W.warnBadFormat(e);return W.noFormat}return e},timeFormat:a(r).utcFormat}}function fillMetaTextHelpers(e,t){var r;var a=[];if(t.meta){r=t._meta={meta:t.meta,layout:{meta:t.meta}}}for(var n=0;n<e.length;n++){var i=e[n];if(i.meta){a[i.index]=i._meta={meta:i.meta}}else if(t.meta){i._meta={meta:t.meta}}if(t.meta){i._meta.layout={meta:t.meta}}}if(a.length){if(!r){r=t._meta={}}r.data=a}}X.createTransitionData=function(e){if(!e._transitionData){e._transitionData={}}if(!e._transitionData._frames){e._transitionData._frames=[]}if(!e._transitionData._frameHash){e._transitionData._frameHash={}}if(!e._transitionData._counter){e._transitionData._counter=0}if(!e._transitionData._interruptCallbacks){e._transitionData._interruptCallbacks=[]}};X._hasPlotType=function(e){var t;var r=this._basePlotModules||[];for(t=0;t<r.length;t++){if(r[t].name===e)return true}var a=this._modules||[];for(t=0;t<a.length;t++){var n=a[t].name;if(n===e)return true;var i=Z.modules[n];if(i&&i.categories[e])return true}return false};X.cleanPlot=function(e,t,r,a){var n,i;var o=a._basePlotModules||[];for(n=0;n<o.length;n++){var l=o[n];if(l.clean){l.clean(e,t,r,a)}}var s=a._has&&a._has("gl");var c=t._has&&t._has("gl");if(s&&!c){if(a._glcontainer!==undefined){a._glcontainer.selectAll(".gl-canvas").remove();a._glcontainer.selectAll(".no-webgl").remove();a._glcanvas=null}}var u=!!a._infolayer;e:for(n=0;n<r.length;n++){var f=r[n];var d=f.uid;for(i=0;i<e.length;i++){var v=e[i];if(d===v.uid)continue e}if(u){a._infolayer.select(".cb"+d).remove()}}};X.linkSubplots=function(e,t,r,a){var n,i;var o=a._plots||{};var l=t._plots={};var s=t._subplots;var c={_fullData:e,_fullLayout:t};var u=s.cartesian.concat(s.gl2d||[]);for(n=0;n<u.length;n++){var f=u[n];var d=o[f];var v=O.getFromId(c,f,"x");var h=O.getFromId(c,f,"y");var p;if(d){p=l[f]=d}else{p=l[f]={};p.id=f}v._counterAxes.push(h._id);h._counterAxes.push(v._id);v._subplotsWith.push(f);h._subplotsWith.push(f);p.xaxis=v;p.yaxis=h;p._hasClipOnAxisFalse=false;for(i=0;i<e.length;i++){var g=e[i];if(g.xaxis===p.xaxis._id&&g.yaxis===p.yaxis._id&&g.cliponaxis===false){p._hasClipOnAxisFalse=true;break}}}var m=O.list(c,null,true);var y;for(n=0;n<m.length;n++){y=m[n];var x=null;if(y.overlaying){x=O.getFromId(c,y.overlaying);if(x&&x.overlaying){y.overlaying=false;x=null}}y._mainAxis=x||y;if(x)y.domain=x.domain.slice();y._anchorAxis=y.anchor==="free"?null:O.getFromId(c,y.anchor)}for(n=0;n<m.length;n++){y=m[n];y._counterAxes.sort(O.idSort);y._subplotsWith.sort(W.subplotSort);y._mainSubplot=findMainSubplot(y,t);if(y._counterAxes.length&&(y.spikemode&&y.spikemode.indexOf("across")!==-1||y.automargin&&y.mirror&&y.anchor!=="free"||Z.getComponentMethod("rangeslider","isVisible")(y))){var _=1;var b=0;for(i=0;i<y._counterAxes.length;i++){var w=O.getFromId(c,y._counterAxes[i]);_=Math.min(_,w.domain[0]);b=Math.max(b,w.domain[1])}if(_<b){y._counterDomainMin=_;y._counterDomainMax=b}}}};function findMainSubplot(e,t){var r={_fullLayout:t};var a=e._id.charAt(0)==="x";var n=e._mainAxis._anchorAxis;var i="";var o="";var l="";if(n){l=n._mainAxis._id;i=a?e._id+l:l+e._id}if(!i||!t._plots[i]){i="";var s=e._counterAxes;for(var c=0;c<s.length;c++){var u=s[c];var f=a?e._id+u:u+e._id;if(!o)o=f;var d=O.getFromId(r,u);if(l&&d.overlaying===l){i=f;break}}}return i||o}X.clearExpandedTraceDefaultColors=function(e){var n,i,t;function locateColorAttrs(e,t,r,a){i[a]=t;i.length=a+1;if(e.valType==="color"&&e.dflt===undefined){n.push(i.join("."))}}i=[];n=e._module._colorAttrs;if(!n){e._module._colorAttrs=n=[];g.crawl(e._module.attributes,locateColorAttrs)}for(t=0;t<n.length;t++){var r=W.nestedProperty(e,"_input."+n[t]);if(!r.get()){W.nestedProperty(e,n[t]).set(null)}}};X.supplyDataDefaults=function(e,r,t,a){var n=a._modules;var i=a._visibleModules;var o=a._basePlotModules;var l=0;var s=0;var c,u,f;a._transformModules=[];function pushModule(e){r.push(e);var t=e._module;if(!t)return;W.pushUnique(n,t);if(e.visible===true)W.pushUnique(i,t);W.pushUnique(o,e._module.basePlotModule);l++;if(e._input.visible!==false)s++}var d={};var v=[];var h=(t.template||{}).data||{};var p=w.traceTemplater(h);for(c=0;c<e.length;c++){f=e[c];u=p.newTrace(f);u.uid=a._traceUids[c];X.supplyTraceDefaults(f,u,s,a,c);u.index=c;u._input=f;u._expandedIndex=l;if(u.transforms&&u.transforms.length){var g=f.visible!==false&&u.visible===false;var m=applyTransforms(u,r,t,a);for(var y=0;y<m.length;y++){var x=m[y];var _={_template:u._template,type:u.type,uid:u.uid+y};if(g&&x.visible===false){delete x.visible}X.supplyTraceDefaults(x,_,l,a,c);z(_,x);_.index=c;_._input=f;_._fullInput=u;_._expandedIndex=l;_._expandedInput=x;pushModule(_)}}else{u._fullInput=u;u._expandedInput=u;pushModule(u)}if(Z.traceIs(u,"carpetAxis")){d[u.carpet]=u}if(Z.traceIs(u,"carpetDependent")){v.push(c)}}for(c=0;c<v.length;c++){u=r[v[c]];if(!u.visible)continue;var b=d[u.carpet];u._carpet=b;if(!b||!b.visible){u.visible=false;continue}u.xaxis=b.xaxis;u.yaxis=b.yaxis}};X.supplyAnimationDefaults=function(r){r=r||{};var e;var a={};function coerce(e,t){return W.coerce(r||{},a,i,e,t)}coerce("mode");coerce("direction");coerce("fromcurrent");if(Array.isArray(r.frame)){a.frame=[];for(e=0;e<r.frame.length;e++){a.frame[e]=X.supplyAnimationFrameDefaults(r.frame[e]||{})}}else{a.frame=X.supplyAnimationFrameDefaults(r.frame||{})}if(Array.isArray(r.transition)){a.transition=[];for(e=0;e<r.transition.length;e++){a.transition[e]=X.supplyAnimationTransitionDefaults(r.transition[e]||{})}}else{a.transition=X.supplyAnimationTransitionDefaults(r.transition||{})}return a};X.supplyAnimationFrameDefaults=function(r){var a={};function coerce(e,t){return W.coerce(r||{},a,i.frame,e,t)}coerce("duration");coerce("redraw");return a};X.supplyAnimationTransitionDefaults=function(r){var a={};function coerce(e,t){return W.coerce(r||{},a,i.transition,e,t)}coerce("duration");coerce("easing");return a};X.supplyFrameDefaults=function(r){var a={};function coerce(e,t){return W.coerce(r,a,o,e,t)}coerce("group");coerce("name");coerce("traces");coerce("baseframe");coerce("data");coerce("layout");return a};X.supplyTraceDefaults=function(r,a,e,t,n){var i=t.colorway||m.defaults;var o=i[e%i.length];var l;function coerce(e,t){return W.coerce(r,a,X.attributes,e,t)}var s=coerce("visible");coerce("type");coerce("name",t._traceWord+" "+n);coerce("uirevision",t.uirevision);var c=X.getModule(a);a._module=c;if(c){var u=c.basePlotModule;var f=u.attr;var d=u.attributes;if(f&&d){var v=t._subplots;var h="";if(s||u.name!=="gl2d"){if(Array.isArray(f)){for(l=0;l<f.length;l++){var p=f[l];var g=W.coerce(r,a,d,p);if(v[p])W.pushUnique(v[p],g);h+=g}}else{h=W.coerce(r,a,d,f)}if(v[u.name]){W.pushUnique(v[u.name],h)}}}}if(s){coerce("customdata");coerce("ids");coerce("meta");if(Z.traceIs(a,"showLegend")){W.coerce(r,a,c.attributes.showlegend?c.attributes:X.attributes,"showlegend");coerce("legendwidth");coerce("legendgroup");coerce("legendgrouptitle.text");coerce("legendrank");a._dfltShowLegend=true}else{a._dfltShowLegend=false}if(c){c.supplyDefaults(r,a,o,t)}if(!Z.traceIs(a,"noOpacity")){coerce("opacity")}if(Z.traceIs(a,"notLegendIsolatable")){a.visible=!!a.visible}if(!Z.traceIs(a,"noHover")){if(!a.hovertemplate)W.coerceHoverinfo(r,a,t);if(a.type!=="parcats"){Z.getComponentMethod("fx","supplyDefaults")(r,a,o,t)}}if(c&&c.selectPoints){coerce("selectedpoints")}X.supplyTransformDefaults(r,a,t)}return a};function hasMakesDataTransform(e){var t=e.transforms;if(Array.isArray(t)&&t.length){for(var r=0;r<t.length;r++){var a=t[r];var n=a._module||x[a.type];if(n&&n.makesData)return true}}return false}X.hasMakesDataTransform=hasMakesDataTransform;X.supplyTransformDefaults=function(e,t,r){if(!(t._length||hasMakesDataTransform(e)))return;var a=r._globalTransforms||[];var n=r._transformModules||[];if(!Array.isArray(e.transforms)&&a.length===0)return;var i=e.transforms||[];var o=a.concat(i);var l=t.transforms=[];for(var s=0;s<o.length;s++){var c=o[s];var u=c.type;var f=x[u];var d;var v=!(c._module&&c._module===f);var h=f&&typeof f.transform==="function";if(!f)W.warn("Unrecognized transform type "+u+".");if(f&&f.supplyDefaults&&(v||h)){d=f.supplyDefaults(c,t,r,e);d.type=u;d._module=f;W.pushUnique(n,f)}else{d=W.extendFlat({},c)}l.push(d)}};function applyTransforms(e,t,r,a){var n=e.transforms;var i=[e];for(var o=0;o<n.length;o++){var l=n[o];var s=x[l.type];if(s&&s.transform){i=s.transform(i,{transform:l,fullTrace:e,fullData:t,layout:r,fullLayout:a,transformIndex:o})}}return i}X.supplyLayoutGlobalDefaults=function(r,a,e){function coerce(e,t){return W.coerce(r,a,X.layoutAttributes,e,t)}var t=r.template;if(W.isPlainObject(t)){a.template=t;a._template=t.layout;a._dataTemplate=t.data}coerce("autotypenumbers");var n=W.coerceFont(coerce,"font");var i=n.size;W.coerceFont(coerce,"title.font",W.extendFlat({},n,{size:Math.round(i*1.4)}));coerce("title.text",a._dfltTitle.plot);coerce("title.xref");var o=coerce("title.yref");coerce("title.pad.t");coerce("title.pad.r");coerce("title.pad.b");coerce("title.pad.l");var l=coerce("title.automargin");coerce("title.x");coerce("title.xanchor");coerce("title.y");coerce("title.yanchor");if(l){if(o==="paper"){if(a.title.y!==0)a.title.y=1;if(a.title.yanchor==="auto"){a.title.yanchor=a.title.y===0?"top":"bottom"}}if(o==="container"){if(a.title.y==="auto")a.title.y=1;if(a.title.yanchor==="auto"){a.title.yanchor=a.title.y<.5?"bottom":"top"}}}var s=coerce("uniformtext.mode");if(s){coerce("uniformtext.minsize")}coerce("autosize",!(r.width&&r.height));coerce("width");coerce("height");coerce("minreducedwidth");coerce("minreducedheight");coerce("margin.l");coerce("margin.r");coerce("margin.t");coerce("margin.b");coerce("margin.pad");coerce("margin.autoexpand");if(r.width&&r.height)X.sanitizeMargins(a);Z.getComponentMethod("grid","sizeDefaults")(r,a);coerce("paper_bgcolor");coerce("separators",e.decimal+e.thousands);coerce("hidesources");coerce("colorway");coerce("datarevision");var c=coerce("uirevision");coerce("editrevision",c);coerce("selectionrevision",c);Z.getComponentMethod("modebar","supplyLayoutDefaults")(r,a);Z.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(r,a,coerce);Z.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(r,a,coerce);coerce("meta");if(W.isPlainObject(r.transition)){coerce("transition.duration");coerce("transition.easing");coerce("transition.ordering")}Z.getComponentMethod("calendars","handleDefaults")(r,a,"calendar");Z.getComponentMethod("fx","supplyLayoutGlobalDefaults")(r,a,coerce);W.coerce(r,a,u,"scattermode")};function getComputedSize(e){return typeof e==="string"&&e.substr(e.length-2)==="px"&&parseFloat(e)}X.plotAutoSize=function plotAutoSize(e,t,r){var a=e._context||{};var n=a.frameMargins;var i;var o;var l=W.isPlotDiv(e);if(l)e.emit("plotly_autosize");if(a.fillFrame){i=window.innerWidth;o=window.innerHeight;document.body.style.overflow="hidden"}else{var s=l?window.getComputedStyle(e):{};i=getComputedSize(s.width)||getComputedSize(s.maxWidth)||r.width;o=getComputedSize(s.height)||getComputedSize(s.maxHeight)||r.height;if(q(n)&&n>0){var c=1-2*n;i=Math.round(c*i);o=Math.round(c*o)}}var u=X.layoutAttributes.width.min;var f=X.layoutAttributes.height.min;if(i<u)i=u;if(o<f)o=f;var d=!t.width&&Math.abs(r.width-i)>1;var v=!t.height&&Math.abs(r.height-o)>1;if(v||d){if(d)r.width=i;if(v)r.height=o}if(!e._initialAutoSize){e._initialAutoSize={width:i,height:o}}X.sanitizeMargins(r)};X.supplyLayoutModuleDefaults=function(e,t,r,a){var n=Z.componentsRegistry;var i=t._basePlotModules;var o,l,s;var c=Z.subplotsRegistry.cartesian;for(o in n){s=n[o];if(s.includeBasePlot){s.includeBasePlot(e,t)}}if(!i.length){i.push(c)}if(t._has("cartesian")){Z.getComponentMethod("grid","contentDefaults")(e,t);c.finalizeSubplots(e,t)}for(var u in t._subplots){t._subplots[u].sort(W.subplotSort)}for(l=0;l<i.length;l++){s=i[l];if(s.supplyLayoutDefaults){s.supplyLayoutDefaults(e,t,r)}}var f=t._modules;for(l=0;l<f.length;l++){s=f[l];if(s.supplyLayoutDefaults){s.supplyLayoutDefaults(e,t,r)}}var d=t._transformModules;for(l=0;l<d.length;l++){s=d[l];if(s.supplyLayoutDefaults){s.supplyLayoutDefaults(e,t,r,a)}}for(o in n){s=n[o];if(s.supplyLayoutDefaults){s.supplyLayoutDefaults(e,t,r)}}};X.purge=function(e){var t=e._fullLayout||{};if(t._glcontainer!==undefined){t._glcontainer.selectAll(".gl-canvas").remove();t._glcontainer.remove();t._glcanvas=null}if(t._modeBar)t._modeBar.destroy();if(e._transitionData){if(e._transitionData._interruptCallbacks){e._transitionData._interruptCallbacks.length=0}if(e._transitionData._animationRaf){window.cancelAnimationFrame(e._transitionData._animationRaf)}}W.clearThrottle();W.clearResponsive(e);delete e.data;delete e.layout;delete e._fullData;delete e._fullLayout;delete e.calcdata;delete e.empty;delete e.fid;delete e.undoqueue;delete e.undonum;delete e.autoplay;delete e.changed;delete e._promises;delete e._redrawTimer;delete e._hmlumcount;delete e._hmpixcount;delete e._transitionData;delete e._transitioning;delete e._initialAutoSize;delete e._transitioningWithDuration;delete e._dragging;delete e._dragged;delete e._dragdata;delete e._hoverdata;delete e._snapshotInProgress;delete e._editing;delete e._mouseDownTime;delete e._legendMouseDownTime;if(e.removeAllListeners)e.removeAllListeners()};X.style=function(e){var t=e._fullLayout._visibleModules;var r=[];var a;for(a=0;a<t.length;a++){var n=t[a];if(n.style){W.pushUnique(r,n.style)}}for(a=0;a<r.length;a++){r[a](e)}};X.sanitizeMargins=function(e){if(!e||!e.margin)return;var t=e.width;var r=e.height;var a=e.margin;var n=t-(a.l+a.r);var i=r-(a.t+a.b);var o;if(n<0){o=(t-1)/(a.l+a.r);a.l=Math.floor(o*a.l);a.r=Math.floor(o*a.r)}if(i<0){o=(r-1)/(a.t+a.b);a.t=Math.floor(o*a.t);a.b=Math.floor(o*a.b)}};X.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}};X.allowAutoMargin=function(e,t){e._fullLayout._pushmarginIds[t]=1};function initMargins(e){var t=e.margin;if(!e._size){var r=e._size={l:Math.round(t.l),r:Math.round(t.r),t:Math.round(t.t),b:Math.round(t.b),p:Math.round(t.pad)};r.w=Math.round(e.width)-r.l-r.r;r.h=Math.round(e.height)-r.t-r.b}if(!e._pushmargin)e._pushmargin={};if(!e._pushmarginIds)e._pushmarginIds={};if(!e._reservedMargin)e._reservedMargin={}}var J=2;var K=2;X.autoMargin=function(e,t,r){var a=e._fullLayout;var n=a.width;var i=a.height;var o=a.margin;var l=a.minreducedwidth;var s=a.minreducedheight;var c=W.constrain(n-o.l-o.r,J,l);var u=W.constrain(i-o.t-o.b,K,s);var f=Math.max(0,n-c);var d=Math.max(0,i-u);var v=a._pushmargin;var h=a._pushmarginIds;if(o.autoexpand!==false){if(!r){delete v[t];delete h[t]}else{var p=r.pad;if(p===undefined){p=Math.min(12,o.l,o.r,o.t,o.b)}if(f){var g=(r.l+r.r)/f;if(g>1){r.l/=g;r.r/=g}}if(d){var m=(r.t+r.b)/d;if(m>1){r.t/=m;r.b/=m}}var y=r.xl!==undefined?r.xl:r.x;var x=r.xr!==undefined?r.xr:r.x;var _=r.yt!==undefined?r.yt:r.y;var b=r.yb!==undefined?r.yb:r.y;v[t]={l:{val:y,size:r.l+p},r:{val:x,size:r.r+p},b:{val:b,size:r.b+p},t:{val:_,size:r.t+p}};h[t]=1}if(!a._replotting){return X.doAutoMargin(e)}}};function needsRedrawForShift(e){if("_redrawFromAutoMarginCount"in e._fullLayout){return false}var t=O.list(e,"",true);for(var r in t){if(t[r].autoshift||t[r].shift)return true}return false}X.doAutoMargin=function(e){var t=e._fullLayout;var r=t.width;var a=t.height;if(!t._size)t._size={};initMargins(t);var n=t._size;var i=t.margin;var o={t:0,b:0,l:0,r:0};var l=W.extendFlat({},n);var s=e._fullLayout._reservedMargin;for(var c in s){for(var u in s[c]){var N=s[c][u];o[u]=Math.max(o[u],N)}}var f=i.l;var d=i.r;var v=i.t;var h=i.b;var p=t._pushmargin;var g=t._pushmarginIds;var E=t.minreducedwidth;var z=t.minreducedheight;if(t.margin.autoexpand!==false){for(var m in p){if(!g[m])delete p[m]}p.base={l:{val:0,size:f},r:{val:1,size:d},t:{val:1,size:v},b:{val:0,size:h}};for(var y in p){var x=p[y].l||{};var _=p[y].b||{};var b=x.val;var w=x.size;var T=_.val;var k=_.size;var A=r-o.r-o.l;var M=a-o.t-o.b;for(var S in p){if(q(w)&&p[S].r){var C=p[S].r.val;var L=p[S].r.size;if(C>b){var D=(w*C+(L-A)*b)/(C-b);var O=(L*(1-b)+(w-A)*(1-C))/(C-b);if(D+O>f+d){f=D;d=O}}}if(q(k)&&p[S].t){var P=p[S].t.val;var I=p[S].t.size;if(P>T){var B=(k*P+(I-M)*T)/(P-T);var H=(I*(1-T)+(k-M)*(1-P))/(P-T);if(B+H>h+v){h=B;v=H}}}}}}var j=W.constrain(r-i.l-i.r,J,E);var V=W.constrain(a-i.t-i.b,K,z);var Y=Math.max(0,r-j);var U=Math.max(0,a-V);if(Y){var R=(f+d)/Y;if(R>1){f/=R;d/=R}}if(U){var F=(h+v)/U;if(F>1){h/=F;v/=F}}n.l=Math.round(f)+o.l;n.r=Math.round(d)+o.r;n.t=Math.round(v)+o.t;n.b=Math.round(h)+o.b;n.p=Math.round(i.pad);n.w=Math.round(r)-n.l-n.r;n.h=Math.round(a)-n.t-n.b;if(!t._replotting&&(X.didMarginChange(l,n)||needsRedrawForShift(e))){if("_redrawFromAutoMarginCount"in t){t._redrawFromAutoMarginCount++}else{t._redrawFromAutoMarginCount=1}var G=3*(1+Object.keys(g).length);if(t._redrawFromAutoMarginCount<G){return Z.call("_doPlot",e)}else{t._size=l;W.warn("Too many auto-margin redraws.")}}refineTicks(e)};function refineTicks(e){var a=O.list(e,"",true);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(e){for(var t=0;t<a.length;t++){var r=a[t][e];if(r)r()}})}var c=["l","r","t","b","p","w","h"];X.didMarginChange=function(e,t){for(var r=0;r<c.length;r++){var a=c[r];var n=e[a];var i=t[a];if(!q(n)||Math.abs(i-n)>1){return true}}return false};X.graphJson=function(e,r,i,t,a,n){if(a&&r&&!e._fullData||a&&!r&&!e._fullLayout){X.supplyDefaults(e)}var o=a?e._fullData:e.data;var l=a?e._fullLayout:e.layout;var s=(e._transitionData||{})._frames;function stripObj(t,r){if(typeof t==="function"){return r?"_function_":null}if(W.isPlainObject(t)){var a={};var n;Object.keys(t).sort().forEach(function(e){if(["_","["].indexOf(e.charAt(0))!==-1)return;if(typeof t[e]==="function"){if(r)a[e]="_function";return}if(i==="keepdata"){if(e.substr(e.length-3)==="src"){return}}else if(i==="keepstream"){n=t[e+"src"];if(typeof n==="string"&&n.indexOf(":")>0){if(!W.isPlainObject(t.stream)){return}}}else if(i!=="keepall"){n=t[e+"src"];if(typeof n==="string"&&n.indexOf(":")>0){return}}a[e]=stripObj(t[e],r)});return a}if(Array.isArray(t)){return t.map(function(e){return stripObj(e,r)})}if(W.isTypedArray(t)){return W.simpleMap(t,W.identity)}if(W.isJSDate(t))return W.ms2DateTimeLocal(+t);return t}var c={data:(o||[]).map(function(e){var t=stripObj(e);if(r){delete t.fit}return t})};if(!r){c.layout=stripObj(l);if(a){var u=l._size;c.layout.computed={margin:{b:u.b,l:u.l,r:u.r,t:u.t}}}}if(s)c.frames=stripObj(s);if(n)c.config=stripObj(e._context,true);return t==="object"?c:JSON.stringify(c)};X.modifyFrames=function(e,t){var r,a,n;var i=e._transitionData._frames;var o=e._transitionData._frameHash;for(r=0;r<t.length;r++){a=t[r];switch(a.type){case"replace":n=a.value;var l=(i[a.index]||{}).name;var s=n.name;i[a.index]=o[s]=n;if(s!==l){delete o[l];o[s]=n}break;case"insert":n=a.value;o[n.name]=n;i.splice(a.index,0,n);break;case"delete":n=i[a.index];delete o[n.name];i.splice(a.index,1);break}}return Promise.resolve()};X.computeFrame=function(e,t){var r=e._transitionData._frameHash;var a,n,i,o;if(!t){throw new Error("computeFrame must be given a string frame name")}var l=r[t.toString()];if(!l){return false}var s=[l];var c=[l.name];while(l.baseframe&&(l=r[l.baseframe.toString()])){if(c.indexOf(l.name)!==-1)break;s.push(l);c.push(l.name)}var u={};while(l=s.pop()){if(l.layout){u.layout=X.extendLayout(u.layout,l.layout)}if(l.data){if(!u.data){u.data=[]}n=l.traces;if(!n){n=[];for(a=0;a<l.data.length;a++){n[a]=a}}if(!u.traces){u.traces=[]}for(a=0;a<l.data.length;a++){i=n[a];if(i===undefined||i===null){continue}o=u.traces.indexOf(i);if(o===-1){o=u.data.length;u.traces[o]=i}u.data[o]=X.extendTrace(u.data[o],l.data[a])}}}return u};X.recomputeFrameHash=function(e){var t=e._transitionData._frameHash={};var r=e._transitionData._frames;for(var a=0;a<r.length;a++){var n=r[a];if(n&&n.name){t[n.name]=n}}};X.extendObjectWithContainers=function(e,t,r){var a,n,i,o,l,s,c,u;var f=W.extendDeepNoArrays({},t||{});var d=W.expandObjectPaths(f);var v={};if(r&&r.length){for(i=0;i<r.length;i++){a=W.nestedProperty(d,r[i]);n=a.get();if(n===undefined){W.nestedProperty(v,r[i]).set(null)}else{a.set(null);W.nestedProperty(v,r[i]).set(n)}}}e=W.extendDeepNoArrays(e||{},d);if(r&&r.length){for(i=0;i<r.length;i++){l=W.nestedProperty(v,r[i]);c=l.get();if(!c)continue;s=W.nestedProperty(e,r[i]);u=s.get();if(!Array.isArray(u)){u=[];s.set(u)}for(o=0;o<c.length;o++){var h=c[o];if(h===null)u[o]=null;else{u[o]=X.extendObjectWithContainers(u[o],h)}}s.set(u)}}return e};X.dataArrayContainers=["transforms","dimensions"];X.layoutArrayContainers=Z.layoutArrayContainers;X.extendTrace=function(e,t){return X.extendObjectWithContainers(e,t,X.dataArrayContainers)};X.extendLayout=function(e,t){return X.extendObjectWithContainers(e,t,X.layoutArrayContainers)};X.transition=function(w,T,k,A,e,s){var t={redraw:e.redraw};var M={};var S=[];t.prepareFn=function(){var e=Array.isArray(T)?T.length:0;var t=A.slice(0,e);for(var r=0;r<t.length;r++){var a=t[r];var n=w._fullData[a];var i=n._module;if(!i)continue;if(i.animatable){var o=i.basePlotModule.name;if(!M[o])M[o]=[];M[o].push(a)}w.data[t[r]]=X.extendTrace(w.data[t[r]],T[r])}var l=W.expandObjectPaths(W.extendDeepNoArrays({},k));var s=/^[xy]axis[0-9]*$/;for(var c in l){if(!s.test(c))continue;delete l[c].range}X.extendLayout(w.layout,l);delete w.calcdata;X.supplyDefaults(w);X.doCalcdata(w);var u=W.expandObjectPaths(k);if(u){var f=w._fullLayout._plots;for(var d in f){var v=f[d];var h=v.xaxis;var p=v.yaxis;var g=h.range.slice();var m=p.range.slice();var y=null;var x=null;var _=null;var b=null;if(Array.isArray(u[h._name+".range"])){y=u[h._name+".range"].slice()}else if(Array.isArray((u[h._name]||{}).range)){y=u[h._name].range.slice()}if(Array.isArray(u[p._name+".range"])){x=u[p._name+".range"].slice()}else if(Array.isArray((u[p._name]||{}).range)){x=u[p._name].range.slice()}if(g&&y&&(h.r2l(g[0])!==h.r2l(y[0])||h.r2l(g[1])!==h.r2l(y[1]))){_={xr0:g,xr1:y}}if(m&&x&&(p.r2l(m[0])!==p.r2l(x[0])||p.r2l(m[1])!==p.r2l(x[1]))){b={yr0:m,yr1:x}}if(_||b){S.push(W.extendFlat({plotinfo:v},_,b))}}}return Promise.resolve()};t.runFn=function(e){var t;var r=w._fullLayout._basePlotModules;var a=S.length;var n;if(k){for(n=0;n<r.length;n++){if(r[n].transitionAxes){r[n].transitionAxes(w,S,s,e)}}}if(a){t=W.extendFlat({},s);t.duration=0;delete M.cartesian}else{t=s}for(var i in M){var o=M[i];var l=w._fullData[o[0]]._module;l.basePlotModule.plot(w,o,t,e)}};return _transition(w,s,t)};X.transitionFromReact=function(c,f,d,v){var h=c._fullLayout;var u=h.transition;var p={};var g=[];p.prepareFn=function(){var e=h._plots;p.redraw=false;if(f.anim==="some")p.redraw=true;if(d.anim==="some")p.redraw=true;for(var t in e){var r=e[t];var a=r.xaxis;var n=r.yaxis;var i=v[a._name].range.slice();var o=v[n._name].range.slice();var l=a.range.slice();var s=n.range.slice();a.setScale();n.setScale();var c=null;var u=null;if(a.r2l(i[0])!==a.r2l(l[0])||a.r2l(i[1])!==a.r2l(l[1])){c={xr0:i,xr1:l}}if(n.r2l(o[0])!==n.r2l(s[0])||n.r2l(o[1])!==n.r2l(s[1])){u={yr0:o,yr1:s}}if(c||u){g.push(W.extendFlat({plotinfo:r},c,u))}}return Promise.resolve()};p.runFn=function(t){var e=c._fullData;var r=c._fullLayout;var a=r._basePlotModules;var n;var i;var o;var l=[];for(var s=0;s<e.length;s++){l.push(s)}function transitionAxes(){if(!c._fullLayout)return;for(var e=0;e<a.length;e++){if(a[e].transitionAxes){a[e].transitionAxes(c,g,n,t)}}}function transitionTraces(){if(!c._fullLayout)return;for(var e=0;e<a.length;e++){a[e].plot(c,o,i,t)}}if(g.length&&f.anim){if(u.ordering==="traces first"){n=W.extendFlat({},u,{duration:0});o=l;i=u;setTimeout(transitionAxes,u.duration);transitionTraces()}else{n=u;o=null;i=W.extendFlat({},u,{duration:0});setTimeout(transitionTraces,n.duration);transitionAxes()}}else if(g.length){n=u;transitionAxes()}else if(f.anim){o=l;i=u;transitionTraces()}};return _transition(c,u,p)};function _transition(a,n,i){var o=false;function executeCallbacks(e){var t=Promise.resolve();if(!e)return t;while(e.length){t=t.then(e.shift())}return t}function flushCallbacks(e){if(!e)return;while(e.length){e.shift()}}function executeTransitions(){a.emit("plotly_transitioning",[]);return new Promise(function(e){a._transitioning=true;if(n.duration>0){a._transitioningWithDuration=true}a._transitionData._interruptCallbacks.push(function(){o=true});if(i.redraw){a._transitionData._interruptCallbacks.push(function(){return Z.call("redraw",a)})}a._transitionData._interruptCallbacks.push(function(){a.emit("plotly_transitioninterrupted",[])});var t=0;var r=0;function makeCallback(){t++;return function(){r++;if(!o&&r===t){completeTransition(e)}}}i.runFn(makeCallback);setTimeout(makeCallback())})}function completeTransition(e){if(!a._transitionData)return;flushCallbacks(a._transitionData._interruptCallbacks);return Promise.resolve().then(function(){if(i.redraw){return Z.call("redraw",a)}}).then(function(){a._transitioning=false;a._transitioningWithDuration=false;a.emit("plotly_transitioned",[])}).then(e)}function interruptPreviousTransitions(){if(!a._transitionData)return;a._transitioning=false;return executeCallbacks(a._transitionData._interruptCallbacks)}var e=[X.previousPromises,interruptPreviousTransitions,i.prepareFn,X.rehover,X.reselect,executeTransitions];var t=W.syncOrAsync(e,a);if(!t||!t.then){t=Promise.resolve()}return t.then(function(){return a})}X.doCalcdata=function(n,e){var t=O.list(n);var i=n._fullData;var r=n._fullLayout;var o,l,a,s;var c=new Array(i.length);var u=(n.calcdata||[]).slice();n.calcdata=c;r._numBoxes=0;r._numViolins=0;r._violinScaleGroupStats={};n._hmpixcount=0;n._hmlumcount=0;r._piecolormap={};r._sunburstcolormap={};r._treemapcolormap={};r._iciclecolormap={};r._funnelareacolormap={};for(a=0;a<i.length;a++){if(Array.isArray(e)&&e.indexOf(a)===-1){c[a]=u[a];continue}}for(a=0;a<i.length;a++){o=i[a];o._arrayAttrs=g.findArrayAttributes(o);o._extremes={}}var f=r._subplots.polar||[];for(a=0;a<f.length;a++){t.push(r[f[a]].radialaxis,r[f[a]].angularaxis)}for(var d in r._colorAxes){var v=r[d];if(v.cauto!==false){delete v.cmin;delete v.cmax}}var h=false;function transformCalci(e){o=i[e];l=o._module;if(o.visible===true&&o.transforms){if(l&&l.calc){var t=l.calc(n,o);if(t[0]&&t[0].t&&t[0].t._scene){delete t[0].t._scene.dirty}}for(s=0;s<o.transforms.length;s++){var r=o.transforms[s];l=x[r.type];if(l&&l.calcTransform){o._hasCalcTransform=true;h=true;l.calcTransform(n,o,r)}}}}function calci(e,t){o=i[e];l=o._module;if(!!l.isContainer!==t)return;var r=[];if(o.visible===true&&o._length!==0){delete o._indexToPoints;var a=o.transforms||[];for(s=a.length-1;s>=0;s--){if(a[s].enabled){o._indexToPoints=a[s]._indexToPoints;break}}if(l&&l.calc){r=l.calc(n,o)}}if(!Array.isArray(r)||!r[0]){r=[{x:y,y:y}]}if(!r[0].t)r[0].t={};r[0].trace=o;c[e]=r}setupAxisCategories(t,i,r);for(a=0;a<i.length;a++)calci(a,true);for(a=0;a<i.length;a++)transformCalci(a);if(h)setupAxisCategories(t,i,r);for(a=0;a<i.length;a++)calci(a,true);for(a=0;a<i.length;a++)calci(a,false);doCrossTraceCalc(n);var p=sortAxisCategoriesByValue(t,n);if(p.length){r._numBoxes=0;r._numViolins=0;for(a=0;a<p.length;a++)calci(p[a],true);for(a=0;a<p.length;a++)calci(p[a],false);doCrossTraceCalc(n)}Z.getComponentMethod("fx","calc")(n);Z.getComponentMethod("errorbars","calc")(n)};var P=/(total|sum|min|max|mean|median) (ascending|descending)/;function sortAxisCategoriesByValue(e,s){var t=[];var r,a,n,i,o;function zMapCategory(e,t,r){var a=t._id.charAt(0);if(e==="histogram2dcontour"){var n=t._counterAxes[0];var i=O.getFromId(s,n);var o=a==="x"||n==="x"&&i.type==="category";var l=a==="y"||n==="y"&&i.type==="category";return function(e,t){if(e===0||t===0)return-1;if(o&&e===r[t].length-1)return-1;if(l&&t===r.length-1)return-1;return(a==="y"?t:e)-1}}else{return function(e,t){return a==="y"?t:e}}}var l={min:function(e){return W.aggNums(Math.min,null,e)},max:function(e){return W.aggNums(Math.max,null,e)},sum:function(e){return W.aggNums(function(e,t){return e+t},null,e)},total:function(e){return W.aggNums(function(e,t){return e+t},null,e)},mean:function(e){return W.mean(e)},median:function(e){return W.median(e)}};for(r=0;r<e.length;r++){var c=e[r];if(c.type!=="category")continue;var u=c.categoryorder.match(P);if(u){var f=u[1];var d=u[2];var v=c._id.charAt(0);var h=v==="x";var p=[];for(a=0;a<c._categories.length;a++){p.push([c._categories[a],[]])}for(a=0;a<c._traceIndices.length;a++){var g=c._traceIndices[a];var m=s._fullData[g];if(m.visible!==true)continue;var y=m.type;if(Z.traceIs(m,"histogram")){delete m._xautoBinFinished;delete m._yautoBinFinished}var x=y==="splom";var _=y==="scattergl";var b=s.calcdata[g];for(n=0;n<b.length;n++){var w=b[n];var T,k;if(x){var A=m._axesDim[c._id];if(!h){var M=m._diag[A][0];if(M)c=s._fullLayout[O.id2name(M)]}var S=w.trace.dimensions[A].values;for(i=0;i<S.length;i++){T=c._categoriesMap[S[i]];for(o=0;o<w.trace.dimensions.length;o++){if(o===A)continue;var C=w.trace.dimensions[o];p[T][1].push(C.values[i])}}}else if(_){for(i=0;i<w.t.x.length;i++){if(h){T=w.t.x[i];k=w.t.y[i]}else{T=w.t.y[i];k=w.t.x[i]}p[T][1].push(k)}if(w.t&&w.t._scene){delete w.t._scene.dirty}}else if(w.hasOwnProperty("z")){k=w.z;var L=zMapCategory(m.type,c,k);for(i=0;i<k.length;i++){for(o=0;o<k[i].length;o++){T=L(o,i);if(T+1)p[T][1].push(k[i][o])}}}else{T=w.p;if(T===undefined)T=w[v];k=w.s;if(k===undefined)k=w.v;if(k===undefined)k=h?w.y:w.x;if(!Array.isArray(k)){if(k===undefined)k=[];else k=[k]}for(i=0;i<k.length;i++){p[T][1].push(k[i])}}}}c._categoriesValue=p;var D=[];for(a=0;a<p.length;a++){D.push([p[a][0],l[f](p[a][1])])}D.sort(function(e,t){return e[1]-t[1]});c._categoriesAggregatedValue=D;c._initialCategories=D.map(function(e){return e[0]});if(d==="descending"){c._initialCategories.reverse()}t=t.concat(c.sortByInitialCategories())}}return t}function setupAxisCategories(e,t,r){var a={};function setupOne(e){e.clearCalc();if(e.type==="multicategory"){e.setupMultiCategory(t)}a[e._id]=1}W.simpleMap(e,setupOne);var n=r._axisMatchGroups||[];for(var i=0;i<n.length;i++){for(var o in n[i]){if(!a[o]){setupOne(r[O.id2name(o)])}}}}function doCrossTraceCalc(e){var t=e._fullLayout;var r=t._visibleModules;var a={};var n,i,o;for(i=0;i<r.length;i++){var l=r[i];var s=l.crossTraceCalc;if(s){var c=l.basePlotModule.name;if(a[c]){W.pushUnique(a[c],s)}else{a[c]=[s]}}}for(o in a){var u=a[o];var f=t._subplots[o];if(Array.isArray(f)){for(n=0;n<f.length;n++){var d=f[n];var v=o==="cartesian"?t._plots[d]:t[d];for(i=0;i<u.length;i++){u[i](e,v,d)}}}else{for(i=0;i<u.length;i++){u[i](e)}}}}X.rehover=function(e){if(e._fullLayout._rehover){e._fullLayout._rehover()}};X.redrag=function(e){if(e._fullLayout._redrag){e._fullLayout._redrag()}};X.reselect=function(e){var t=e._fullLayout;var r=(e.layout||{}).selections;var a=t._previousSelections;t._previousSelections=r;var n=t._reselect||JSON.stringify(r)!==JSON.stringify(a);Z.getComponentMethod("selections","reselect")(e,n)};X.generalUpdatePerTraceModule=function(e,t,r,a){var n=t.traceHash;var i={};var o;for(o=0;o<r.length;o++){var l=r[o];var s=l[0].trace;if(s.visible){i[s.type]=i[s.type]||[];i[s.type].push(l)}}for(var c in n){if(!i[c]){var u=n[c][0];var f=u[0].trace;f.visible=false;i[c]=[u]}}for(var d in i){var v=i[d];var h=v[0][0].trace._module;h.plot(e,t,W.filterVisible(v),a)}t.traceHash=i};X.plotBasePlot=function(e,t,r,a,n){var i=Z.getModule(e);var o=l(t.calcdata,i)[0];i.plot(t,o,a,n)};X.cleanBasePlot=function(e,t,r,a,n){var i=n._has&&n._has(e);var o=r._has&&r._has(e);if(i&&!o){n["_"+e+"layer"].selectAll("g.trace").remove()}}},5386:function(e,t,r){"use strict";var a=r(1562);var n=a.FORMAT_LINK;var i=a.DATE_FORMAT_LINK;function templateFormatStringDescription(e){var t=e&&e.supportOther;return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(t?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),'Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".',n,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".',i,"for details on the date formatting syntax."].join(" ")}function describeVariables(e){var t=e.description?" "+e.description:"";var r=e.keys||[];if(r.length>0){var a=[];for(var n=0;n<r.length;n++){a[n]="`"+r[n]+"`"}t=t+"Finally, the template string has access to ";if(r.length===1){t="variable "+a[0]}else{t="variables "+a.slice(0,-1).join(", ")+" and "+a.slice(-1)+"."}}return t}t.f=function(e,t){e=e||{};t=t||{};var r=describeVariables(t);var a={valType:"string",dflt:"",editType:e.editType||"none"};if(e.arrayOk!==false){a.arrayOk=true}return a};t.s=function(e,t){e=e||{};t=t||{};var r=describeVariables(t);var a={valType:"string",dflt:"",editType:e.editType||"calc"};if(e.arrayOk!==false){a.arrayOk=true}return a}},3972:function(e,f,t){"use strict";var d=t(7769);var a=t(4213);var i=t(5138);var o=t(1965);var v=t(4401).addStyleRule;var r=t(1426);var n=t(9012);var l=t(820);var h=r.extendFlat;var s=r.extendDeepAll;f.modules={};f.allCategories={};f.allTypes=[];f.subplotsRegistry={};f.transformsRegistry={};f.componentsRegistry={};f.layoutArrayContainers=[];f.layoutArrayRegexes=[];f.traceLayoutAttributes={};f.localeRegistry={};f.apiMethodRegistry={};f.collectableSubplotTypes=null;f.register=function register(e){f.collectableSubplotTypes=null;if(!e){throw new Error("No argument passed to Plotly.register.")}else if(e&&!Array.isArray(e)){e=[e]}for(var t=0;t<e.length;t++){var r=e[t];if(!r){throw new Error("Invalid module was attempted to be registered!")}switch(r.moduleType){case"trace":registerTraceModule(r);break;case"transform":registerTransformModule(r);break;case"component":registerComponentModule(r);break;case"locale":registerLocale(r);break;case"apiMethod":var a=r.name;f.apiMethodRegistry[a]=r.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}};f.getModule=function(e){var t=f.modules[getTraceType(e)];if(!t)return false;return t._module};f.traceIs=function(e,t){e=getTraceType(e);if(e==="various")return false;var r=f.modules[e];if(!r){if(e){d.log("Unrecognized trace type "+e+".")}r=f.modules[n.type.dflt]}return!!r.categories[t]};f.getTransformIndices=function(e,t){var r=[];var a=e.transforms||[];for(var n=0;n<a.length;n++){if(a[n].type===t){r.push(n)}}return r};f.hasTransform=function(e,t){var r=e.transforms||[];for(var a=0;a<r.length;a++){if(r[a].type===t){return true}}return false};f.getComponentMethod=function(e,t){var r=f.componentsRegistry[e];if(!r)return a;return r[t]||a};f.call=function(){var e=arguments[0];var t=[].slice.call(arguments,1);return f.apiMethodRegistry[e].apply(null,t)};function registerTraceModule(e){var t=e.name;var r=e.categories;var a=e.meta;if(f.modules[t]){d.log("Type "+t+" already registered");return}if(!f.subplotsRegistry[e.basePlotModule.name]){registerSubplot(e.basePlotModule)}var n={};for(var i=0;i<r.length;i++){n[r[i]]=true;f.allCategories[r[i]]=true}f.modules[t]={_module:e,categories:n};if(a&&Object.keys(a).length){f.modules[t].meta=a}f.allTypes.push(t);for(var o in f.componentsRegistry){mergeComponentAttrsToTrace(o,t)}if(e.layoutAttributes){h(f.traceLayoutAttributes,e.layoutAttributes)}var l=e.basePlotModule;var s=l.name;if(s==="mapbox"){var c=l.constants.styleRules;for(var u in c){v(".js-plotly-plot .plotly .mapboxgl-"+u,c[u])}}if((s==="geo"||s==="mapbox")&&window.PlotlyGeoAssets===undefined){window.PlotlyGeoAssets={topojson:{}}}}function registerSubplot(e){var t=e.name;if(f.subplotsRegistry[t]){d.log("Plot type "+t+" already registered.");return}findArrayRegexps(e);f.subplotsRegistry[t]=e;for(var r in f.componentsRegistry){mergeComponentAttrsToSubplot(r,e.name)}}function registerComponentModule(e){if(typeof e.name!=="string"){throw new Error("Component module *name* must be a string.")}var t=e.name;f.componentsRegistry[t]=e;if(e.layoutAttributes){if(e.layoutAttributes._isLinkedToArray){i(f.layoutArrayContainers,t)}findArrayRegexps(e)}for(var r in f.modules){mergeComponentAttrsToTrace(t,r)}for(var a in f.subplotsRegistry){mergeComponentAttrsToSubplot(t,a)}for(var n in f.transformsRegistry){mergeComponentAttrsToTransform(t,n)}if(e.schema&&e.schema.layout){s(l,e.schema.layout)}}function registerTransformModule(e){if(typeof e.name!=="string"){throw new Error("Transform module *name* must be a string.")}var t="Transform module "+e.name;var r=typeof e.transform==="function";var a=typeof e.calcTransform==="function";if(!r&&!a){throw new Error(t+" is missing a *transform* or *calcTransform* method.")}if(r&&a){d.log([t+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" "))}if(!o(e.attributes)){d.log(t+" registered without an *attributes* object.")}if(typeof e.supplyDefaults!=="function"){d.log(t+" registered without a *supplyDefaults* method.")}f.transformsRegistry[e.name]=e;for(var n in f.componentsRegistry){mergeComponentAttrsToTransform(n,e.name)}}function registerLocale(e){var t=e.name;var r=t.split("-")[0];var a=e.dictionary;var n=e.format;var i=a&&Object.keys(a).length;var o=n&&Object.keys(n).length;var l=f.localeRegistry;var s=l[t];if(!s)l[t]=s={};if(r!==t){var c=l[r];if(!c)l[r]=c={};if(i&&c.dictionary===s.dictionary){c.dictionary=a}if(o&&c.format===s.format){c.format=n}}if(i)s.dictionary=a;if(o)s.format=n}function findArrayRegexps(e){if(e.layoutAttributes){var t=e.layoutAttributes._arrayAttrRegexps;if(t){for(var r=0;r<t.length;r++){i(f.layoutArrayRegexes,t[r])}}}}function mergeComponentAttrsToTrace(e,t){var r=f.componentsRegistry[e].schema;if(!r||!r.traces)return;var a=r.traces[t];if(a){s(f.modules[t]._module.attributes,a)}}function mergeComponentAttrsToTransform(e,t){var r=f.componentsRegistry[e].schema;if(!r||!r.transforms)return;var a=r.transforms[t];if(a){s(f.transformsRegistry[t].attributes,a)}}function mergeComponentAttrsToSubplot(e,t){var r=f.componentsRegistry[e].schema;if(!r||!r.subplots)return;var a=f.subplotsRegistry[t];var n=a.layoutAttributes;var i=a.attr==="subplot"?a.name:a.attr;if(Array.isArray(i))i=i[0];var o=r.subplots[i];if(n&&o){s(n,o)}}function getTraceType(e){if(typeof e==="object")e=e.type;return e}},1914:function(e,t,r){"use strict";var p=r(3972);var a=r(1828);var g=a.extendFlat;var m=a.extendDeep;function cloneLayoutOverride(e){var t;switch(e){case"themes__thumb":t={autosize:true,width:150,height:150,title:{text:""},showlegend:false,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:true,showlegend:false,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function keyIsAxis(e){var t=["xaxis","yaxis","zaxis"];return t.indexOf(e.slice(0,5))>-1}e.exports=function clonePlot(e,t){var r;var a=e.data;var n=e.layout;var i=m([],a);var o=m({},n,cloneLayoutOverride(t.tileClass));var l=e._context||{};if(t.width)o.width=t.width;if(t.height)o.height=t.height;if(t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){o.annotations=[];var s=Object.keys(o);for(r=0;r<s.length;r++){if(keyIsAxis(s[r])){o[s[r]].title={text:""}}}for(r=0;r<i.length;r++){var c=i[r];c.showscale=false;if(c.marker)c.marker.showscale=false;if(p.traceIs(c,"pie-like"))c.textposition="none"}}if(Array.isArray(t.annotations)){for(r=0;r<t.annotations.length;r++){o.annotations.push(t.annotations[r])}}var u=Object.keys(o).filter(function(e){return e.match(/^scene\d*$/)});if(u.length){var f={};if(t.tileClass==="thumbnail"){f={title:{text:""},showaxeslabels:false,showticklabels:false,linetickenable:false}}for(r=0;r<u.length;r++){var d=o[u[r]];if(!d.xaxis){d.xaxis={}}if(!d.yaxis){d.yaxis={}}if(!d.zaxis){d.zaxis={}}g(d.xaxis,f);g(d.yaxis,f);g(d.zaxis,f);d._scene=null}}var v=document.createElement("div");if(t.tileClass)v.className=t.tileClass;var h={gd:v,td:v,layout:o,data:i,config:{staticPlot:t.staticPlot===undefined?true:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===undefined?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||false,showLink:t.showLink||false,showTips:t.showTips||false,mapboxAccessToken:l.mapboxAccessToken}};if(t.setBackground!=="transparent"){h.config.setBackground=t.setBackground||"opaque"}h.gd.defaultLayout=cloneLayoutOverride(t.tileClass);return h}},7239:function(e,t,r){"use strict";var l=r(1828);var s=r(403);var c=r(2435);var u=r(5095);function downloadImage(n,i){var o;if(!l.isPlainObject(n))o=l.getGraphDiv(n);i=i||{};i.format=i.format||"png";i.width=i.width||null;i.height=i.height||null;i.imageDataOnly=true;return new Promise(function(t,r){if(o&&o._snapshotInProgress){r(new Error("Snapshotting already in progress."))}if(l.isIE()&&i.format!=="svg"){r(new Error(u.MSG_IE_BAD_FORMAT))}if(o)o._snapshotInProgress=true;var e=s(n,i);var a=i.filename||n.fn||"newplot";a+="."+i.format.replace("-",".");e.then(function(e){if(o)o._snapshotInProgress=false;return c(e,a,i.format)}).then(function(e){t(e)})["catch"](function(e){if(o)o._snapshotInProgress=false;r(e)})})}e.exports=downloadImage},2435:function(e,t,r){"use strict";var u=r(1828);var f=r(5095);function fileSaver(i,o,l){var s=document.createElement("a");var c="download"in s;var e=new Promise(function(e,t){var r;var a;if(u.isIE()){r=f.createBlob(i,"svg");window.navigator.msSaveBlob(r,o);r=null;return e(o)}if(c){r=f.createBlob(i,l);a=f.createObjectURL(r);s.href=a;s.download=o;document.body.appendChild(s);s.click();document.body.removeChild(s);f.revokeObjectURL(a);r=null;return e(o)}if(u.isSafari()){var n=l==="svg"?",":";base64,";f.octetStream(n+encodeURIComponent(i));return e(o)}t(new Error("download error"))});return e}e.exports=fileSaver},5095:function(e,t,r){"use strict";var a=r(3972);t.getDelay=function(e){if(!e._has)return 0;return e._has("gl3d")||e._has("gl2d")||e._has("mapbox")?500:0};t.getRedrawFunc=function(e){return function(){a.getComponentMethod("colorbar","draw")(e)}};t.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)};t.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var n=window.URL||window.webkitURL;t.createObjectURL=function(e){return n.createObjectURL(e)};t.revokeObjectURL=function(e){return n.revokeObjectURL(e)};t.createBlob=function(e,t){if(t==="svg"){return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"})}else if(t==="full-json"){return new window.Blob([e],{type:"application/json;charset=utf-8"})}else{var r=fixBinary(window.atob(e));return new window.Blob([r],{type:"image/"+t})}};t.octetStream=function(e){document.location.href="data:application/octet-stream"+e};function fixBinary(e){var t=e.length;var r=new ArrayBuffer(t);var a=new Uint8Array(r);for(var n=0;n<t;n++){a[n]=e.charCodeAt(n)}return r}t.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/;t.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},4511:function(e,t,r){"use strict";var a=r(5095);var n={getDelay:a.getDelay,getRedrawFunc:a.getRedrawFunc,clone:r(1914),toSVG:r(5900),svgToImg:r(942),toImage:r(6395),downloadImage:r(7239)};e.exports=n},942:function(e,t,r){"use strict";var x=r(1828);var a=r(5398).EventEmitter;var _=r(5095);function svgToImg(g){var m=g.emitter||new a;var y=new Promise(function(r,a){var e=window.Image;var t=g.svg;var n=g.format||"png";if(x.isIE()&&n!=="svg"){var i=new Error(_.MSG_IE_BAD_FORMAT);a(i);if(!g.promise){return m.emit("error",i)}else{return y}}var o=g.canvas;var l=g.scale||1;var s=g.width||300;var c=g.height||150;var u=l*s;var f=l*c;var d=o.getContext("2d",{willReadFrequently:true});var v=new e;var h,p;if(n==="svg"||x.isSafari()){p=_.encodeSVG(t)}else{h=_.createBlob(t,"svg");p=_.createObjectURL(h)}o.width=u;o.height=f;v.onload=function(){var e;h=null;_.revokeObjectURL(p);if(n!=="svg"){d.drawImage(v,0,0,u,f)}switch(n){case"jpeg":e=o.toDataURL("image/jpeg");break;case"png":e=o.toDataURL("image/png");break;case"webp":e=o.toDataURL("image/webp");break;case"svg":e=p;break;default:var t="Image format is not jpeg, png, svg or webp.";a(new Error(t));if(!g.promise){return m.emit("error",t)}}r(e);if(!g.promise){m.emit("success",e)}};v.onerror=function(e){h=null;_.revokeObjectURL(p);a(e);if(!g.promise){return m.emit("error",e)}};v.src=p});if(g.promise){return y}return m}e.exports=svgToImg},6395:function(e,t,r){"use strict";var o=r(5398).EventEmitter;var l=r(3972);var s=r(1828);var c=r(5095);var u=r(1914);var f=r(5900);var d=r(942);function toImage(e,r){var a=new o;var t=u(e,{format:"png"});var n=t.gd;n.style.position="absolute";n.style.left="-5000px";document.body.appendChild(n);function wait(){var e=c.getDelay(n._fullLayout);setTimeout(function(){var e=f(n);var t=document.createElement("canvas");t.id=s.randstr();a=d({format:r.format,width:n._fullLayout.width,height:n._fullLayout.height,canvas:t,emitter:a,svg:e});a.clean=function(){if(n)document.body.removeChild(n)}},e)}var i=c.getRedrawFunc(n);l.call("_doPlot",n,t.data,t.layout,t.config).then(i).then(wait)["catch"](function(e){a.emit("error",e)});return a}e.exports=toImage},5900:function(e,t,r){"use strict";var p=r(9898);var g=r(1828);var m=r(1424);var y=r(7901);var x=r(7922);var _=/"/g;var b="TOBESTRIPPED";var w=new RegExp('("'+b+")|("+b+'")',"g");function htmlEntityDecode(e){var t=p.select("body").append("div").style({display:"none"}).html("");var r=e.replace(/(&[^;]*;)/gi,function(e){if(e==="&lt;"){return"&#60;"}if(e==="&rt;"){return"&#62;"}if(e.indexOf("<")!==-1||e.indexOf(">")!==-1){return""}return t.html(e).text()});t.remove();return r}function xmlEntityEncode(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}e.exports=function toSVG(e,t,r){var a=e._fullLayout;var n=a._paper;var i=a._toppaper;var o=a.width;var l=a.height;var s;n.insert("rect",":first-child").call(m.setRect,0,0,o,l).call(y.fill,a.paper_bgcolor);var c=a._basePlotModules||[];for(s=0;s<c.length;s++){var u=c[s];if(u.toSVG)u.toSVG(e)}if(i){var f=i.node().childNodes;var d=Array.prototype.slice.call(f);for(s=0;s<d.length;s++){var v=d[s];if(v.childNodes.length)n.node().appendChild(v)}}if(a._draggers){a._draggers.remove()}n.node().style.background="";n.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var e=p.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){e.remove();return}else{e.style({visibility:null,display:null})}var t=this.style.fontFamily;if(t&&t.indexOf('"')!==-1){e.style("font-family",t.replace(_,b))}});n.selectAll(".gradient_filled,.pattern_filled").each(function(){var e=p.select(this);var t=this.style.fill;if(t&&t.indexOf("url(")!==-1){e.style("fill",t.replace(_,b))}var r=this.style.stroke;if(r&&r.indexOf("url(")!==-1){e.style("stroke",r.replace(_,b))}});if(t==="pdf"||t==="eps"){n.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0)}n.node().setAttributeNS(x.xmlns,"xmlns",x.svg);n.node().setAttributeNS(x.xmlns,"xmlns:xlink",x.xlink);if(t==="svg"&&r){n.attr("width",r*o);n.attr("height",r*l);n.attr("viewBox","0 0 "+o+" "+l)}var h=(new window.XMLSerializer).serializeToString(n.node());h=htmlEntityDecode(h);h=xmlEntityEncode(h);h=h.replace(w,"'");if(g.isIE()){h=h.replace(/"/gi,"'");h=h.replace(/(\('#)([^']*)('\))/gi,'("#$2")');h=h.replace(/(\\')/gi,'"')}return h}},5341:function(e,t,r){"use strict";var i=r(1828);e.exports=function arraysToCalcdata(e,t){for(var r=0;r<e.length;r++)e[r].i=r;i.mergeArray(t.text,e,"tx");i.mergeArray(t.hovertext,e,"htx");var a=t.marker;if(a){i.mergeArray(a.opacity,e,"mo",true);i.mergeArray(a.color,e,"mc");var n=a.line;if(n){i.mergeArray(n.color,e,"mlc");i.mergeArrayCastPositive(n.width,e,"mlw")}}}},1486:function(e,t,r){"use strict";var a=r(2196);var n=r(2663).axisHoverFormat;var i=r(5386).f;var o=r(5386).s;var l=r(693);var s=r(1940);var c=r(7313);var u=r(9952).u;var f=r(1426).extendFlat;var d=s({editType:"calc",arrayOk:true,colorEditType:"style"});var v=a.marker;var h=v.line;var p=f({},h.width,{dflt:0});var g=f({width:p,editType:"calc"},l("marker.line"));var m=f({line:g,editType:"calc"},l("marker"),{opacity:{valType:"number",arrayOk:true,dflt:1,min:0,max:1,editType:"style"},pattern:u});e.exports={x:a.x,x0:a.x0,dx:a.dx,y:a.y,y0:a.y0,dy:a.dy,xperiod:a.xperiod,yperiod:a.yperiod,xperiod0:a.xperiod0,yperiod0:a.yperiod0,xperiodalignment:a.xperiodalignment,yperiodalignment:a.yperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),text:a.text,texttemplate:o({editType:"plot"},{keys:c.eventDataKeys}),hovertext:a.hovertext,hovertemplate:i({},{keys:c.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:true,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:f({},d,{}),insidetextfont:f({},d,{}),outsidetextfont:f({},d,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:f({},a.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:true,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:true,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:true,editType:"calc"},marker:m,offsetgroup:a.offsetgroup,alignmentgroup:a.alignmentgroup,selected:{marker:{opacity:a.selected.marker.opacity,color:a.selected.marker.color,editType:"style"},textfont:a.selected.textfont,editType:"style"},unselected:{marker:{opacity:a.unselected.marker.opacity,color:a.unselected.marker.color,editType:"style"},textfont:a.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},2290:function(e,t,r){"use strict";var h=r(9298);var p=r(2973);var g=r(2869).hasColorscale;var m=r(8803);var y=r(5341);var x=r(6279);e.exports=function calc(e,t){var r=h.getFromId(e,t.xaxis||"x");var a=h.getFromId(e,t.yaxis||"y");var n,i,o,l,s,c;var u={msUTC:!!(t.base||t.base===0)};if(t.orientation==="h"){n=r.makeCalcdata(t,"x",u);o=a.makeCalcdata(t,"y");l=p(t,a,"y",o);s=!!t.yperiodalignment;c="y"}else{n=a.makeCalcdata(t,"y",u);o=r.makeCalcdata(t,"x");l=p(t,r,"x",o);s=!!t.xperiodalignment;c="x"}i=l.vals;var f=Math.min(i.length,n.length);var d=new Array(f);for(var v=0;v<f;v++){d[v]={p:i[v],s:n[v]};if(s){d[v].orig_p=o[v];d[v][c+"End"]=l.ends[v];d[v][c+"Start"]=l.starts[v]}if(t.ids){d[v].id=String(t.ids[v])}}if(g(t,"marker")){m(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"})}if(g(t,"marker.line")){m(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"})}y(d,t);x(d,t);return d}},7313:function(e){"use strict";e.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},1661:function(e,t,r){"use strict";var _=r(2770);var h=r(1828).isArrayOrTypedArray;var b=r(606).BADNUM;var p=r(3972);var w=r(9298);var T=r(9082).getAxisGroup;var f=r(1546);function crossTraceCalc(e,t){var r=t.xaxis;var a=t.yaxis;var n=e._fullLayout;var i=e._fullData;var o=e.calcdata;var l=[];var s=[];for(var c=0;c<i.length;c++){var u=i[c];if(u.visible===true&&p.traceIs(u,"bar")&&u.xaxis===r._id&&u.yaxis===a._id){if(u.orientation==="h"){l.push(o[c])}else{s.push(o[c])}if(u._computePh){var f=e.calcdata[c];for(var d=0;d<f.length;d++){if(typeof f[d].ph0==="function")f[d].ph0=f[d].ph0();if(typeof f[d].ph1==="function")f[d].ph1=f[d].ph1()}}}}var v={xCat:r.type==="category"||r.type==="multicategory",yCat:a.type==="category"||a.type==="multicategory",mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap};setGroupPositions(e,r,a,s,v);setGroupPositions(e,a,r,l,v)}function setGroupPositions(e,t,r,a,n){if(!a.length)return;var i;var o;var l,s,c;initBase(r,a);switch(n.mode){case"overlay":setGroupPositionsInOverlayMode(t,r,a,n);break;case"group":i=[];o=[];for(l=0;l<a.length;l++){s=a[l];c=s[0].trace;if(c.offset===undefined)o.push(s);else i.push(s)}if(o.length){setGroupPositionsInGroupMode(e,t,r,o,n)}if(i.length){setGroupPositionsInOverlayMode(t,r,i,n)}break;case"stack":case"relative":i=[];o=[];for(l=0;l<a.length;l++){s=a[l];c=s[0].trace;if(c.base===undefined)o.push(s);else i.push(s)}if(o.length){setGroupPositionsInStackOrRelativeMode(e,t,r,o,n)}if(i.length){setGroupPositionsInOverlayMode(t,r,i,n)}break}collectExtents(a,t)}function initBase(e,t){var r,a;for(r=0;r<t.length;r++){var n=t[r];var i=n[0].trace;var o=i.type==="funnel"?i._base:i.base;var l;var s=i.orientation==="h"?i.xcalendar:i.ycalendar;var c=e.type==="category"||e.type==="multicategory"?function(){return null}:e.d2c;if(h(o)){for(a=0;a<Math.min(o.length,n.length);a++){l=c(o[a],0,s);if(_(l)){n[a].b=+l;n[a].hasB=1}else n[a].b=0}for(;a<n.length;a++){n[a].b=0}}else{l=c(o,0,s);var u=_(l);l=u?l:0;for(a=0;a<n.length;a++){n[a].b=l;if(u)n[a].hasB=1}}}}function setGroupPositionsInOverlayMode(e,t,r,a){for(var n=0;n<r.length;n++){var i=r[n];var o=new f([i],{posAxis:e,sepNegVal:false,overlapNoMerge:!a.norm});setOffsetAndWidth(e,o,a);if(a.norm){sieveBars(o);normalizeBars(t,o,a)}else{setBaseAndTop(t,o)}}}function setGroupPositionsInGroupMode(e,t,r,a,n){var i=new f(a,{posAxis:t,sepNegVal:false,overlapNoMerge:!n.norm});setOffsetAndWidthInGroupMode(e,t,i,n);unhideBarsWithinTrace(i,t);if(n.norm){sieveBars(i);normalizeBars(r,i,n)}else{setBaseAndTop(r,i)}}function setGroupPositionsInStackOrRelativeMode(e,t,r,a,n){var i=new f(a,{posAxis:t,sepNegVal:n.mode==="relative",overlapNoMerge:!(n.norm||n.mode==="stack"||n.mode==="relative")});setOffsetAndWidth(t,i,n);stackBars(r,i,n);for(var o=0;o<a.length;o++){var l=a[o];for(var s=0;s<l.length;s++){var c=l[s];if(c.s!==b){var u=c.b+c.s===i.get(c.p,c.s);if(u)c._outmost=true}}}if(n.norm)normalizeBars(r,i,n)}function setOffsetAndWidth(e,t,r){var a=t.minDiff;var n=t.traces;var i=a*(1-r.gap);var o=i;var l=o*(1-(r.groupgap||0));var s=-l/2;for(var c=0;c<n.length;c++){var u=n[c];var f=u[0].t;f.barwidth=l;f.poffset=s;f.bargroupwidth=i;f.bardelta=a}t.binWidth=n[0][0].t.barwidth/100;applyAttributes(t);setBarCenterAndWidth(e,t);updatePositionAxis(e,t)}function setOffsetAndWidthInGroupMode(e,t,r,a){var n=e._fullLayout;var i=r.positions;var o=r.distinctPositions;var l=r.minDiff;var s=r.traces;var c=s.length;var u=i.length!==o.length;var f=l*(1-a.gap);var d=T(n,t._id)+s[0][0].trace.orientation;var v=n._alignmentOpts[d]||{};for(var h=0;h<c;h++){var p=s[h];var g=p[0].trace;var m=v[g.alignmentgroup]||{};var y=Object.keys(m.offsetGroups||{}).length;var x;if(y){x=f/y}else{x=u?f/c:f}var _=x*(1-(a.groupgap||0));var b;if(y){b=((2*g._offsetIndex+1-y)*x-_)/2}else{b=u?((2*h+1-c)*x-_)/2:-_/2}var w=p[0].t;w.barwidth=_;w.poffset=b;w.bargroupwidth=f;w.bardelta=l}r.binWidth=s[0][0].t.barwidth/100;applyAttributes(r);setBarCenterAndWidth(t,r);updatePositionAxis(t,r,u)}function applyAttributes(e){var t=e.traces;var r,a;for(r=0;r<t.length;r++){var n=t[r];var i=n[0];var o=i.trace;var l=i.t;var s=o._offset||o.offset;var c=l.poffset;var u;if(h(s)){u=Array.prototype.slice.call(s,0,n.length);for(a=0;a<u.length;a++){if(!_(u[a])){u[a]=c}}for(a=u.length;a<n.length;a++){u.push(c)}l.poffset=u}else if(s!==undefined){l.poffset=s}var f=o._width||o.width;var d=l.barwidth;if(h(f)){var v=Array.prototype.slice.call(f,0,n.length);for(a=0;a<v.length;a++){if(!_(v[a]))v[a]=d}for(a=v.length;a<n.length;a++){v.push(d)}l.barwidth=v;if(s===undefined){u=[];for(a=0;a<n.length;a++){u.push(c+(d-v[a])/2)}l.poffset=u}}else if(f!==undefined){l.barwidth=f;if(s===undefined){l.poffset=c+(d-f)/2}}}}function setBarCenterAndWidth(e,t){var r=t.traces;var a=getAxisLetter(e);for(var n=0;n<r.length;n++){var i=r[n];var o=i[0].t;var l=o.poffset;var s=Array.isArray(l);var c=o.barwidth;var u=Array.isArray(c);for(var f=0;f<i.length;f++){var d=i[f];var v=d.w=u?c[f]:c;if(d.p===undefined){d.p=d[a];d["orig_"+a]=d[a]}var h=(s?l[f]:l)+v/2;d[a]=d.p+h}}}function updatePositionAxis(e,t,r){var a=t.traces;var n=t.minDiff;var i=n/2;w.minDtick(e,t.minDiff,t.distinctPositions[0],r);for(var o=0;o<a.length;o++){var l=a[o];var s=l[0];var c=s.trace;var u=[];var f,d,v,h;for(h=0;h<l.length;h++){f=l[h];d=f.p-i;v=f.p+i;u.push(d,v)}if(c.width||c.offset){var p=s.t;var g=p.poffset;var m=p.barwidth;var y=Array.isArray(g);var x=Array.isArray(m);for(h=0;h<l.length;h++){f=l[h];var _=y?g[h]:g;var b=x?m[h]:m;d=f.p+_;v=d+b;u.push(d,v)}}c._extremes[e._id]=w.findExtremes(e,u,{padded:false})}}function setBaseAndTop(e,t){var r=t.traces;var a=getAxisLetter(e);for(var n=0;n<r.length;n++){var i=r[n];var o=i[0].trace;var l=o.type==="scatter";var s=o.orientation==="v";var c=[];var u=false;for(var f=0;f<i.length;f++){var d=i[f];var v=l?0:d.b;var h=l?s?d.y:d.x:v+d.s;d[a]=h;c.push(h);if(d.hasB)c.push(v);if(!d.hasB||!d.b){u=true}}o._extremes[e._id]=w.findExtremes(e,c,{tozero:u,padded:true})}}function stackBars(e,t,r){var a=getAxisLetter(e);var n=t.traces;var i;var o;var l;var s,c;var u;for(s=0;s<n.length;s++){i=n[s];o=i[0].trace;if(o.type==="funnel"){for(c=0;c<i.length;c++){u=i[c];if(u.s!==b){t.put(u.p,-.5*u.s)}}}}for(s=0;s<n.length;s++){i=n[s];o=i[0].trace;l=o.type==="funnel";var f=[];for(c=0;c<i.length;c++){u=i[c];if(u.s!==b){var d;if(l){d=u.s}else{d=u.s+u.b}var v=t.put(u.p,d);var h=v+d;u.b=v;u[a]=h;if(!r.norm){f.push(h);if(u.hasB){f.push(v)}}}}if(!r.norm){o._extremes[e._id]=w.findExtremes(e,f,{tozero:true,padded:true})}}}function sieveBars(e){var t=e.traces;for(var r=0;r<t.length;r++){var a=t[r];for(var n=0;n<a.length;n++){var i=a[n];if(i.s!==b){e.put(i.p,i.b+i.s)}}}}function unhideBarsWithinTrace(e,t){var r=e.traces;for(var a=0;a<r.length;a++){var n=r[a];var i=n[0].trace;if(i.base===undefined){var o=new f([n],{posAxis:t,sepNegVal:true,overlapNoMerge:true});for(var l=0;l<n.length;l++){var s=n[l];if(s.p!==b){var c=o.put(s.p,s.b+s.s);if(c)s.b=c}}}}}function normalizeBars(t,e,r){var a=e.traces;var n=getAxisLetter(t);var i=r.norm==="fraction"?1:100;var o=i/1e9;var l=t.l2c(t.c2l(0));var s=r.mode==="stack"?i:l;function needsPadding(e){return _(t.c2l(e))&&(e<l-o||e>s+o||!_(l))}for(var c=0;c<a.length;c++){var u=a[c];var f=u[0].trace;var d=[];var v=false;var h=false;for(var p=0;p<u.length;p++){var g=u[p];if(g.s!==b){var m=Math.abs(i/e.get(g.p,g.s));g.b*=m;g.s*=m;var y=g.b;var x=y+g.s;g[n]=x;d.push(x);h=h||needsPadding(x);if(g.hasB){d.push(y);h=h||needsPadding(y)}if(!g.hasB||!g.b){v=true}}}f._extremes[t._id]=w.findExtremes(t,d,{tozero:v,padded:h})}}function collectExtents(e,t){var r=getAxisLetter(t);var a={};var n,i,o;var l=Infinity;var s=-Infinity;for(n=0;n<e.length;n++){o=e[n];for(i=0;i<o.length;i++){var c=o[i].p;if(_(c)){l=Math.min(l,c);s=Math.max(s,c)}}}var u=1e4/(s-l);var f=a.round=function(e){return String(Math.round(u*(e-l)))};for(n=0;n<e.length;n++){o=e[n];o[0].t.extents=a;var d=o[0].t.poffset;var v=Array.isArray(d);for(i=0;i<o.length;i++){var h=o[i];var p=h[r]-h.w/2;if(_(p)){var g=h[r]+h.w/2;var m=f(h.p);if(a[m]){a[m]=[Math.min(p,a[m][0]),Math.max(g,a[m][1])]}else{a[m]=[p,g]}}h.p0=h.p+(v?d[i]:d);h.p1=h.p0+h.w;h.s0=h.b;h.s1=h.s0+h.s}}}function getAxisLetter(e){return e._id.charAt(0)}e.exports={crossTraceCalc:crossTraceCalc,setGroupPositions:setGroupPositions}},769:function(e,t,r){"use strict";var b=r(1828);var s=r(7901);var c=r(3972);var u=r(7513);var f=r(3927);var d=r(8340);var i=r(6125);var v=r(1486);var w=b.coerceFont;function supplyDefaults(r,a,e,t){function coerce(e,t){return b.coerce(r,a,v,e,t)}var n=u(r,a,t,coerce);if(!n){a.visible=false;return}f(r,a,t,coerce);coerce("xhoverformat");coerce("yhoverformat");coerce("orientation",a.x&&!a.y?"h":"v");coerce("base");coerce("offset");coerce("width");coerce("text");coerce("hovertext");coerce("hovertemplate");var i=coerce("textposition");handleText(r,a,t,coerce,i,{moduleHasSelected:true,moduleHasUnselected:true,moduleHasConstrain:true,moduleHasCliponaxis:true,moduleHasTextangle:true,moduleHasInsideanchor:true});d(r,a,coerce,e,t);var o=(a.marker.line||{}).color;var l=c.getComponentMethod("errorbars","supplyDefaults");l(r,a,o||s.defaultLine,{axis:"y"});l(r,a,o||s.defaultLine,{axis:"x",inherit:"y"});b.coerceSelectionMarkerOpacity(a,coerce)}function crossTraceDefaults(e,t){var r,a;function coerce(e){return b.coerce(a._input,a,v,e)}if(t.barmode==="group"){for(var n=0;n<e.length;n++){a=e[n];if(a.type==="bar"){r=a._input;i(r,a,t,coerce)}}}}function handleText(e,t,r,a,n,i){i=i||{};var o=!(i.moduleHasSelected===false);var l=!(i.moduleHasUnselected===false);var s=!(i.moduleHasConstrain===false);var c=!(i.moduleHasCliponaxis===false);var u=!(i.moduleHasTextangle===false);var f=!(i.moduleHasInsideanchor===false);var d=!!i.hasPathbar;var v=Array.isArray(n)||n==="auto";var h=v||n==="inside";var p=v||n==="outside";if(h||p){var g=w(a,"textfont",r.font);var m=b.extendFlat({},g);var y=e.textfont&&e.textfont.color;var x=!y;if(x){delete m.color}w(a,"insidetextfont",m);if(d){var _=b.extendFlat({},g);if(x){delete _.color}w(a,"pathbar.textfont",_)}if(p)w(a,"outsidetextfont",g);if(o)a("selected.textfont.color");if(l)a("unselected.textfont.color");if(s)a("constraintext");if(c)a("cliponaxis");if(u)a("textangle");a("texttemplate")}if(h){if(f)a("insidetextanchor")}}e.exports={supplyDefaults:supplyDefaults,crossTraceDefaults:crossTraceDefaults,handleText:handleText}},8065:function(e){"use strict";e.exports=function eventData(e,t,r){e.x="xVal"in t?t.xVal:t.x;e.y="yVal"in t?t.yVal:t.y;if(t.xa)e.xaxis=t.xa;if(t.ya)e.yaxis=t.ya;if(r.orientation==="h"){e.label=e.y;e.value=e.x}else{e.label=e.x;e.value=e.y}return e}},9383:function(e,t,r){"use strict";var o=r(2770);var a=r(4267);var n=r(1828).isArrayOrTypedArray;t.coerceString=function(e,t,r){if(typeof t==="string"){if(t||!e.noBlank)return t}else if(typeof t==="number"||t===true){if(!e.strict)return String(t)}return r!==undefined?r:e.dflt};t.coerceNumber=function(e,t,r){if(o(t)){t=+t;var a=e.min;var n=e.max;var i=a!==undefined&&t<a||n!==undefined&&t>n;if(!i)return t}return r!==undefined?r:e.dflt};t.coerceColor=function(e,t,r){if(a(t).isValid())return t;return r!==undefined?r:e.dflt};t.coerceEnumerated=function(e,t,r){if(e.coerceNumber)t=+t;if(e.values.indexOf(t)!==-1)return t;return r!==undefined?r:e.dflt};t.getValue=function(e,t){var r;if(!Array.isArray(e))r=e;else if(t<e.length)r=e[t];return r};t.getLineWidth=function(e,t){var r=0<t.mlw?t.mlw:!n(e.marker.line.width)?e.marker.line.width:0;return r}},5423:function(e,t,r){"use strict";var O=r(211);var c=r(3972);var i=r(7901);var P=r(1828).fillText;var o=r(9383).getLineWidth;var I=r(9298).hoverLabelText;var R=r(606).BADNUM;function hoverPoints(e,t,r,a,n){var i=hoverOnBars(e,t,r,a,n);if(i){var o=i.cd;var l=o[0].trace;var s=o[i.index];i.color=getTraceColor(l,s);c.getComponentMethod("errorbars","hoverInfo")(s,l,i);return[i]}}function hoverOnBars(e,t,r,a,n){var i=e.cd;var o=i[0].trace;var l=i[0].t;var s=a==="closest";var c=o.type==="waterfall";var u=e.maxHoverDistance;var f=e.maxSpikeDistance;var d,v,h,p,g,m,y;if(o.orientation==="h"){d=r;v=t;h="y";p="x";g=sizeFn;m=positionFn}else{d=t;v=r;h="x";p="y";m=sizeFn;g=positionFn}var x=o[h+"period"];var _=s||x;function thisBarMinPos(e){return thisBarExtPos(e,-1)}function thisBarMaxPos(e){return thisBarExtPos(e,1)}function thisBarExtPos(e,t){var r=e.w;return e[h]+t*r/2}function periodLength(e){return e[h+"End"]-e[h+"Start"]}var b=s?thisBarMinPos:x?function(e){return e.p-periodLength(e)/2}:function(e){return Math.min(thisBarMinPos(e),e.p-l.bardelta/2)};var w=s?thisBarMaxPos:x?function(e){return e.p+periodLength(e)/2}:function(e){return Math.max(thisBarMaxPos(e),e.p+l.bardelta/2)};function inbox(e,t,r){if(n.finiteRange)r=0;return O.inbox(e-d,t-d,r+Math.min(1,Math.abs(t-e)/y)-1)}function positionFn(e){return inbox(b(e),w(e),u)}function thisBarPositionFn(e){return inbox(thisBarMinPos(e),thisBarMaxPos(e),f)}function getSize(e){var t=e[p];if(c){var r=Math.abs(e.rawS)||0;if(v>0){t+=r}else if(v<0){t-=r}}return t}function sizeFn(e){var t=v;var r=e.b;var a=getSize(e);return O.inbox(r-t,a-t,u+(a-t)/(a-r)-1)}function thisBarSizeFn(e){var t=v;var r=e.b;var a=getSize(e);return O.inbox(r-t,a-t,f+(a-t)/(a-r)-1)}var T=e[h+"a"];var k=e[p+"a"];y=Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0]));function dxy(e){return(g(e)+m(e))/2}var S=O.getDistanceFunction(a,g,m,dxy);O.getClosest(i,S,e);if(e.index===false)return;if(i[e.index].p===R)return;if(!_){b=function(e){return Math.min(thisBarMinPos(e),e.p-l.bargroupwidth/2)};w=function(e){return Math.max(thisBarMaxPos(e),e.p+l.bargroupwidth/2)}}var C=e.index;var A=i[C];var L=o.base?A.b+A.s:A.s;e[p+"0"]=e[p+"1"]=k.c2p(A[p],true);e[p+"LabelVal"]=L;var M=l.extents[l.extents.round(A.p)];e[h+"0"]=T.c2p(s?b(A):M[0],true);e[h+"1"]=T.c2p(s?w(A):M[1],true);var D=A.orig_p!==undefined;e[h+"LabelVal"]=D?A.orig_p:A.p;e.labelLabel=I(T,e[h+"LabelVal"],o[h+"hoverformat"]);e.valueLabel=I(k,e[p+"LabelVal"],o[p+"hoverformat"]);e.baseLabel=I(k,A.b,o[p+"hoverformat"]);e.spikeDistance=(thisBarSizeFn(A)+thisBarPositionFn(A))/2;e[h+"Spike"]=T.c2p(A.p,true);P(A,o,e);e.hovertemplate=o.hovertemplate;return e}function getTraceColor(e,t){var r=t.mcc||e.marker.color;var a=t.mlcc||e.marker.line.color;var n=o(e,t);if(i.opacity(r))return r;else if(i.opacity(a)&&n)return a}e.exports={hoverPoints:hoverPoints,hoverOnBars:hoverOnBars,getTraceColor:getTraceColor}},822:function(e,t,r){"use strict";e.exports={attributes:r(1486),layoutAttributes:r(3641),supplyDefaults:r(769).supplyDefaults,crossTraceDefaults:r(769).crossTraceDefaults,supplyLayoutDefaults:r(3957),calc:r(2290),crossTraceCalc:r(1661).crossTraceCalc,colorbar:r(4898),arraysToCalcdata:r(5341),plot:r(7295).plot,style:r(6688).style,styleOnSelect:r(6688).styleOnSelect,hoverPoints:r(5423).hoverPoints,eventData:r(8065),selectPoints:r(1974),moduleType:"trace",name:"bar",basePlotModule:r(3612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:true,meta:{}}},3641:function(e){"use strict";e.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},3957:function(e,t,r){"use strict";var d=r(3972);var v=r(9298);var h=r(1828);var p=r(3641);e.exports=function(r,a,e){function coerce(e,t){return h.coerce(r,a,p,e,t)}var t=false;var n=false;var i=false;var o={};var l=coerce("barmode");for(var s=0;s<e.length;s++){var c=e[s];if(d.traceIs(c,"bar")&&c.visible)t=true;else continue;if(l==="group"){var u=c.xaxis+c.yaxis;if(o[u])i=true;o[u]=true}if(c.visible&&c.type==="histogram"){var f=v.getFromId({_fullLayout:a},c[c.orientation==="v"?"xaxis":"yaxis"]);if(f.type!=="category")n=true}}if(!t){delete a.barmode;return}if(l!=="overlay")coerce("barnorm");coerce("bargap",n&&!i?0:.2);coerce("bargroupgap")}},7295:function(e,c,t){"use strict";var D=t(9898);var O=t(2770);var V=t(1828);var Y=t(3893);var P=t(7901);var U=t(1424);var a=t(3972);var _=t(9298).tickText;var r=t(2597);var G=r.recordMinTextSize;var n=r.clearMinTextSize;var q=t(6688);var I=t(9383);var i=t(7313);var o=t(1486);var s=o.text;var l=o.textposition;var b=t(3469).appendArrayPointValue;var Z=i.TEXTPAD;function keyFunc(e){return e.id}function getKeyFunc(e){if(e.ids){return keyFunc}}function dirSign(e,t){return e<t?1:-1}function getXY(e,t,r,a){var n=[];var i=[];var o=a?t:r;var l=a?r:t;n[0]=o.c2p(e.s0,true);i[0]=l.c2p(e.p0,true);n[1]=o.c2p(e.s1,true);i[1]=l.c2p(e.p1,true);return a?[n,i]:[i,n]}function transition(e,t,r,a){if(!t.uniformtext.mode&&hasTransition(r)){var n;if(a){n=a()}return e.transition().duration(r.duration).ease(r.easing).each("end",function(){n&&n()}).each("interrupt",function(){n&&n()})}else{return e}}function hasTransition(e){return e&&e.duration>0}function plot(w,T,e,t,k,A){var M=T.xaxis;var S=T.yaxis;var C=w._fullLayout;var L=w._context.staticPlot;if(!k){k={mode:C.barmode,norm:C.barmode,gap:C.bargap,groupgap:C.bargroupgap};n("bar",C)}var r=V.makeTraceGroups(t,e,"trace bars").each(function(g){var e=D.select(this);var m=g[0].trace;var t=m.type==="waterfall";var r=m.type==="funnel";var a=m.type==="bar";var y=a||r;var x=0;if(t&&m.connector.visible&&m.connector.mode==="between"){x=m.connector.line.width/2}var _=m.orientation==="h";var b=hasTransition(k);var n=V.ensureSingle(e,"g","points");var i=getKeyFunc(m);var o=n.selectAll("g.point").data(V.identity,i);o.enter().append("g").classed("point",true);o.exit().remove();o.each(function(e,t){var r=D.select(this);var a=getXY(e,M,S,_);var n=a[0][0];var i=a[0][1];var o=a[1][0];var l=a[1][1];var s=(_?i-n:l-o)===0;if(s&&y&&I.getLineWidth(m,e)){s=false}if(!s){s=!O(n)||!O(i)||!O(o)||!O(l)}e.isBlank=s;if(s){if(_){i=n}else{l=o}}if(x&&!s){if(_){n-=dirSign(n,i)*x;i+=dirSign(n,i)*x}else{o-=dirSign(o,l)*x;l+=dirSign(o,l)*x}}var c;var u;if(m.type==="waterfall"){if(!s){var f=m[e.dir].marker;c=f.line.width;u=f.color}}else{c=I.getLineWidth(m,e);u=e.mc||m.marker.color}function roundWithLine(e){var t=D.round(c/2%1,2);return k.gap===0&&k.groupgap===0?D.round(Math.round(e)-t,2):e}function expandToVisible(e,t,r){if(r&&e===t){return e}return Math.abs(e-t)>=2?roundWithLine(e):e>t?Math.ceil(e):Math.floor(e)}if(!w._context.staticPlot){var d=P.opacity(u);var v=d<1||c>.01?roundWithLine:expandToVisible;n=v(n,i,_);i=v(i,n,_);o=v(o,l,!_);l=v(l,o,!_)}var h=transition(V.ensureSingle(r,"path"),C,k,A);h.style("vector-effect",L?"none":"non-scaling-stroke").attr("d",isNaN((i-n)*(l-o))||s&&w._context.staticPlot?"M0,0Z":"M"+n+","+o+"V"+l+"H"+i+"V"+o+"Z").call(U.setClipUrl,T.layerClipId,w);if(!C.uniformtext.mode&&b){var p=U.makePointStyleFns(m);U.singlePointStyle(e,h,m,p,w)}appendBarText(w,T,r,g,t,n,i,o,l,k,A);if(T.layerClipId){U.hideOutsideRangePoint(e,r.select("text"),M,S,m.xcalendar,m.ycalendar)}});var l=m.cliponaxis===false;U.setClipUrl(e,l?null:T.layerClipId,w)});a.getComponentMethod("errorbars","plot")(w,r,T,k)}function appendBarText(n,e,t,r,a,i,o,l,s,c,u){var f=e.xaxis;var d=e.yaxis;var v=n._fullLayout;var h;function appendTextNode(e,t,r){var a=V.ensureSingle(e,"text").text(t).attr({"class":"bartext bartext-"+h,"text-anchor":"middle","data-notex":1}).call(U.font,r).call(Y.convertToTspans,n);return a}var p=r[0].trace;var g=p.orientation==="h";var m=getText(v,r,a,f,d);h=getTextPosition(p,a);var y=c.mode==="stack"||c.mode==="relative";var x=r[a];var _=!y||x._outmost;if(!m||h==="none"||(x.isBlank||i===o||l===s)&&(h==="auto"||h==="inside")){t.select("text").remove();return}var b=v.font;var w=q.getBarColor(r[a],p);var T=q.getInsideTextFont(p,a,b,w);var F=q.getOutsideTextFont(p,a,b);var k=t.datum();if(g){if(f.type==="log"&&k.s0<=0){if(f.range[0]<f.range[1]){i=0}else{i=f._length}}}else{if(d.type==="log"&&k.s0<=0){if(d.range[0]<d.range[1]){l=d._length}else{l=0}}}var A=Math.abs(o-i)-2*Z;var M=Math.abs(s-l)-2*Z;var S;var C;var L;var D;var O;if(h==="outside"){if(!_&&!x.hasB)h="inside"}if(h==="auto"){if(_){h="inside";O=V.ensureUniformFontSize(n,T);S=appendTextNode(t,m,O);C=U.bBox(S.node()),L=C.width,D=C.height;var N=L>0&&D>0;var E=L<=A&&D<=M;var z=L<=M&&D<=A;var B=g?A>=L*(M/D):M>=D*(A/L);if(N&&(E||z||B)){h="inside"}else{h="outside";S.remove();S=null}}else{h="inside"}}if(!S){O=V.ensureUniformFontSize(n,h==="outside"?F:T);S=appendTextNode(t,m,O);var H=S.attr("transform");S.attr("transform","");C=U.bBox(S.node()),L=C.width,D=C.height;S.attr("transform",H);if(L<=0||D<=0){S.remove();return}}var P=p.textangle;var I,R;if(h==="outside"){R=p.constraintext==="both"||p.constraintext==="outside";I=toMoveOutsideBar(i,o,l,s,C,{isHorizontal:g,constrained:R,angle:P})}else{R=p.constraintext==="both"||p.constraintext==="inside";I=toMoveInsideBar(i,o,l,s,C,{isHorizontal:g,constrained:R,angle:P,anchor:p.insidetextanchor})}I.fontSize=O.size;G(p.type==="histogram"?"bar":p.type,I,v);x.transform=I;var j=transition(S,v,c,u);V.setTransormAndDisplay(j,I)}function getRotateFromAngle(e){return e==="auto"?0:e}function getRotatedTextSize(e,t){var r=Math.PI/180*t;var a=Math.abs(Math.sin(r));var n=Math.abs(Math.cos(r));return{x:e.width*n+e.height*a,y:e.width*a+e.height*n}}function toMoveInsideBar(e,t,r,a,n,i){var o=!!i.isHorizontal;var l=!!i.constrained;var s=i.angle||0;var c=i.anchor||"end";var u=c==="end";var f=c==="start";var d=i.leftToRight||0;var v=(d+1)/2;var h=1-v;var p=n.width;var g=n.height;var m=Math.abs(t-e);var y=Math.abs(a-r);var x=m>2*Z&&y>2*Z?Z:0;m-=2*x;y-=2*x;var _=getRotateFromAngle(s);if(s==="auto"&&!(p<=m&&g<=y)&&(p>m||g>y)&&(!(p>y||g>m)||p<g!==m<y)){_+=90}var b=getRotatedTextSize(n,_);var w=1;if(l){w=Math.min(1,m/b.x,y/b.y)}var T=n.left*h+n.right*v;var k=(n.top+n.bottom)/2;var A=(e+Z)*h+(t-Z)*v;var M=(r+a)/2;var S=0;var C=0;if(f||u){var L=(o?b.x:b.y)/2;var D=o?dirSign(e,t):dirSign(r,a);if(o){if(f){A=e+D*x;S=-D*L}else{A=t-D*x;S=D*L}}else{if(f){M=r+D*x;C=-D*L}else{M=a-D*x;C=D*L}}}return{textX:T,textY:k,targetX:A,targetY:M,anchorX:S,anchorY:C,scale:w,rotate:_}}function toMoveOutsideBar(e,t,r,a,n,i){var o=!!i.isHorizontal;var l=!!i.constrained;var s=i.angle||0;var c=n.width;var u=n.height;var f=Math.abs(t-e);var d=Math.abs(a-r);var v;if(o){v=d>2*Z?Z:0}else{v=f>2*Z?Z:0}var h=1;if(l){h=o?Math.min(1,d/u):Math.min(1,f/c)}var p=getRotateFromAngle(s);var g=getRotatedTextSize(n,p);var m=(o?g.x:g.y)/2;var y=(n.left+n.right)/2;var x=(n.top+n.bottom)/2;var _=(e+t)/2;var b=(r+a)/2;var w=0;var T=0;var k=o?dirSign(t,e):dirSign(r,a);if(o){_=t-k*v;w=k*m}else{b=a+k*v;T=-k*m}return{textX:y,textY:x,targetX:_,targetY:b,anchorX:w,anchorY:T,scale:h,rotate:p}}function getText(e,t,r,a,n){var i=t[0].trace;var o=i.texttemplate;var l;if(o){l=calcTexttemplate(e,t,r,a,n)}else if(i.textinfo){l=calcTextinfo(t,r,a,n)}else{l=I.getValue(i.text,r)}return I.coerceString(s,l)}function getTextPosition(e,t){var r=I.getValue(e.textposition,t);return I.coerceEnumerated(l,r)}function calcTexttemplate(e,t,r,a,n){var i=t[0].trace;var o=V.castOption(i,r,"texttemplate");if(!o)return"";var l=i.type==="histogram";var s=i.type==="waterfall";var c=i.type==="funnel";var u=i.orientation==="h";var f,d;var v,h;if(u){f="y";d=n;v="x";h=a}else{f="x";d=a;v="y";h=n}function formatLabel(e){return _(d,d.c2l(e),true).text}function formatNumber(e){return _(h,h.c2l(e),true).text}var p=t[r];var g={};g.label=p.p;g.labelLabel=g[f+"Label"]=formatLabel(p.p);var m=V.castOption(i,p.i,"text");if(m===0||m)g.text=m;g.value=p.s;g.valueLabel=g[v+"Label"]=formatNumber(p.s);var y={};b(y,i,p.i);if(l||y.x===undefined)y.x=u?g.value:g.label;if(l||y.y===undefined)y.y=u?g.label:g.value;if(l||y.xLabel===undefined)y.xLabel=u?g.valueLabel:g.labelLabel;if(l||y.yLabel===undefined)y.yLabel=u?g.labelLabel:g.valueLabel;if(s){g.delta=+p.rawS||p.s;g.deltaLabel=formatNumber(g.delta);g["final"]=p.v;g.finalLabel=formatNumber(g["final"]);g.initial=g["final"]-g.delta;g.initialLabel=formatNumber(g.initial)}if(c){g.value=p.s;g.valueLabel=formatNumber(g.value);g.percentInitial=p.begR;g.percentInitialLabel=V.formatPercent(p.begR);g.percentPrevious=p.difR;g.percentPreviousLabel=V.formatPercent(p.difR);g.percentTotal=p.sumR;g.percenTotalLabel=V.formatPercent(p.sumR)}var x=V.castOption(i,p.i,"customdata");if(x)g.customdata=x;return V.texttemplateString(o,g,e._d3locale,y,g,i._meta||{})}function calcTextinfo(e,t,r,a){var n=e[0].trace;var i=n.orientation==="h";var o=n.type==="waterfall";var l=n.type==="funnel";function formatLabel(e){var t=i?a:r;return _(t,e,true).text}function formatNumber(e){var t=i?r:a;return _(t,+e,true).text}var s=n.textinfo;var c=e[t];var u=s.split("+");var f=[];var d;var v=function(e){return u.indexOf(e)!==-1};if(v("label")){f.push(formatLabel(e[t].p))}if(v("text")){d=V.castOption(n,c.i,"text");if(d===0||d)f.push(d)}if(o){var h=+c.rawS||c.s;var p=c.v;var g=p-h;if(v("initial"))f.push(formatNumber(g));if(v("delta"))f.push(formatNumber(h));if(v("final"))f.push(formatNumber(p))}if(l){if(v("value"))f.push(formatNumber(c.s));var m=0;if(v("percent initial"))m++;if(v("percent previous"))m++;if(v("percent total"))m++;var y=m>1;if(v("percent initial")){d=V.formatPercent(c.begR);if(y)d+=" of initial";f.push(d)}if(v("percent previous")){d=V.formatPercent(c.difR);if(y)d+=" of previous";f.push(d)}if(v("percent total")){d=V.formatPercent(c.sumR);if(y)d+=" of total";f.push(d)}}return f.join("<br>")}e.exports={plot:plot,toMoveInsideBar:toMoveInsideBar}},1974:function(e){"use strict";e.exports=function selectPoints(e,t){var r=e.cd;var a=e.xaxis;var n=e.yaxis;var i=r[0].trace;var o=i.type==="funnel";var l=i.orientation==="h";var s=[];var c;if(t===false){for(c=0;c<r.length;c++){r[c].selected=0}}else{for(c=0;c<r.length;c++){var u=r[c];var f="ct"in u?u.ct:getCentroid(u,a,n,l,o);if(t.contains(f,false,c,e)){s.push({pointNumber:c,x:a.c2d(u.x),y:n.c2d(u.y)});u.selected=1}else{u.selected=0}}}return s};function getCentroid(e,t,r,a,n){var i=t.c2p(a?e.s0:e.p0,true);var o=t.c2p(a?e.s1:e.p1,true);var l=r.c2p(a?e.p0:e.s0,true);var s=r.c2p(a?e.p1:e.s1,true);if(n){return[(i+o)/2,(l+s)/2]}else{if(a){return[o,(l+s)/2]}else{return[(i+o)/2,s]}}}},1546:function(e,t,r){"use strict";e.exports=Sieve;var d=r(1828).distinctVals;function Sieve(e,t){this.traces=e;this.sepNegVal=t.sepNegVal;this.overlapNoMerge=t.overlapNoMerge;var r=Infinity;var a=t.posAxis._id.charAt(0);var n=[];for(var i=0;i<e.length;i++){var o=e[i];for(var l=0;l<o.length;l++){var s=o[l];var c=s.p;if(c===undefined){c=s[a]}if(c!==undefined)n.push(c)}if(o[0]&&o[0].width1){r=Math.min(o[0].width1,r)}}this.positions=n;var u=d(n);this.distinctPositions=u.vals;if(u.vals.length===1&&r!==Infinity)this.minDiff=r;else this.minDiff=Math.min(u.minDiff,r);var f=(t.posAxis||{}).type;if(f==="category"||f==="multicategory"){this.minDiff=1}this.binWidth=this.minDiff;this.bins={}}Sieve.prototype.put=function put(e,t){var r=this.getLabel(e,t);var a=this.bins[r]||0;this.bins[r]=a+t;return a};Sieve.prototype.get=function get(e,t){var r=this.getLabel(e,t);return this.bins[r]||0};Sieve.prototype.getLabel=function getLabel(e,t){var r=t<0&&this.sepNegVal?"v":"^";var a=this.overlapNoMerge?e:Math.round(e/this.binWidth);return r+a}},6688:function(e,t,r){"use strict";var o=r(9898);var l=r(7901);var s=r(1424);var c=r(1828);var n=r(3972);var i=r(2597).resizeText;var a=r(1486);var u=a.textfont;var f=a.insidetextfont;var d=a.outsidetextfont;var v=r(9383);function style(a){var e=o.select(a).selectAll("g.barlayer").selectAll("g.trace");i(a,e,"bar");var t=e.size();var r=a._fullLayout;e.style("opacity",function(e){return e[0].trace.opacity}).each(function(e){if(r.barmode==="stack"&&t>1||r.bargap===0&&r.bargroupgap===0&&!e[0].trace.marker.line.width){o.select(this).attr("shape-rendering","crispEdges")}});e.selectAll("g.points").each(function(e){var t=o.select(this);var r=e[0].trace;stylePoints(t,r,a)});n.getComponentMethod("errorbars","style")(e)}function stylePoints(e,t,r){s.pointStyle(e.selectAll("path"),t,r);styleTextPoints(e,t,r)}function styleTextPoints(e,a,n){e.selectAll("text").each(function(e){var t=o.select(this);var r=c.ensureUniformFontSize(n,determineFont(t,e,a,n));s.font(t,r)})}function styleOnSelect(e,t,r){var a=t[0].trace;if(a.selectedpoints){stylePointsInSelectionMode(r,a,e)}else{stylePoints(r,a,e);n.getComponentMethod("errorbars","style")(r)}}function stylePointsInSelectionMode(e,t,r){s.selectedPointStyle(e.selectAll("path"),t);styleTextInSelectionMode(e.selectAll("text"),t,r)}function styleTextInSelectionMode(e,n,i){e.each(function(e){var t=o.select(this);var r;if(e.selected){r=c.ensureUniformFontSize(i,determineFont(t,e,n,i));var a=n.selected.textfont&&n.selected.textfont.color;if(a){r.color=a}s.font(t,r)}else{s.selectedTextStyle(t,n)}})}function determineFont(e,t,r,a){var n=a._fullLayout.font;var i=r.textfont;if(e.classed("bartext-inside")){var o=getBarColor(t,r);i=getInsideTextFont(r,t.i,n,o)}else if(e.classed("bartext-outside")){i=getOutsideTextFont(r,t.i,n)}return i}function getTextFont(e,t,r){return getFontValue(u,e.textfont,t,r)}function getInsideTextFont(e,t,r,a){var n=getTextFont(e,t,r);var i=e._input.textfont===undefined||e._input.textfont.color===undefined||Array.isArray(e.textfont.color)&&e.textfont.color[t]===undefined;if(i){n={color:l.contrast(a),family:n.family,size:n.size}}return getFontValue(f,e.insidetextfont,t,n)}function getOutsideTextFont(e,t,r){var a=getTextFont(e,t,r);return getFontValue(d,e.outsidetextfont,t,a)}function getFontValue(e,t,r,a){t=t||{};var n=v.getValue(t.family,r);var i=v.getValue(t.size,r);var o=v.getValue(t.color,r);return{family:v.coerceString(e.family,n,a.family),size:v.coerceNumber(e.size,i,a.size),color:v.coerceColor(e.color,o,a.color)}}function getBarColor(e,t){if(t.type==="waterfall"){return t[e.dir].marker.color}return e.mcc||e.mc||t.marker.color}e.exports={style:style,styleTextPoints:styleTextPoints,styleOnSelect:styleOnSelect,getInsideTextFont:getInsideTextFont,getOutsideTextFont:getOutsideTextFont,getBarColor:getBarColor,resizeText:i}},8340:function(e,t,r){"use strict";var l=r(7901);var s=r(2869).hasColorscale;var c=r(1586);var u=r(1828).coercePattern;e.exports=function handleStyleDefaults(e,t,r,a,n){var i=r("marker.color",a);var o=s(e,"marker");if(o){c(e,t,n,r,{prefix:"marker.",cLetter:"c"})}r("marker.line.color",l.defaultLine);if(s(e,"marker.line")){c(e,t,n,r,{prefix:"marker.line.",cLetter:"c"})}r("marker.line.width");r("marker.opacity");u(r,"marker.pattern",i,o);r("selected.marker.color");r("unselected.marker.color")}},2597:function(e,t,r){"use strict";var l=r(9898);var s=r(1828);function resizeText(e,t,r){var a=e._fullLayout;var n=a["_"+r+"Text_minsize"];if(n){var i=a.uniformtext.mode==="hide";var o;switch(r){case"funnelarea":case"pie":case"sunburst":o="g.slice";break;case"treemap":case"icicle":o="g.slice, g.pathbar";break;default:o="g.points > g.point"}t.selectAll(o).each(function(e){var t=e.transform;if(t){t.scale=i&&t.hide?0:n/t.fontSize;var r=l.select(this).select("text");s.setTransormAndDisplay(r,t)}})}}function recordMinTextSize(e,t,r){if(r.uniformtext.mode){var a=getMinKey(e);var n=r.uniformtext.minsize;var i=t.scale*t.fontSize;t.hide=i<n;r[a]=r[a]||Infinity;if(!t.hide){r[a]=Math.min(r[a],Math.max(i,n))}}}function clearMinTextSize(e,t){var r=getMinKey(e);t[r]=undefined}function getMinKey(e){return"_"+e+"Text_minsize"}e.exports={recordMinTextSize:recordMinTextSize,clearMinTextSize:clearMinTextSize,resizeText:resizeText}},4e3:function(e,t,r){"use strict";var a=r(9012);var n=r(7670).Y;var i=r(1940);var o=r(2399);var l=r(5386).f;var s=r(5386).s;var c=r(1426).extendFlat;var u=i({editType:"plot",arrayOk:true,colorEditType:"plot"});e.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:true,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:true,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:true,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:c({},a.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:l({},{keys:["label","color","value","percent","text"]}),texttemplate:s({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:true,editType:"plot"},textfont:c({},u,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:c({},u,{}),outsidetextfont:c({},u,{}),automargin:{valType:"boolean",dflt:false,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:c({},u,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:n({name:"pie",trace:true,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:true,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:true,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:c({},u,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},3584:function(e,n,t){"use strict";var i=t(4875);n.name="pie";n.plot=function(e,t,r,a){i.plotBasePlot(n.name,e,t,r,a)};n.clean=function(e,t,r,a){i.cleanBasePlot(n.name,e,t,r,a)}},2354:function(e,t,r){"use strict";var b=r(2770);var i=r(4267);var a=r(7901);var v={};function calc(e,t){var r=[];var a=e._fullLayout;var n=a.hiddenlabels||[];var i=t.labels;var o=t.marker.colors||[];var l=t.values;var s=t._length;var c=t._hasValues&&s;var u,f;if(t.dlabel){i=new Array(s);for(u=0;u<s;u++){i[u]=String(t.label0+u*t.dlabel)}}var d={};var v=makePullColorFn(a["_"+t.type+"colormap"]);var h=0;var p=false;for(u=0;u<s;u++){var g,m,y;if(c){g=l[u];if(!b(g))continue;g=+g}else g=1;m=i[u];if(m===undefined||m==="")m=u;m=String(m);var x=d[m];if(x===undefined){d[m]=r.length;y=n.indexOf(m)!==-1;if(!y)h+=g;r.push({v:g,label:m,color:v(o[u],m),i:u,pts:[u],hidden:y})}else{p=true;f=r[x];f.v+=g;f.pts.push(u);if(!f.hidden)h+=g;if(f.color===false&&o[u]){f.color=v(o[u],m)}}}r=r.filter(function(e){return e.v>=0});var _=t.type==="funnelarea"?p:t.sort;if(_)r.sort(function(e,t){return t.v-e.v});if(r[0])r[0].vTotal=h;return r}function makePullColorFn(r){return function pullColor(e,t){if(!e)return false;e=i(e);if(!e.isValid())return false;e=a.addOpacity(e,e.getAlpha());if(!r[t])r[t]=e;return e}}function crossTraceCalc(e,t){var r=(t||{}).type;if(!r)r="pie";var a=e._fullLayout;var n=e.calcdata;var i=a[r+"colorway"];var o=a["_"+r+"colormap"];if(a["extend"+r+"colors"]){i=generateExtendedColors(i,v)}var l=0;for(var s=0;s<n.length;s++){var c=n[s];var u=c[0].trace.type;if(u!==r)continue;for(var f=0;f<c.length;f++){var d=c[f];if(d.color===false){if(o[d.label]){d.color=o[d.label]}else{o[d.label]=d.color=i[l%i.length];l++}}}}}function generateExtendedColors(e,t){var r;var a=JSON.stringify(e);var n=t[a];if(!n){n=e.slice();for(r=0;r<e.length;r++){n.push(i(e[r]).lighten(20).toHexString())}for(r=0;r<e.length;r++){n.push(i(e[r]).darken(20).toHexString())}t[a]=n}return n}e.exports={calc:calc,crossTraceCalc:crossTraceCalc,makePullColorFn:makePullColorFn,generateExtendedColors:generateExtendedColors}},7434:function(e,t,r){"use strict";var s=r(2770);var y=r(1828);var x=r(4e3);var _=r(7670).c;var b=r(769).handleText;function handleLabelsAndValues(e,t){var r=Array.isArray(e);var a=y.isArrayOrTypedArray(t);var n=Math.min(r?e.length:Infinity,a?t.length:Infinity);if(!isFinite(n))n=0;if(n&&a){var i;for(var o=0;o<n;o++){var l=t[o];if(s(l)&&l>0){i=true;break}}if(!i)n=0}return{hasLabels:r,hasValues:a,len:n}}function supplyDefaults(r,a,e,t){function coerce(e,t){return y.coerce(r,a,x,e,t)}var n=coerce("labels");var i=coerce("values");var o=handleLabelsAndValues(n,i);var l=o.len;a._hasLabels=o.hasLabels;a._hasValues=o.hasValues;if(!a._hasLabels&&a._hasValues){coerce("label0");coerce("dlabel")}if(!l){a.visible=false;return}a._length=l;var s=coerce("marker.line.width");if(s)coerce("marker.line.color");coerce("marker.colors");coerce("scalegroup");var c=coerce("text");var u=coerce("texttemplate");var f;if(!u)f=coerce("textinfo",Array.isArray(c)?"text+percent":"percent");coerce("hovertext");coerce("hovertemplate");if(u||f&&f!=="none"){var d=coerce("textposition");b(r,a,t,coerce,d,{moduleHasSelected:false,moduleHasUnselected:false,moduleHasConstrain:false,moduleHasCliponaxis:false,moduleHasTextangle:false,moduleHasInsideanchor:false});var v=Array.isArray(d)||d==="auto";var h=v||d==="outside";if(h){coerce("automargin")}if(d==="inside"||d==="auto"||Array.isArray(d)){coerce("insidetextorientation")}}_(a,t,coerce);var p=coerce("hole");var g=coerce("title.text");if(g){var m=coerce("title.position",p?"middle center":"top center");if(!p&&m==="middle center")a.title.position="top center";y.coerceFont(coerce,"title.font",t.font)}coerce("sort");coerce("direction");coerce("rotation");coerce("pull")}e.exports={handleLabelsAndValues:handleLabelsAndValues,supplyDefaults:supplyDefaults}},7:function(e,t,r){"use strict";var a=r(3469).appendArrayMultiPointValues;e.exports=function eventData(e,t){var r={curveNumber:t.index,pointNumbers:e.pts,data:t._input,fullData:t,label:e.label,color:e.color,value:e.v,percent:e.percent,text:e.text,bbox:e.bbox,v:e.v};if(e.pts.length===1)r.pointNumber=r.i=e.pts[0];a(r,t,e.pts);if(t.type==="funnelarea"){delete r.v;delete r.i}return r}},3581:function(e,r,t){"use strict";var a=t(1828);function format(e){return e.indexOf("e")!==-1?e.replace(/[.]?0+e/,"e"):e.indexOf(".")!==-1?e.replace(/[.]?0+$/,""):e}r.formatPiePercent=function formatPiePercent(e,t){var r=format((e*100).toPrecision(3));return a.numSeparate(r,t)+"%"};r.formatPieValue=function formatPieValue(e,t){var r=format(e.toPrecision(10));return a.numSeparate(r,t)};r.getFirstFilled=function getFirstFilled(e,t){if(!Array.isArray(e))return;for(var r=0;r<t.length;r++){var a=e[t[r]];if(a||a===0||a==="")return a}};r.castOption=function castOption(e,t){if(Array.isArray(e))return r.getFirstFilled(e,t);else if(e)return e};r.getRotationAngle=function(e){return(e==="auto"?0:e)*Math.PI/180}},8810:function(e,t,r){"use strict";e.exports={attributes:r(4e3),supplyDefaults:r(7434).supplyDefaults,supplyLayoutDefaults:r(2097),layoutAttributes:r(7550),calc:r(2354).calc,crossTraceCalc:r(2354).crossTraceCalc,plot:r(4575).plot,style:r(8357),styleOne:r(3463),moduleType:"trace",name:"pie",basePlotModule:r(3584),categories:["pie-like","pie","showLegend"],meta:{}}},7550:function(e){"use strict";e.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:true,editType:"calc"}}},2097:function(e,t,r){"use strict";var n=r(1828);var i=r(7550);e.exports=function supplyLayoutDefaults(r,a){function coerce(e,t){return n.coerce(r,a,i,e,t)}coerce("hiddenlabels");coerce("piecolorway",a.colorway);coerce("extendpiecolors")}},4575:function(e,n,t){"use strict";var b=t(9898);var u=t(4875);var x=t(211);var f=t(7901);var w=t(1424);var T=t(1828);var d=T.strScale;var k=T.strTranslate;var A=t(3893);var r=t(2597);var M=r.recordMinTextSize;var a=r.clearMinTextSize;var l=t(7313).TEXTPAD;var S=t(3581);var _=t(7);var C=t(1828).isValidTextValue;function plot(y,e){var x=y._context.staticPlot;var _=y._fullLayout;var c=_._size;a("pie",_);prerenderTitles(e,y);layoutAreas(e,c);var t=T.makeTraceGroups(_._pielayer,e,"trace").each(function(p){var s=b.select(this);var g=p[0];var m=g.trace;setCoords(p);s.attr("stroke-linejoin","round");s.each(function(){var e=b.select(this).selectAll("g.slice").data(p);e.enter().append("g").classed("slice",true);e.exit().remove();var v=[[[],[]],[[],[]]];var h=false;e.each(function(s,c){if(s.hidden){b.select(this).selectAll("path,g").remove();return}s.pointNumber=s.i;s.curveNumber=m.index;v[s.pxmid[1]<0?0:1][s.pxmid[0]<0?0:1].push(s);var u=g.cx;var f=g.cy;var e=b.select(this);var t=e.selectAll("path.surface").data([s]);t.enter().append("path").classed("surface",true).style({"pointer-events":x?"none":"all"});e.call(attachFxHandlers,y,p);if(m.pull){var r=+S.castOption(m.pull,s.pts)||0;if(r>0){u+=r*s.pxmid[0];f+=r*s.pxmid[1]}}s.cxFinal=u;s.cyFinal=f;function arc(e,t,r,a){var n=a*(t[0]-e[0]);var i=a*(t[1]-e[1]);return"a"+a*g.r+","+a*g.r+" 0 "+s.largeArc+(r?" 1 ":" 0 ")+n+","+i}var a=m.hole;if(s.v===g.vTotal){var n="M"+(u+s.px0[0])+","+(f+s.px0[1])+arc(s.px0,s.pxmid,true,1)+arc(s.pxmid,s.px0,true,1)+"Z";if(a){t.attr("d","M"+(u+a*s.px0[0])+","+(f+a*s.px0[1])+arc(s.px0,s.pxmid,false,a)+arc(s.pxmid,s.px0,false,a)+"Z"+n)}else t.attr("d",n)}else{var i=arc(s.px0,s.px1,true,1);if(a){var o=1-a;t.attr("d","M"+(u+a*s.px1[0])+","+(f+a*s.px1[1])+arc(s.px1,s.px0,false,a)+"l"+o*s.px0[0]+","+o*s.px0[1]+i+"Z")}else{t.attr("d","M"+u+","+f+"l"+s.px0[0]+","+s.px0[1]+i+"Z")}}formatSliceLabel(y,s,g);var d=S.castOption(m.textposition,s.pts);var l=e.selectAll("g.slicetext").data(s.text&&d!=="none"?[0]:[]);l.enter().append("g").classed("slicetext",true);l.exit().remove();l.each(function(){var e=T.ensureSingle(b.select(this),"text","",function(e){e.attr("data-notex",1)});var t=T.ensureUniformFontSize(y,d==="outside"?determineOutsideTextFont(m,s,_.font):determineInsideTextFont(m,s,_.font));e.text(s.text).attr({"class":"slicetext",transform:"","text-anchor":"middle"}).call(w.font,t).call(A.convertToTspans,y);var r=w.bBox(e.node());var a;if(d==="outside"){a=transformOutsideText(r,s)}else{a=transformInsideText(r,s,g);if(d==="auto"&&a.scale<1){var n=T.ensureUniformFontSize(y,m.outsidetextfont);e.call(w.font,n);r=w.bBox(e.node());a=transformOutsideText(r,s)}}var i=a.textPosAngle;var o=i===undefined?s.pxmid:getCoords(g.r,i);a.targetX=u+o[0]*a.rCenter+(a.x||0);a.targetY=f+o[1]*a.rCenter+(a.y||0);computeTransform(a,r);if(a.outside){var l=a.targetY;s.yLabelMin=l-r.height/2;s.yLabelMid=l;s.yLabelMax=l+r.height/2;s.labelExtraX=0;s.labelExtraY=0;h=true}a.fontSize=t.size;M(m.type,a,_);p[c].transform=a;T.setTransormAndDisplay(e,a)})});var t=b.select(this).selectAll("g.titletext").data(m.title.text?[0]:[]);t.enter().append("g").classed("titletext",true);t.exit().remove();t.each(function(){var e=T.ensureSingle(b.select(this),"text","",function(e){e.attr("data-notex",1)});var t=m.title.text;if(m._meta){t=T.templateString(t,m._meta)}e.text(t).attr({"class":"titletext",transform:"","text-anchor":"middle"}).call(w.font,m.title.font).call(A.convertToTspans,y);var r;if(m.title.position==="middle center"){r=positionTitleInside(g)}else{r=positionTitleOutside(g,c)}e.attr("transform",k(r.x,r.y)+d(Math.min(1,r.scale))+k(r.tx,r.ty))});if(h)scootLabels(v,m);plotTextLines(e,m);if(h&&m.automargin){var r=w.bBox(s.node());var a=m.domain;var n=c.w*(a.x[1]-a.x[0]);var i=c.h*(a.y[1]-a.y[0]);var o=(.5*n-g.r)/c.w;var l=(.5*i-g.r)/c.h;u.autoMargin(y,"pie."+m.uid+".automargin",{xl:a.x[0]-o,xr:a.x[1]+o,yb:a.y[0]-l,yt:a.y[1]+l,l:Math.max(g.cx-g.r-r.left,0),r:Math.max(r.right-(g.cx+g.r),0),b:Math.max(r.bottom-(g.cy+g.r),0),t:Math.max(g.cy-g.r-r.top,0),pad:5})}})});setTimeout(function(){t.selectAll("tspan").each(function(){var e=b.select(this);if(e.attr("dy"))e.attr("dy",e.attr("dy"))})},0)}function plotTextLines(e,c){e.each(function(e){var t=b.select(this);if(!e.labelExtraX&&!e.labelExtraY){t.select("path.textline").remove();return}var r=t.select("g.slicetext text");e.transform.targetX+=e.labelExtraX;e.transform.targetY+=e.labelExtraY;T.setTransormAndDisplay(r,e.transform);var a=e.cxFinal+e.pxmid[0];var n=e.cyFinal+e.pxmid[1];var i="M"+a+","+n;var o=(e.yLabelMax-e.yLabelMin)*(e.pxmid[0]<0?-1:1)/4;if(e.labelExtraX){var l=e.labelExtraX*e.pxmid[1]/e.pxmid[0];var s=e.yLabelMid+e.labelExtraY-(e.cyFinal+e.pxmid[1]);if(Math.abs(l)>Math.abs(s)){i+="l"+s*e.pxmid[0]/e.pxmid[1]+","+s+"H"+(a+e.labelExtraX+o)}else{i+="l"+e.labelExtraX+","+l+"v"+(s-l)+"h"+o}}else{i+="V"+(e.yLabelMid+e.labelExtraY)+"h"+o}T.ensureSingle(t,"path","textline").call(f.stroke,c.outsidetextfont.color).attr({"stroke-width":Math.min(2,c.outsidetextfont.size/8),d:i,fill:"none"})})}function attachFxHandlers(e,v,t){var h=t[0];var p=h.cx;var g=h.cy;var m=h.trace;var y=m.type==="funnelarea";if(!("_hasHoverLabel"in m))m._hasHoverLabel=false;if(!("_hasHoverEvent"in m))m._hasHoverEvent=false;e.on("mouseover",function(e){var t=v._fullLayout;var r=v._fullData[m.index];if(v._dragging||t.hovermode===false)return;var a=r.hoverinfo;if(Array.isArray(a)){a=x.castHoverinfo({hoverinfo:[S.castOption(a,e.pts)],_module:m._module},t,0)}if(a==="all")a="label+text+value+percent+name";if(r.hovertemplate||a!=="none"&&a!=="skip"&&a){var n=e.rInscribed||0;var i=p+e.pxmid[0]*(1-n);var o=g+e.pxmid[1]*(1-n);var l=t.separators;var s=[];if(a&&a.indexOf("label")!==-1)s.push(e.label);e.text=S.castOption(r.hovertext||r.text,e.pts);if(a&&a.indexOf("text")!==-1){var c=e.text;if(T.isValidTextValue(c))s.push(c)}e.value=e.v;e.valueLabel=S.formatPieValue(e.v,l);if(a&&a.indexOf("value")!==-1)s.push(e.valueLabel);e.percent=e.v/h.vTotal;e.percentLabel=S.formatPiePercent(e.percent,l);if(a&&a.indexOf("percent")!==-1)s.push(e.percentLabel);var u=r.hoverlabel;var f=u.font;var d=[];x.loneHover({trace:m,x0:i-n*h.r,x1:i+n*h.r,y:o,_x0:y?p+e.TL[0]:i-n*h.r,_x1:y?p+e.TR[0]:i+n*h.r,_y0:y?g+e.TL[1]:o-n*h.r,_y1:y?g+e.BL[1]:o+n*h.r,text:s.join("<br>"),name:r.hovertemplate||a.indexOf("name")!==-1?r.name:undefined,idealAlign:e.pxmid[0]<0?"left":"right",color:S.castOption(u.bgcolor,e.pts)||e.color,borderColor:S.castOption(u.bordercolor,e.pts),fontFamily:S.castOption(f.family,e.pts),fontSize:S.castOption(f.size,e.pts),fontColor:S.castOption(f.color,e.pts),nameLength:S.castOption(u.namelength,e.pts),textAlign:S.castOption(u.align,e.pts),hovertemplate:S.castOption(r.hovertemplate,e.pts),hovertemplateLabels:e,eventData:[_(e,r)]},{container:t._hoverlayer.node(),outerContainer:t._paper.node(),gd:v,inOut_bbox:d});e.bbox=d[0];m._hasHoverLabel=true}m._hasHoverEvent=true;v.emit("plotly_hover",{points:[_(e,r)],event:b.event})});e.on("mouseout",function(e){var t=v._fullLayout;var r=v._fullData[m.index];var a=b.select(this).datum();if(m._hasHoverEvent){e.originalEvent=b.event;v.emit("plotly_unhover",{points:[_(a,r)],event:b.event});m._hasHoverEvent=false}if(m._hasHoverLabel){x.loneUnhover(t._hoverlayer.node());m._hasHoverLabel=false}});e.on("click",function(e){var t=v._fullLayout;var r=v._fullData[m.index];if(v._dragging||t.hovermode===false)return;v._hoverdata=[_(e,r)];x.click(v,b.event)})}function determineOutsideTextFont(e,t,r){var a=S.castOption(e.outsidetextfont.color,t.pts)||S.castOption(e.textfont.color,t.pts)||r.color;var n=S.castOption(e.outsidetextfont.family,t.pts)||S.castOption(e.textfont.family,t.pts)||r.family;var i=S.castOption(e.outsidetextfont.size,t.pts)||S.castOption(e.textfont.size,t.pts)||r.size;return{color:a,family:n,size:i}}function determineInsideTextFont(e,t,r){var a=S.castOption(e.insidetextfont.color,t.pts);if(!a&&e._input.textfont){a=S.castOption(e._input.textfont.color,t.pts)}var n=S.castOption(e.insidetextfont.family,t.pts)||S.castOption(e.textfont.family,t.pts)||r.family;var i=S.castOption(e.insidetextfont.size,t.pts)||S.castOption(e.textfont.size,t.pts)||r.size;return{color:a||f.contrast(t.color),family:n,size:i}}function prerenderTitles(e,t){var r,a;for(var n=0;n<e.length;n++){r=e[n][0];a=r.trace;if(a.title.text){var i=a.title.text;if(a._meta){i=T.templateString(i,a._meta)}var o=w.tester.append("text").attr("data-notex",1).text(i).call(w.font,a.title.font).call(A.convertToTspans,t);var l=w.bBox(o.node(),true);r.titleBox={width:l.width,height:l.height};o.remove()}}}function transformInsideText(i,o,e){var l=e.r||o.rpx1;var t=o.rInscribed;var r=o.startangle===o.stopangle;if(r){return{rCenter:1-t,scale:0,rotate:0,textPosAngle:0}}var s=o.ring;var a=s===1&&Math.abs(o.startangle-o.stopangle)===Math.PI*2;var n=o.halfangle;var c=o.midangle;var u=e.trace.insidetextorientation;var f=u==="horizontal";var d=u==="tangential";var v=u==="radial";var h=u==="auto";var p=[];var g;if(!h){var m=function(e,t){if(isCrossing(o,e)){var r=Math.abs(e-o.startangle);var a=Math.abs(e-o.stopangle);var n=r<a?r:a;if(t==="tan"){g=calcTanTransform(i,l,s,n,0)}else{g=calcRadTransform(i,l,s,n,Math.PI/2)}g.textPosAngle=e;p.push(g)}};var y;if(f||d){for(y=4;y>=-4;y-=2)m(Math.PI*y,"tan");for(y=4;y>=-4;y-=2)m(Math.PI*(y+1),"tan")}if(f||v){for(y=4;y>=-4;y-=2)m(Math.PI*(y+1.5),"rad");for(y=4;y>=-4;y-=2)m(Math.PI*(y+.5),"rad")}}if(a||h||f){var x=Math.sqrt(i.width*i.width+i.height*i.height);g={scale:t*l*2/x,rCenter:1-t,rotate:0};g.textPosAngle=(o.startangle+o.stopangle)/2;if(g.scale>=1)return g;p.push(g)}if(h||v){g=calcRadTransform(i,l,s,n,c);g.textPosAngle=(o.startangle+o.stopangle)/2;p.push(g)}if(h||d){g=calcTanTransform(i,l,s,n,c);g.textPosAngle=(o.startangle+o.stopangle)/2;p.push(g)}var _=0;var b=0;for(var w=0;w<p.length;w++){var T=p[w].scale;if(b<T){b=T;_=w}if(!h&&b>=1){break}}return p[_]}function isCrossing(e,t){var r=e.startangle;var a=e.stopangle;return r>t&&t>a||r<t&&t<a}function calcRadTransform(e,t,r,a,n){t=Math.max(0,t-2*l);var i=e.width/e.height;var o=calcMaxHalfSize(i,a,t,r);return{scale:o*2/e.height,rCenter:calcRCenter(i,o/t),rotate:calcRotate(n)}}function calcTanTransform(e,t,r,a,n){t=Math.max(0,t-2*l);var i=e.height/e.width;var o=calcMaxHalfSize(i,a,t,r);return{scale:o*2/e.width,rCenter:calcRCenter(i,o/t),rotate:calcRotate(n+Math.PI/2)}}function calcRCenter(e,t){return Math.cos(t)-e*t}function calcRotate(e){return(180/Math.PI*e+720)%180-90}function calcMaxHalfSize(e,t,r,a){var n=e+1/(2*Math.tan(t));return r*Math.min(1/(Math.sqrt(n*n+.5)+n),a/(Math.sqrt(e*e+a/2)+e))}function getInscribedRadiusFraction(e,t){if(e.v===t.vTotal&&!t.trace.hole)return 1;return Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2)}function transformOutsideText(e,t){var r=t.pxmid[0];var a=t.pxmid[1];var n=e.width/2;var i=e.height/2;if(r<0)n*=-1;if(a<0)i*=-1;return{scale:1,rCenter:1,rotate:0,x:n+Math.abs(i)*(n>0?1:-1)/2,y:i/(1+r*r/(a*a)),outside:true}}function positionTitleInside(e){var t=Math.sqrt(e.titleBox.width*e.titleBox.width+e.titleBox.height*e.titleBox.height);return{x:e.cx,y:e.cy,scale:e.trace.hole*e.r*2/t,tx:0,ty:-e.titleBox.height/2+e.trace.title.font.size}}function positionTitleOutside(e,t){var r=1;var a=1;var n;var i=e.trace;var o={x:e.cx,y:e.cy};var l={tx:0,ty:0};l.ty+=i.title.font.size;n=getMaxPull(i);if(i.title.position.indexOf("top")!==-1){o.y-=(1+n)*e.r;l.ty-=e.titleBox.height}else if(i.title.position.indexOf("bottom")!==-1){o.y+=(1+n)*e.r}var s=applyAspectRatio(e.r,e.trace.aspectratio);var c=t.w*(i.domain.x[1]-i.domain.x[0])/2;if(i.title.position.indexOf("left")!==-1){c=c+s;o.x-=(1+n)*s;l.tx+=e.titleBox.width/2}else if(i.title.position.indexOf("center")!==-1){c*=2}else if(i.title.position.indexOf("right")!==-1){c=c+s;o.x+=(1+n)*s;l.tx-=e.titleBox.width/2}r=c/e.titleBox.width;a=getTitleSpace(e,t)/e.titleBox.height;return{x:o.x,y:o.y,scale:Math.min(r,a),tx:l.tx,ty:l.ty}}function applyAspectRatio(e,t){return e/(t===undefined?1:t)}function getTitleSpace(e,t){var r=e.trace;var a=t.h*(r.domain.y[1]-r.domain.y[0]);return Math.min(e.titleBox.height,a/2)}function getMaxPull(e){var t=e.pull;if(!t)return 0;var r;if(Array.isArray(t)){t=0;for(r=0;r<e.pull.length;r++){if(e.pull[r]>t)t=e.pull[r]}}return t}function scootLabels(e,v){var t,h,r,p,g,m,y,a,n,x,i,o,l;function topFirst(e,t){return e.pxmid[1]-t.pxmid[1]}function bottomFirst(e,t){return t.pxmid[1]-e.pxmid[1]}function scootOneLabel(e,t){if(!t)t={};var r=t.labelExtraY+(h?t.yLabelMax:t.yLabelMin);var a=h?e.yLabelMin:e.yLabelMax;var n=h?e.yLabelMax:e.yLabelMin;var i=e.cyFinal+g(e.px0[1],e.px1[1]);var o=r-a;var l,s,c,u,f,d;if(o*y>0)e.labelExtraY=o;if(!Array.isArray(v.pull))return;for(s=0;s<x.length;s++){c=x[s];if(c===e||(S.castOption(v.pull,e.pts)||0)>=(S.castOption(v.pull,c.pts)||0)){continue}if((e.pxmid[1]-c.pxmid[1])*y>0){u=c.cyFinal+g(c.px0[1],c.px1[1]);o=u-a-e.labelExtraY;if(o*y>0)e.labelExtraY+=o}else if((n+e.labelExtraY-i)*y>0){l=3*m*Math.abs(s-x.indexOf(e));f=c.cxFinal+p(c.px0[0],c.px1[0]);d=f+l-(e.cxFinal+e.pxmid[0])-e.labelExtraX;if(d*m>0)e.labelExtraX+=d}}}for(h=0;h<2;h++){r=h?topFirst:bottomFirst;g=h?Math.max:Math.min;y=h?1:-1;for(t=0;t<2;t++){p=t?Math.max:Math.min;m=t?1:-1;a=e[h][t];a.sort(r);n=e[1-h][t];x=n.concat(a);o=[];for(i=0;i<a.length;i++){if(a[i].yLabelMid!==undefined)o.push(a[i])}l=false;for(i=0;h&&i<n.length;i++){if(n[i].yLabelMid!==undefined){l=n[i];break}}for(i=0;i<o.length;i++){var s=i&&o[i-1];if(l&&!i)s=l;scootOneLabel(o[i],s)}}}}function layoutAreas(e,t){var r=[];for(var a=0;a<e.length;a++){var n=e[a][0];var i=n.trace;var o=i.domain;var l=t.w*(o.x[1]-o.x[0]);var s=t.h*(o.y[1]-o.y[0]);if(i.title.text&&i.title.position!=="middle center"){s-=getTitleSpace(n,t)}var c=l/2;var u=s/2;if(i.type==="funnelarea"&&!i.scalegroup){u/=i.aspectratio}n.r=Math.min(c,u)/(1+getMaxPull(i));n.cx=t.l+t.w*(i.domain.x[1]+i.domain.x[0])/2;n.cy=t.t+t.h*(1-i.domain.y[0])-s/2;if(i.title.text&&i.title.position.indexOf("bottom")!==-1){n.cy-=getTitleSpace(n,t)}if(i.scalegroup&&r.indexOf(i.scalegroup)===-1){r.push(i.scalegroup)}}groupScale(e,r)}function groupScale(e,t){var r,a,n;for(var i=0;i<t.length;i++){var o=Infinity;var l=t[i];for(a=0;a<e.length;a++){r=e[a][0];n=r.trace;if(n.scalegroup===l){var s;if(n.type==="pie"){s=r.r*r.r}else if(n.type==="funnelarea"){var c,u;if(n.aspectratio>1){c=r.r;u=c/n.aspectratio}else{u=r.r;c=u*n.aspectratio}c*=(1+n.baseratio)/2;s=c*u}o=Math.min(o,s/r.vTotal)}}for(a=0;a<e.length;a++){r=e[a][0];n=r.trace;if(n.scalegroup===l){var f=o*r.vTotal;if(n.type==="funnelarea"){f/=(1+n.baseratio)/2;f/=n.aspectratio}r.r=Math.sqrt(f)}}}}function setCoords(e){var t=e[0];var r=t.r;var a=t.trace;var n=S.getRotationAngle(a.rotation);var i=2*Math.PI/t.vTotal;var o="px0";var l="px1";var s,c,u;if(a.direction==="counterclockwise"){for(s=0;s<e.length;s++){if(!e[s].hidden)break}if(s===e.length)return;n+=i*e[s].v;i*=-1;o="px1";l="px0"}u=getCoords(r,n);for(s=0;s<e.length;s++){c=e[s];if(c.hidden)continue;c[o]=u;c.startangle=n;n+=i*c.v/2;c.pxmid=getCoords(r,n);c.midangle=n;n+=i*c.v/2;u=getCoords(r,n);c.stopangle=n;c[l]=u;c.largeArc=c.v>t.vTotal/2?1:0;c.halfangle=Math.PI*Math.min(c.v/t.vTotal,.5);c.ring=1-a.hole;c.rInscribed=getInscribedRadiusFraction(c,t)}}function getCoords(e,t){return[e*Math.sin(t),-e*Math.cos(t)]}function formatSliceLabel(e,t,r){var a=e._fullLayout;var n=r.trace;var i=n.texttemplate;var o=n.textinfo;if(!i&&o&&o!=="none"){var l=o.split("+");var s=function(e){return l.indexOf(e)!==-1};var c=s("label");var u=s("text");var f=s("value");var d=s("percent");var v=a.separators;var h;h=c?[t.label]:[];if(u){var p=S.getFirstFilled(n.text,t.pts);if(C(p))h.push(p)}if(f)h.push(S.formatPieValue(t.v,v));if(d)h.push(S.formatPiePercent(t.v/r.vTotal,v));t.text=h.join("<br>")}function makeTemplateVariables(e){return{label:e.label,value:e.v,valueLabel:S.formatPieValue(e.v,a.separators),percent:e.v/r.vTotal,percentLabel:S.formatPiePercent(e.v/r.vTotal,a.separators),color:e.color,text:e.text,customdata:T.castOption(n,e.i,"customdata")}}if(i){var g=T.castOption(n,t.i,"texttemplate");if(!g){t.text=""}else{var m=makeTemplateVariables(t);var y=S.getFirstFilled(n.text,t.pts);if(C(y)||y==="")m.text=y;t.text=T.texttemplateString(g,m,e._fullLayout._d3locale,m,n._meta||{})}}}function computeTransform(e,t){var r=e.rotate*Math.PI/180;var a=Math.cos(r);var n=Math.sin(r);var i=(t.left+t.right)/2;var o=(t.top+t.bottom)/2;e.textX=i*a-o*n;e.textY=i*n+o*a;e.noCenter=true}e.exports={plot:plot,formatSliceLabel:formatSliceLabel,transformInsideText:transformInsideText,determineInsideTextFont:determineInsideTextFont,positionTitleOutside:positionTitleOutside,prerenderTitles:prerenderTitles,layoutAreas:layoutAreas,attachFxHandlers:attachFxHandlers,computeTransform:computeTransform}},8357:function(e,t,r){"use strict";var n=r(9898);var i=r(3463);var a=r(2597).resizeText;e.exports=function style(e){var t=e._fullLayout._pielayer.selectAll(".trace");a(e,t,"pie");t.each(function(e){var t=e[0];var r=t.trace;var a=n.select(this);a.style({opacity:r.opacity});a.selectAll("path.surface").each(function(e){n.select(this).call(i,e,r)})})}},3463:function(e,t,r){"use strict";var o=r(7901);var l=r(3581).castOption;e.exports=function styleOne(e,t,r){var a=r.marker.line;var n=l(a.color,t.pts)||o.defaultLine;var i=l(a.width,t.pts)||0;e.style("stroke-width",i).call(o.fill,t.color).call(o.stroke,n)}},5225:function(e,t,r){"use strict";var o=r(1828);e.exports=function arraysToCalcdata(e,t){for(var r=0;r<e.length;r++)e[r].i=r;o.mergeArray(t.text,e,"tx");o.mergeArray(t.texttemplate,e,"txt");o.mergeArray(t.hovertext,e,"htx");o.mergeArray(t.customdata,e,"data");o.mergeArray(t.textposition,e,"tp");if(t.textfont){o.mergeArrayCastPositive(t.textfont.size,e,"ts");o.mergeArray(t.textfont.color,e,"tc");o.mergeArray(t.textfont.family,e,"tf")}var a=t.marker;if(a){o.mergeArrayCastPositive(a.size,e,"ms");o.mergeArrayCastPositive(a.opacity,e,"mo");o.mergeArray(a.symbol,e,"mx");o.mergeArray(a.angle,e,"ma");o.mergeArray(a.standoff,e,"mf");o.mergeArray(a.color,e,"mc");var n=a.line;if(a.line){o.mergeArray(n.color,e,"mlc");o.mergeArrayCastPositive(n.width,e,"mlw")}var i=a.gradient;if(i&&i.type!=="none"){o.mergeArray(i.type,e,"mgt");o.mergeArray(i.color,e,"mgc")}}}},2196:function(e,t,r){"use strict";var a=r(2663).axisHoverFormat;var n=r(5386).s;var i=r(5386).f;var o=r(693);var l=r(1940);var s=r(9952).P;var c=r(9952).u;var u=r(1424);var f=r(7581);var d=r(1426).extendFlat;function axisPeriod(e){return{valType:"any",dflt:0,editType:"calc"}}function axisPeriod0(e){return{valType:"any",editType:"calc"}}function axisPeriodAlignment(e){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}e.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:true},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:true},dx:{valType:"number",dflt:1,editType:"calc",anim:true},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:true},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:true},dy:{valType:"number",dflt:1,editType:"calc",anim:true},xperiod:axisPeriod("x"),yperiod:axisPeriod("y"),xperiod0:axisPeriod0("x0"),yperiod0:axisPeriod0("y0"),xperiodalignment:axisPeriodAlignment("x"),yperiodalignment:axisPeriodAlignment("y"),xhoverformat:a("x"),yhoverformat:a("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:true,editType:"calc"},texttemplate:n({},{}),hovertext:{valType:"string",dflt:"",arrayOk:true,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:f.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:true},width:{valType:"number",min:0,dflt:2,editType:"style",anim:true},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:d({},s,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:true,editType:"plot"},simplify:{valType:"boolean",dflt:true,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:false,editType:"calc"},cliponaxis:{valType:"boolean",dflt:true,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:true},fillpattern:c,marker:d({symbol:{valType:"enumerated",values:u.symbolList,dflt:"circle",arrayOk:true,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:true,editType:"style",anim:true},angle:{valType:"angle",dflt:0,arrayOk:true,editType:"plot",anim:false},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:false},standoff:{valType:"number",min:0,dflt:0,arrayOk:true,editType:"plot",anim:true},size:{valType:"number",min:0,dflt:6,arrayOk:true,editType:"calc",anim:true},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:d({width:{valType:"number",min:0,arrayOk:true,editType:"style",anim:true},editType:"calc"},o("marker.line",{anim:true})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:true,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:true,editType:"calc"},editType:"calc"},editType:"calc"},o("marker",{anim:true})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:true,editType:"calc"},textfont:l({editType:"calc",colorEditType:"style",arrayOk:true})}},7761:function(e,t,r){"use strict";var R=r(2770);var F=r(1828);var N=r(9298);var E=r(2973);var z=r(606).BADNUM;var m=r(4098);var B=r(6922);var H=r(5225);var j=r(6279);function calc(e,t){var r=e._fullLayout;var a=t._xA=N.getFromId(e,t.xaxis||"x","x");var n=t._yA=N.getFromId(e,t.yaxis||"y","y");var i=a.makeCalcdata(t,"x");var o=n.makeCalcdata(t,"y");var l=E(t,a,"x",i);var s=E(t,n,"y",o);var c=l.vals;var u=s.vals;var f=t._length;var d=new Array(f);var v=t.ids;var h=getStackOpts(t,r,a,n);var p=false;var g,m,y,x,_,b;setFirstScatter(r,t);var w="x";var T="y";var k;if(h){F.pushUnique(h.traceIndices,t._expandedIndex);g=h.orientation==="v";if(g){T="s";k="x"}else{w="s";k="y"}_=h.stackgaps==="interpolate"}else{var A=calcMarkerSize(t,f);calcAxisExpansion(e,t,a,n,c,u,A)}var M=!!t.xperiodalignment;var S=!!t.yperiodalignment;for(m=0;m<f;m++){var C=d[m]={};var L=R(c[m]);var D=R(u[m]);if(L&&D){C[w]=c[m];C[T]=u[m];if(M){C.orig_x=i[m];C.xEnd=l.ends[m];C.xStart=l.starts[m]}if(S){C.orig_y=o[m];C.yEnd=s.ends[m];C.yStart=s.starts[m]}}else if(h&&(g?L:D)){C[k]=g?c[m]:u[m];C.gap=true;if(_){C.s=z;p=true}else{C.s=0}}else{C[w]=C[T]=z}if(v){C.id=String(v[m])}}H(d,t);B(e,t);j(d,t);if(h){m=0;while(m<d.length){if(d[m][k]===z){d.splice(m,1)}else m++}F.sort(d,function(e,t){return e[k]-t[k]||e.i-t.i});if(p){m=0;while(m<d.length-1&&d[m].gap){m++}b=d[m].s;if(!b)b=d[m].s=0;for(y=0;y<m;y++){d[y].s=b}x=d.length-1;while(x>m&&d[x].gap){x--}b=d[x].s;for(y=d.length-1;y>x;y--){d[y].s=b}while(m<x){m++;if(d[m].gap){y=m+1;while(d[y].gap){y++}var O=d[m-1][k];var P=d[m-1].s;var I=(d[y].s-P)/(d[y][k]-O);while(m<y){d[m].s=P+(d[m][k]-O)*I;m++}}}}}return d}function calcAxisExpansion(e,t,r,a,n,i,o){var l=t._length;var s=e._fullLayout;var c=r._id;var u=a._id;var f=s._firstScatter[firstScatterGroup(t)]===t.uid;var d=(getStackOpts(t,s,r,a)||{}).orientation;var v=t.fill;r._minDtick=0;a._minDtick=0;var h={padded:true};var p={padded:true};if(o){h.ppad=p.ppad=o}var g=l<2||n[0]!==n[l-1]||i[0]!==i[l-1];if(g&&(v==="tozerox"||v==="tonextx"&&(f||d==="h"))){h.tozero=true}else if(!(t.error_y||{}).visible&&(v==="tonexty"||v==="tozeroy"||!m.hasMarkers(t)&&!m.hasText(t))){h.padded=false;h.ppad=0}if(g&&(v==="tozeroy"||v==="tonexty"&&(f||d==="v"))){p.tozero=true}else if(v==="tonextx"||v==="tozerox"){p.padded=false}if(c)t._extremes[c]=N.findExtremes(r,n,h);if(u)t._extremes[u]=N.findExtremes(a,i,p)}function calcMarkerSize(e,t){if(!m.hasMarkers(e))return;var r=e.marker;var a=1.6*(e.marker.sizeref||1);var n;if(e.marker.sizemode==="area"){n=function(e){return Math.max(Math.sqrt((e||0)/a),3)}}else{n=function(e){return Math.max((e||0)/a,3)}}if(F.isArrayOrTypedArray(r.size)){var i={type:"linear"};N.setConvert(i);var o=i.makeCalcdata(e.marker,"size");var l=new Array(t);for(var s=0;s<t;s++){l[s]=n(o[s])}return l}else{return n(r.size)}}function setFirstScatter(e,t){var r=firstScatterGroup(t);var a=e._firstScatter;if(!a[r])a[r]=t.uid}function firstScatterGroup(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function getStackOpts(e,t,r,a){var n=e.stackgroup;if(!n)return;var i=t._scatterStackOpts[r._id+a._id][n];var o=i.orientation==="v"?a:r;if(o.type==="linear"||o.type==="log")return i}e.exports={calc:calc,calcMarkerSize:calcMarkerSize,calcAxisExpansion:calcAxisExpansion,setFirstScatter:setFirstScatter,getStackOpts:getStackOpts}},6279:function(e,t,r){"use strict";var a=r(1828);e.exports=function calcSelection(e,t){if(a.isArrayOrTypedArray(t.selectedpoints)){a.tagSelected(e,t)}}},6922:function(e,t,r){"use strict";var a=r(2869).hasColorscale;var n=r(8803);var i=r(4098);e.exports=function calcMarkerColorscale(e,t){if(i.hasLines(t)&&a(t,"line")){n(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"})}if(i.hasMarkers(t)){if(a(t,"marker")){n(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"})}if(a(t,"marker.line")){n(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"})}}}},7581:function(e){"use strict";e.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},2626:function(e,t,r){"use strict";var I=r(7761);var d=r(1661).setGroupPositions;function groupCrossTraceCalc(e,t){var r=t.xaxis;var a=t.yaxis;var n=e._fullLayout;var i=e._fullData;var o=e.calcdata;var l=[];var s=[];for(var c=0;c<i.length;c++){var u=i[c];if(u.visible===true&&u.type==="scatter"&&u.xaxis===r._id&&u.yaxis===a._id){if(u.orientation==="h"){l.push(o[c])}else if(u.orientation==="v"){s.push(o[c])}}}var f={mode:n.scattermode,gap:n.scattergap};d(e,r,a,s,f);d(e,a,r,l,f)}e.exports=function crossTraceCalc(e,t){if(e._fullLayout.scattermode==="group"){groupCrossTraceCalc(e,t)}var r=t.xaxis;var a=t.yaxis;var n=r._id+a._id;var i=e._fullLayout._scatterStackOpts[n];if(!i)return;var o=e.calcdata;var l,s,c,u,f,d,v,h,p;var g,m,y,x,_;var b;for(var w in i){g=i[w];var T=g.traceIndices;if(!T.length)continue;m=g.stackgaps==="interpolate";y=g.groupnorm;if(g.orientation==="v"){x="x";_="y"}else{x="y";_="x"}b=new Array(T.length);for(l=0;l<b.length;l++){b[l]=false}d=o[T[0]];var k=new Array(d.length);for(l=0;l<d.length;l++){k[l]=d[l][x]}for(l=1;l<T.length;l++){f=o[T[l]];for(s=c=0;s<f.length;s++){v=f[s][x];for(;v>k[c]&&c<k.length;c++){insertBlank(f,s,k[c],l,b,m,x);s++}if(v!==k[c]){for(u=0;u<l;u++){insertBlank(o[T[u]],c,v,u,b,m,x)}k.splice(c,0,v)}c++}for(;c<k.length;c++){insertBlank(f,s,k[c],l,b,m,x);s++}}var A=k.length;for(s=0;s<d.length;s++){h=d[s][_]=d[s].s;for(l=1;l<T.length;l++){f=o[T[l]];f[0].trace._rawLength=f[0].trace._length;f[0].trace._length=A;h+=f[s].s;f[s][_]=h}if(y){p=(y==="fraction"?h:h/100)||1;for(l=0;l<T.length;l++){var M=o[T[l]][s];M[_]/=p;M.sNorm=M.s/p}}}for(l=0;l<T.length;l++){f=o[T[l]];var S=f[0].trace;var C=I.calcMarkerSize(S,S._rawLength);var L=Array.isArray(C);if(C&&b[l]||L){var D=C;C=new Array(A);for(s=0;s<A;s++){C[s]=f[s].gap?0:L?D[f[s].i]:D}}var O=new Array(A);var P=new Array(A);for(s=0;s<A;s++){O[s]=f[s].x;P[s]=f[s].y}I.calcAxisExpansion(e,S,r,a,O,P,C);f[0].t.orientation=g.orientation}}};function insertBlank(e,t,r,a,n,i,o){n[a]=true;var l={i:null,gap:true,s:0};l[o]=r;e.splice(t,0,l);if(t&&r===e[t-1][o]){var s=e[t-1];l.s=s.s;l.i=s.i;l.gap=s.gap}else if(i){l.s=getInterp(e,t,r,o)}if(!t){e[0].t=e[1].t;e[0].trace=e[1].trace;delete e[1].t;delete e[1].trace}}function getInterp(e,t,r,a){var n=e[t-1];var i=e[t+1];if(!i)return n.s;if(!n)return i.s;return n.s+(i.s-n.s)*(r-n[a])/(i[a]-n[a])}},462:function(e,t,r){"use strict";var c=r(1828);var u=r(6125);var f=r(2196);e.exports=function crossTraceDefaults(e,t){var r,a,n;function coerce(e){return c.coerce(a._input,a,f,e)}if(t.scattermode==="group"){for(n=0;n<e.length;n++){a=e[n];if(a.type==="scatter"){r=a._input;u(r,a,t,coerce)}}}for(n=0;n<e.length;n++){var i=e[n];if(i.type!=="scatter")continue;var o=i.fill;if(o==="none"||o==="toself")continue;i.opacity=undefined;if(o==="tonexty"||o==="tonextx"){for(var l=n-1;l>=0;l--){var s=e[l];if(s.type==="scatter"&&s.xaxis===i.xaxis&&s.yaxis===i.yaxis){s.opacity=undefined;break}}}}}},7438:function(e,t,r){"use strict";var f=r(1828);var d=r(3972);var v=r(2196);var h=r(7581);var p=r(4098);var g=r(7513);var m=r(3927);var y=r(565);var x=r(9508);var _=r(1058);var b=r(4039);var w=r(2410);var T=r(8908);var k=r(1828).coercePattern;e.exports=function supplyDefaults(r,a,e,t){function coerce(e,t){return f.coerce(r,a,v,e,t)}var n=g(r,a,t,coerce);if(!n)a.visible=false;if(!a.visible)return;m(r,a,t,coerce);coerce("xhoverformat");coerce("yhoverformat");var i=y(r,a,t,coerce);if(t.scattermode==="group"&&a.orientation===undefined){coerce("orientation","v")}var o=!i&&n<h.PTS_LINESONLY?"lines+markers":"lines";coerce("text");coerce("hovertext");coerce("mode",o);if(p.hasLines(a)){_(r,a,e,t,coerce,{backoff:true});b(r,a,coerce);coerce("connectgaps");coerce("line.simplify")}if(p.hasMarkers(a)){x(r,a,e,t,coerce,{gradient:true})}if(p.hasText(a)){coerce("texttemplate");w(r,a,t,coerce)}var l=[];if(p.hasMarkers(a)||p.hasText(a)){coerce("cliponaxis");coerce("marker.maxdisplayed");l.push("points")}coerce("fill",i?i.fillDflt:"none");if(a.fill!=="none"){T(r,a,e,coerce);if(!p.hasLines(a))b(r,a,coerce);k(coerce,"fillpattern",a.fillcolor,false)}var s=(a.line||{}).color;var c=(a.marker||{}).color;if(a.fill==="tonext"||a.fill==="toself"){l.push("fills")}coerce("hoveron",l.join("+")||"points");if(a.hoveron!=="fills")coerce("hovertemplate");var u=d.getComponentMethod("errorbars","supplyDefaults");u(r,a,s||c||e,{axis:"y"});u(r,a,s||c||e,{axis:"x",inherit:"y"});f.coerceSelectionMarkerOpacity(a,coerce)}},8908:function(e,t,r){"use strict";var l=r(7901);var s=r(1828).isArrayOrTypedArray;e.exports=function fillColorDefaults(e,t,r,a){var n=false;if(t.marker){var i=t.marker.color;var o=(t.marker.line||{}).color;if(i&&!s(i)){n=i}else if(o&&!s(o)){n=o}}a("fillcolor",l.addOpacity((t.line||{}).color||n||r,.5))}},8225:function(e,t,r){"use strict";var c=r(9298);e.exports=function formatLabels(e,t,r){var a={};var n={_fullLayout:r};var i=c.getFromTrace(n,t,"x");var o=c.getFromTrace(n,t,"y");var l=e.orig_x;if(l===undefined)l=e.x;var s=e.orig_y;if(s===undefined)s=e.y;a.xLabel=c.tickText(i,i.c2l(l),true).text;a.yLabel=c.tickText(o,o.c2l(s),true).text;return a}},4603:function(e,t,r){"use strict";var o=r(7901);var l=r(4098);e.exports=function getTraceColor(e,t){var r,a;if(e.mode==="lines"){r=e.line.color;return r&&o.opacity(r)?r:e.fillcolor}else if(e.mode==="none"){return e.fill?e.fillcolor:""}else{var n=t.mcc||(e.marker||{}).color;var i=t.mlcc||((e.marker||{}).line||{}).color;a=n&&o.opacity(n)?n:i&&o.opacity(i)&&(t.mlw||((e.marker||{}).line||{}).width)?i:"";if(a){if(o.opacity(a)<.3){return o.addOpacity(a,.3)}else return a}else{r=(e.line||{}).color;return r&&o.opacity(r)&&l.hasLines(e)&&e.line.width?r:e.fillcolor}}}},6125:function(e,t,r){"use strict";var h=r(9082).getAxisGroup;e.exports=function handleGroupingDefaults(e,t,r,a){var n=t.orientation;var i=t[{v:"x",h:"y"}[n]+"axis"];var o=h(r,i)+n;var l=r._alignmentOpts||{};var s=a("alignmentgroup");var c=l[o];if(!c)c=l[o]={};var u=c[s];if(u){u.traces.push(t)}else{u=c[s]={traces:[t],alignmentIndex:Object.keys(c).length,offsetGroups:{}}}var f=a("offsetgroup");var d=u.offsetGroups;var v=d[f];if(f){if(!v){v=d[f]={offsetIndex:Object.keys(d).length}}t._offsetIndex=v.offsetIndex}}},3720:function(e,t,r){"use strict";var G=r(1828);var q=r(211);var Z=r(3972);var W=r(4603);var X=r(7901);var J=G.fillText;e.exports=function hoverPoints(e,t,r,N){var a=e.cd;var n=a[0].trace;var o=e.xa;var l=e.ya;var s=o.c2p(t);var c=l.c2p(r);var E=[s,c];var i=n.hoveron||"";var u=n.mode.indexOf("markers")!==-1?3:.5;var z=!!n.xperiodalignment;var B=!!n.yperiodalignment;if(i.indexOf("points")!==-1){var H=function(e){if(z){var t=o.c2p(e.xStart);var r=o.c2p(e.xEnd);return s>=Math.min(t,r)&&s<=Math.max(t,r)?0:Infinity}var a=Math.max(3,e.mrc||0);var n=1-1/a;var i=Math.abs(o.c2p(e.x)-s);return i<a?n*i/a:i-a+n};var j=function(e){if(B){var t=l.c2p(e.yStart);var r=l.c2p(e.yEnd);return c>=Math.min(t,r)&&c<=Math.max(t,r)?0:Infinity}var a=Math.max(3,e.mrc||0);var n=1-1/a;var i=Math.abs(l.c2p(e.y)-c);return i<a?n*i/a:i-a+n};var f=function(e){var t=Math.max(u,e.mrc||0);var r=o.c2p(e.x)-s;var a=l.c2p(e.y)-c;return Math.max(Math.sqrt(r*r+a*a)-t,1-u/t)};var V=q.getDistanceFunction(N,H,j,f);q.getClosest(a,V,e);if(e.index!==false){var d=a[e.index];var v=o.c2p(d.x,true);var h=l.c2p(d.y,true);var p=d.mrc||1;e.index=d.i;var g=a[0].t.orientation;var m=g&&(d.sNorm||d.s);var Y=g==="h"?m:d.orig_x!==undefined?d.orig_x:d.x;var U=g==="v"?m:d.orig_y!==undefined?d.orig_y:d.y;G.extendFlat(e,{color:W(n,d),x0:v-p,x1:v+p,xLabelVal:Y,y0:h-p,y1:h+p,yLabelVal:U,spikeDistance:f(d),hovertemplate:n.hovertemplate});J(d,n,e);Z.getComponentMethod("errorbars","hoverInfo")(d,n,e);return[e]}}if(i.indexOf("fills")!==-1&&n._polygons){var y=n._polygons;var x=[];var _=false;var b=Infinity;var w=-Infinity;var T=Infinity;var k=-Infinity;var A,M,S,C,L,D,O,P,I;for(A=0;A<y.length;A++){S=y[A];if(S.contains(E)){_=!_;x.push(S);T=Math.min(T,S.ymin);k=Math.max(k,S.ymax)}}if(_){T=Math.max(T,0);k=Math.min(k,l._length);var R=(T+k)/2;for(A=0;A<x.length;A++){C=x[A].pts;for(M=1;M<C.length;M++){P=C[M-1][1];I=C[M][1];if(P>R!==I>=R){D=C[M-1][0];O=C[M][0];if(I-P){L=D+(O-D)*(R-P)/(I-P);b=Math.min(b,L);w=Math.max(w,L)}}}}b=Math.max(b,0);w=Math.min(w,o._length);var F=X.defaultLine;if(X.opacity(n.fillcolor))F=n.fillcolor;else if(X.opacity((n.line||{}).color)){F=n.line.color}G.extendFlat(e,{distance:e.maxHoverDistance,x0:b,x1:w,y0:R,y1:R,color:F,hovertemplate:false});delete e.index;if(n.text&&!Array.isArray(n.text)){e.text=String(n.text)}else e.text=n.name;return[e]}}}},7368:function(e,t,r){"use strict";var a=r(4098);e.exports={hasLines:a.hasLines,hasMarkers:a.hasMarkers,hasText:a.hasText,isBubble:a.isBubble,attributes:r(2196),layoutAttributes:r(1479),supplyDefaults:r(7438),crossTraceDefaults:r(462),supplyLayoutDefaults:r(9334),calc:r(7761).calc,crossTraceCalc:r(2626),arraysToCalcdata:r(5225),plot:r(7399),colorbar:r(4898),formatLabels:r(8225),style:r(6296).style,styleOnSelect:r(6296).styleOnSelect,hoverPoints:r(3720),selectPoints:r(8002),animatable:true,moduleType:"trace",name:"scatter",basePlotModule:r(3612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},1479:function(e){"use strict";e.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9334:function(e,t,r){"use strict";var n=r(1828);var i=r(1479);e.exports=function(r,a){function coerce(e,t){return n.coerce(r,a,i,e,t)}var e=a.barmode==="group";if(a.scattermode==="group"){coerce("scattergap",e?a.bargap:.2)}}},1058:function(e,t,r){"use strict";var s=r(1828).isArrayOrTypedArray;var c=r(2869).hasColorscale;var u=r(1586);e.exports=function lineDefaults(e,t,r,a,n,i){if(!i)i={};var o=(e.marker||{}).color;n("line.color",r);if(c(e,"line")){u(e,t,a,n,{prefix:"line.",cLetter:"c"})}else{var l=(s(o)?false:o)||r;n("line.color",l)}n("line.width");if(!i.noDash)n("line.dash");if(i.backoff)n("line.backoff")}},4621:function(e,t,r){"use strict";var ce=r(1424);var a=r(606);var ue=a.BADNUM;var n=a.LOG_CLIP;var fe=n+.5;var de=n-.5;var ve=r(1828);var he=ve.segmentsIntersect;var pe=ve.constrain;var ge=r(7581);e.exports=function linePoints(n,i){var a=i.trace||{};var o=i.xaxis;var l=i.yaxis;var R=o.type==="log";var F=l.type==="log";var s=o._length;var c=l._length;var N=i.backoff;var E=a.marker;var z=i.connectGaps;var B=i.baseTolerance;var e=i.shape;var H=e==="linear";var j=a.fill&&a.fill!=="none";var t=[];var V=ge.minTolerance;var r=n.length;var u=new Array(r);var f=0;var d;var v,h,p,g;var m;var y;var x;var _;var b,Y,U,w;var G,q,Z;function getPt(e){var t=n[e];if(!t)return false;var r=i.linearized?o.l2p(t.x):o.c2p(t.x);var a=i.linearized?l.l2p(t.y):l.c2p(t.y);if(r===ue){if(R)r=o.c2p(t.x,true);if(r===ue)return false;if(F&&a===ue){r*=Math.abs(o._m*c*(o._m>0?fe:de)/(l._m*s*(l._m>0?fe:de)))}r*=1e3}if(a===ue){if(F)a=l.c2p(t.y,true);if(a===ue)return false;a*=1e3}return[r,a]}function crossesViewport(e,t,r,a){var n=r-e;var i=a-t;var o=.5-e;var l=.5-t;var s=n*n+i*i;var c=n*o+i*l;if(c>0&&c<s){var u=o*i-l*n;if(u*u<s)return true}}var W,X;function getTolerance(e,t){var r=e[0]/s;var a=e[1]/c;var n=Math.max(0,-r,r-1,-a,a-1);if(n&&W!==undefined&&crossesViewport(r,a,W,X)){n=0}if(n&&t&&crossesViewport(r,a,t[0]/s,t[1]/c)){n=0}return(1+ge.toleranceGrowth*n)*B}function ptDist(e,t){var r=e[0]-t[0];var a=e[1]-t[1];return Math.sqrt(r*r+a*a)}var J=ge.maxScreensAway;var T=-s*J;var k=s*(1+J);var A=-c*J;var M=c*(1+J);var K=[[T,A,k,A],[k,A,k,M],[k,M,T,M],[T,M,T,A]];var S,C,L,D,O,Q;function getLinearEdgeIntersections(e,t){var r=[];var a=0;for(var n=0;n<4;n++){var i=K[n];var o=he(e[0],e[1],t[0],t[1],i[0],i[1],i[2],i[3]);if(o&&(!a||Math.abs(o.x-r[0][0])>1||Math.abs(o.y-r[0][1])>1)){o=[o.x,o.y];if(a&&ptDist(o,e)<ptDist(r[0],e))r.unshift(o);else r.push(o);a++}}return r}function onlyConstrainedPoint(e){if(e[0]<T||e[0]>k||e[1]<A||e[1]>M){return[pe(e[0],T,k),pe(e[1],A,M)]}}function sameEdge(e,t){if(e[0]===t[0]&&(e[0]===T||e[0]===k))return true;if(e[1]===t[1]&&(e[1]===A||e[1]===M))return true}function getHVEdgeIntersections(e,t){var r=[];var a=onlyConstrainedPoint(e);var n=onlyConstrainedPoint(t);if(a&&n&&sameEdge(a,n))return r;if(a)r.push(a);if(n)r.push(n);return r}function getABAEdgeIntersections(l,s,c){return function(e,t){var r=onlyConstrainedPoint(e);var a=onlyConstrainedPoint(t);var n=[];if(r&&a&&sameEdge(r,a))return n;if(r)n.push(r);if(a)n.push(a);var i=2*ve.constrain((e[l]+t[l])/2,s,c)-((r||e)[l]+(a||t)[l]);if(i){var o;if(r&&a){o=i>0===r[l]>a[l]?r:a}else o=r||a;o[l]+=i}return n}}var P;if(e==="linear"||e==="spline"){P=getLinearEdgeIntersections}else if(e==="hv"||e==="vh"){P=getHVEdgeIntersections}else if(e==="hvh")P=getABAEdgeIntersections(0,T,k);else if(e==="vhv")P=getABAEdgeIntersections(1,A,M);function getClosestCorner(e,t){var r=t[0]-e[0];var a=(t[1]-e[1])/r;var n=(e[1]*t[0]-t[1]*e[0])/r;if(n>0)return[a>0?T:k,M];else return[a>0?k:T,A]}function updateEdge(e){var t=e[0];var r=e[1];var a=t===u[f-1][0];var n=r===u[f-1][1];if(a&&n)return;if(f>1){var i=t===u[f-2][0];var o=r===u[f-2][1];if(a&&(t===T||t===k)&&i){if(o)f--;else u[f-1]=e}else if(n&&(r===A||r===M)&&o){if(i)f--;else u[f-1]=e}else u[f++]=e}else u[f++]=e}function updateEdgesForReentry(e){if(u[f-1][0]!==e[0]&&u[f-1][1]!==e[1]){updateEdge([L,D])}updateEdge(e);O=null;L=D=0}var $=ve.isArrayOrTypedArray(E);function addPt(e){if(e&&N){e.i=d;e.d=n;e.trace=a;e.marker=$?E[e.i]:E;e.backoff=N}W=e[0]/s;X=e[1]/c;S=e[0]<T?T:e[0]>k?k:0;C=e[1]<A?A:e[1]>M?M:0;if(S||C){if(!f){u[f++]=[S||e[0],C||e[1]]}else if(O){var t=P(O,e);if(t.length>1){updateEdgesForReentry(t[0]);u[f++]=t[1]}}else{Q=P(u[f-1],e)[0];u[f++]=Q}var r=u[f-1];if(S&&C&&(r[0]!==S||r[1]!==C)){if(O){if(L!==S&&D!==C){if(L&&D){updateEdge(getClosestCorner(O,e))}else{updateEdge([L||S,D||C])}}else if(L&&D){updateEdge([L,D])}}updateEdge([S,C])}else if(L-S&&D-C){updateEdge([S||L,C||D])}O=e;L=S;D=C}else{if(O){updateEdgesForReentry(P(O,e)[0])}u[f++]=e}}for(d=0;d<r;d++){v=getPt(d);if(!v)continue;f=0;O=null;addPt(v);for(d++;d<r;d++){p=getPt(d);if(!p){if(z)continue;else break}if(!H||!i.simplify){addPt(p);continue}var ee=getPt(d+1);b=ptDist(p,v);if(!(j&&(f===0||f===r-1))&&b<getTolerance(p,ee)*V)continue;x=[(p[0]-v[0])/b,(p[1]-v[1])/b];g=v;Y=b;U=G=q=0;y=false;h=p;for(d++;d<n.length;d++){m=ee;ee=getPt(d+1);if(!m){if(z)continue;else break}_=[m[0]-v[0],m[1]-v[1]];Z=_[0]*x[1]-_[1]*x[0];G=Math.min(G,Z);q=Math.max(q,Z);if(q-G>getTolerance(m,ee))break;h=m;w=_[0]*x[0]+_[1]*x[1];if(w>Y){Y=w;p=m;y=false}else if(w<U){U=w;g=m;y=true}}if(y){addPt(p);if(h!==g)addPt(g)}else{if(g!==v)addPt(g);if(h!==p)addPt(p)}addPt(h);if(d>=n.length||!m)break;addPt(m);v=m}if(O)updateEdge([L||O[0],D||O[1]]);t.push(u.slice(0,f))}var te=e.slice(e.length-1);if(N&&te!=="h"&&te!=="v"){var re=false;var ae=-1;var ne=[];for(var I=0;I<t.length;I++){for(var ie=0;ie<t[I].length-1;ie++){var oe=t[I][ie];var le=t[I][ie+1];var se=ce.applyBackoff(le,oe);if(se[0]!==le[0]||se[1]!==le[1]){re=true}if(!ne[ae+1]){ae++;ne[ae]=[oe,[se[0],se[1]]]}}}return re?ne:t}return t}},4039:function(e){"use strict";e.exports=function handleLineShapeDefaults(e,t,r){var a=r("line.shape");if(a==="spline")r("line.smoothing")}},8687:function(e){"use strict";var p={tonextx:1,tonexty:1,tonext:1};e.exports=function linkTraces(e,t,r){var a,n,i,o,l;var s={};var c=false;var u=-1;var f=0;var d=-1;for(n=0;n<r.length;n++){a=r[n][0].trace;i=a.stackgroup||"";if(i){if(i in s){l=s[i]}else{l=s[i]=f;f++}}else if(a.fill in p&&d>=0){l=d}else{l=d=f;f++}if(l<u)c=true;a._groupIndex=u=l}var v=r.slice();if(c){v.sort(function(e,t){var r=e[0].trace;var a=t[0].trace;return r._groupIndex-a._groupIndex||r.index-a.index})}var h={};for(n=0;n<v.length;n++){a=v[n][0].trace;i=a.stackgroup||"";if(a.visible===true){a._nexttrace=null;if(a.fill in p){o=h[i];a._prevtrace=o||null;if(o){o._nexttrace=a}}a._ownfill=a.fill&&(a.fill.substr(0,6)==="tozero"||a.fill==="toself"||a.fill.substr(0,2)==="to"&&!a._prevtrace);h[i]=a}else{a._prevtrace=a._nexttrace=a._ownfill=null}}return v}},9984:function(e,t,r){"use strict";var o=r(2770);e.exports=function makeBubbleSizeFn(e,r){if(!r){r=2}var t=e.marker;var a=t.sizeref||1;var n=t.sizemin||0;var i=t.sizemode==="area"?function(e){return Math.sqrt(e/a)}:function(e){return e/a};return function(e){var t=i(e/r);return o(t)&&t>0?Math.max(t,n):0}}},4898:function(e){"use strict";e.exports={container:"marker",min:"cmin",max:"cmax"}},9508:function(e,t,r){"use strict";var u=r(7901);var f=r(2869).hasColorscale;var d=r(1586);var v=r(4098);e.exports=function markerDefaults(e,t,r,a,n,i){var o=v.isBubble(e);var l=(e.line||{}).color;var s;i=i||{};if(l)r=l;n("marker.symbol");n("marker.opacity",o?.7:1);n("marker.size");if(!i.noAngle){n("marker.angle");if(!i.noAngleRef){n("marker.angleref")}if(!i.noStandOff){n("marker.standoff")}}n("marker.color",r);if(f(e,"marker")){d(e,t,a,n,{prefix:"marker.",cLetter:"c"})}if(!i.noSelect){n("selected.marker.color");n("unselected.marker.color");n("selected.marker.size");n("unselected.marker.size")}if(!i.noLine){if(l&&!Array.isArray(l)&&t.marker.color!==l){s=l}else if(o)s=u.background;else s=u.defaultLine;n("marker.line.color",s);if(f(e,"marker.line")){d(e,t,a,n,{prefix:"marker.line.",cLetter:"c"})}n("marker.line.width",o?1:0)}if(o){n("marker.sizeref");n("marker.sizemin");n("marker.sizemode")}if(i.gradient){var c=n("marker.gradient.type");if(c!=="none"){n("marker.gradient.color")}}}},3927:function(e,t,r){"use strict";var a=r(1828).dateTick0;var n=r(606);var i=n.ONEWEEK;function getPeriod0Dflt(e,t){if(e%i===0){return a(t,1)}return a(t,0)}e.exports=function handlePeriodDefaults(e,t,r,a,n){if(!n){n={x:true,y:true}}if(n.x){var i=a("xperiod");if(i){a("xperiod0",getPeriod0Dflt(i,t.xcalendar));a("xperiodalignment")}}if(n.y){var o=a("yperiod");if(o){a("yperiod0",getPeriod0Dflt(o,t.ycalendar));a("yperiodalignment")}}}},7399:function(e,t,r){"use strict";var j=r(9898);var V=r(3972);var Y=r(1828);var U=Y.ensureSingle;var G=Y.identity;var q=r(1424);var Z=r(4098);var W=r(4621);var d=r(8687);var X=r(1082).tester;e.exports=function plot(r,a,e,t,n,i){var o,l;var s=!n;var c=!!n&&n.duration>0;var u=d(r,a,e);o=t.selectAll("g.trace").data(u,function(e){return e[0].trace.uid});o.enter().append("g").attr("class",function(e){return"trace scatter trace"+e[0].trace.uid}).style("stroke-miterlimit",2);o.order();createFills(r,o,a);if(c){if(i){l=i()}var f=j.transition().duration(n.duration).ease(n.easing).each("end",function(){l&&l()}).each("interrupt",function(){l&&l()});f.each(function(){t.selectAll("g.trace").each(function(e,t){plotOne(r,t,a,e,u,this,n)})})}else{o.each(function(e,t){plotOne(r,t,a,e,u,this,n)})}if(s){o.exit().remove()}t.selectAll("path:not([d])").remove()};function createFills(i,e,o){e.each(function(e){var t=U(j.select(this),"g","fills");q.setClipUrl(t,o.layerClipId,i);var r=e[0].trace;var a=[];if(r._ownfill)a.push("_ownFill");if(r._nexttrace)a.push("_nextFill");var n=t.selectAll("g").data(a,G);n.enter().append("g");n.exit().each(function(e){r[e]=null}).remove();n.order().each(function(e){r[e]=U(j.select(this),"path","js-fill")})})}function plotOne(m,I,y,n,R,F,e){var N=m._context.staticPlot;var t;selectMarkers(m,I,y,n,R);var x=!!e&&e.duration>0;function transition(e){return x?e.transition():e}var _=y.xaxis;var b=y.yaxis;var i=n[0].trace;var r=i.line;var a=j.select(F);var E=U(a,"g","errorbars");var z=U(a,"g","lines");var o=U(a,"g","points");var l=U(a,"g","text");V.getComponentMethod("errorbars","plot")(m,E,y,e);if(i.visible!==true)return;transition(a).style("opacity",i.opacity);var s,c;var u=i.fill.charAt(i.fill.length-1);if(u!=="x"&&u!=="y")u="";n[0][y.isRangePlot?"nodeRangePlot3":"node3"]=a;var f="";var d=[];var v=i._prevtrace;if(v){f=v._prevRevpath||"";c=v._nextFill;d=v._polygons}var h;var p;var g="";var w="";var T,k,A;var M,S,C,L;var D=[];var O=Y.noop;s=i._ownFill;if(Z.hasLines(i)||i.fill!=="none"){if(c){c.datum(n)}if(["hv","vh","hvh","vhv"].indexOf(r.shape)!==-1){T=q.steps(r.shape);k=q.steps(r.shape.split("").reverse().join(""))}else if(r.shape==="spline"){T=k=function(e){var t=e[e.length-1];if(e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]){return q.smoothclosed(e.slice(1),r.smoothing)}else{return q.smoothopen(e,r.smoothing)}}}else{T=k=function(e){return"M"+e.join("L")}}A=function(e){return k(e.reverse())};D=W(n,{xaxis:_,yaxis:b,trace:i,connectGaps:i.connectgaps,baseTolerance:Math.max(r.width||1,3)/4,shape:r.shape,backoff:r.backoff,simplify:r.simplify,fill:i.fill});L=i._polygons=new Array(D.length);for(t=0;t<D.length;t++){i._polygons[t]=X(D[t])}if(D.length){M=D[0][0];S=D[D.length-1];C=S[S.length-1]}O=function(a){return function(e){h=T(e);p=A(e);if(!g){g=h;w=p}else if(u){g+="L"+h.substr(1);w=p+("L"+w.substr(1))}else{g+="Z"+h;w=p+"Z"+w}if(Z.hasLines(i)){var t=j.select(this);t.datum(n);if(a){transition(t.style("opacity",0).attr("d",h).call(q.lineGroupStyle)).style("opacity",1)}else{var r=transition(t);r.attr("d",h);q.singleLineStyle(n,r)}}}}}var P=z.selectAll(".js-line").data(D);transition(P.exit()).style("opacity",0).remove();P.each(O(false));P.enter().append("path").classed("js-line",true).style("vector-effect",N?"none":"non-scaling-stroke").call(q.lineGroupStyle).each(O(true));q.setClipUrl(P,y.layerClipId,m);function clearFill(e){transition(e).attr("d","M0,0Z")}if(D.length){if(s){s.datum(n);if(M&&C){if(u){if(u==="y"){M[1]=C[1]=b.c2p(0,true)}else if(u==="x"){M[0]=C[0]=_.c2p(0,true)}transition(s).attr("d","M"+C+"L"+M+"L"+g.substr(1)).call(q.singleFillStyle,m)}else{transition(s).attr("d",g+"Z").call(q.singleFillStyle,m)}}}else if(c){if(i.fill.substr(0,6)==="tonext"&&g&&f){if(i.fill==="tonext"){transition(c).attr("d",g+"Z"+f+"Z").call(q.singleFillStyle,m)}else{transition(c).attr("d",g+"L"+f.substr(1)+"Z").call(q.singleFillStyle,m)}i._polygons=i._polygons.concat(d)}else{clearFill(c);i._polygons=null}}i._prevRevpath=w;i._prevPolygons=L}else{if(s)clearFill(s);else if(c)clearFill(c);i._polygons=i._prevRevpath=i._prevPolygons=null}function visFilter(e){return e.filter(function(e){return!e.gap&&e.vis})}function visFilterWithGaps(e){return e.filter(function(e){return e.vis})}function gapFilter(e){return e.filter(function(e){return!e.gap})}function keyFunc(e){return e.id}function getKeyFunc(e){if(e.ids){return keyFunc}}function hideFilter(){return false}function makePoints(e,t,r){var a,n,i;var o=r[0].trace;var l=Z.hasMarkers(o);var s=Z.hasText(o);var c=getKeyFunc(o);var u=hideFilter;var f=hideFilter;if(l||s){var d=G;var v=o.stackgroup;var h=v&&m._fullLayout._scatterStackOpts[_._id+b._id][v].stackgaps==="infer zero";if(o.marker.maxdisplayed||o._needsCull){d=h?visFilterWithGaps:visFilter}else if(v&&!h){d=gapFilter}if(l)u=d;if(s)f=d}n=e.selectAll("path.point");a=n.data(u,c);var p=a.enter().append("path").classed("point",true);if(x){p.call(q.pointStyle,o,m).call(q.translatePoints,_,b).style("opacity",0).transition().style("opacity",1)}a.order();var g;if(l){g=q.makePointStyleFns(o)}a.each(function(e){var t=j.select(this);var r=transition(t);i=q.translatePoint(e,r,_,b);if(i){q.singlePointStyle(e,r,o,g,m);if(y.layerClipId){q.hideOutsideRangePoint(e,r,_,b,o.xcalendar,o.ycalendar)}if(o.customdata){t.classed("plotly-customdata",e.data!==null&&e.data!==undefined)}}else{r.remove()}});if(x){a.exit().transition().style("opacity",0).remove()}else{a.exit().remove()}n=t.selectAll("g");a=n.data(f,c);a.enter().append("g").classed("textpoint",true).append("text");a.order();a.each(function(e){var t=j.select(this);var r=transition(t.select("text"));i=q.translatePoint(e,r,_,b);if(i){if(y.layerClipId){q.hideOutsideRangePoint(e,t,_,b,o.xcalendar,o.ycalendar)}}else{t.remove()}});a.selectAll("text").call(q.textPointStyle,o,m).each(function(e){var t=_.c2p(e.x);var r=b.c2p(e.y);j.select(this).selectAll("tspan.line").each(function(){transition(j.select(this)).attr({x:t,y:r})})});a.exit().remove()}o.datum(n);l.datum(n);makePoints(o,l,n);var B=i.cliponaxis===false;var H=B?null:y.layerClipId;q.setClipUrl(o,H,m);q.setClipUrl(l,H,m)}function selectMarkers(e,a,t,r,n){var i=t.xaxis;var o=t.yaxis;var l=j.extent(Y.simpleMap(i.range,i.r2c));var s=j.extent(Y.simpleMap(o.range,o.r2c));var c=r[0].trace;if(!Z.hasMarkers(c))return;var u=c.marker.maxdisplayed;if(u===0)return;var f=r.filter(function(e){return e.x>=l[0]&&e.x<=l[1]&&e.y>=s[0]&&e.y<=s[1]});var d=Math.ceil(f.length/u);var v=0;n.forEach(function(e,t){var r=e[0].trace;if(Z.hasMarkers(r)&&r.marker.maxdisplayed>0&&t<a){v++}});var h=Math.round(v*d/3+Math.floor(v/3)*d/7.1);r.forEach(function(e){delete e.vis});f.forEach(function(e,t){if(Math.round((t+h)%d)===0)e.vis=true})}},8002:function(e,t,r){"use strict";var d=r(4098);e.exports=function selectPoints(e,t){var r=e.cd;var a=e.xaxis;var n=e.yaxis;var i=[];var o=r[0].trace;var l;var s;var c;var u;var f=!d.hasMarkers(o)&&!d.hasText(o);if(f)return[];if(t===false){for(l=0;l<r.length;l++){r[l].selected=0}}else{for(l=0;l<r.length;l++){s=r[l];c=a.c2p(s.x);u=n.c2p(s.y);if(s.i!==null&&t.contains([c,u],false,l,e)){i.push({pointNumber:s.i,x:a.c2d(s.x),y:n.c2d(s.y)});s.selected=1}else{s.selected=0}}}return i}},565:function(e){"use strict";var y=["orientation","groupnorm","stackgaps"];e.exports=function handleStackDefaults(e,t,r,a){var n=r._scatterStackOpts;var i=a("stackgroup");if(i){var o=t.xaxis+t.yaxis;var l=n[o];if(!l)l=n[o]={};var s=l[i];var c=false;if(s){s.traces.push(t)}else{s=l[i]={traceIndices:[],traces:[t]};c=true}var u={orientation:t.x&&!t.y?"h":"v"};for(var f=0;f<y.length;f++){var d=y[f];var v=d+"Found";if(!s[v]){var h=e[d]!==undefined;var p=d==="orientation";if(h||c){s[d]=a(d,u[d]);if(p){s.fillDflt=s[d]==="h"?"tonextx":"tonexty"}if(h){s[v]=true;if(!c){delete s.traces[0][d];if(p){for(var g=0;g<s.traces.length-1;g++){var m=s.traces[g];if(m._input.fill!==m.fill){m.fill=s.fillDflt}}}}}}}}return s}}},6296:function(e,t,r){"use strict";var n=r(9898);var i=r(1424);var o=r(3972);function style(a){var e=n.select(a).selectAll("g.trace.scatter");e.style("opacity",function(e){return e[0].trace.opacity});e.selectAll("g.points").each(function(e){var t=n.select(this);var r=e.trace||e[0].trace;stylePoints(t,r,a)});e.selectAll("g.text").each(function(e){var t=n.select(this);var r=e.trace||e[0].trace;styleText(t,r,a)});e.selectAll("g.trace path.js-line").call(i.lineGroupStyle);e.selectAll("g.trace path.js-fill").call(i.fillGroupStyle,a);o.getComponentMethod("errorbars","style")(e)}function stylePoints(e,t,r){i.pointStyle(e.selectAll("path.point"),t,r)}function styleText(e,t,r){i.textPointStyle(e.selectAll("text"),t,r)}function styleOnSelect(e,t,r){var a=t[0].trace;if(a.selectedpoints){i.selectedPointStyle(r.selectAll("path.point"),a);i.selectedTextStyle(r.selectAll("text"),a)}else{stylePoints(r,a,e);styleText(r,a,e)}}e.exports={style:style,stylePoints:stylePoints,styleText:styleText,styleOnSelect:styleOnSelect}},4098:function(e,t,r){"use strict";var a=r(1828);e.exports={hasLines:function(e){return e.visible&&e.mode&&e.mode.indexOf("lines")!==-1},hasMarkers:function(e){return e.visible&&(e.mode&&e.mode.indexOf("markers")!==-1||e.type==="splom")},hasText:function(e){return e.visible&&e.mode&&e.mode.indexOf("text")!==-1},isBubble:function(e){return a.isPlainObject(e.marker)&&a.isArrayOrTypedArray(e.marker.size)}}},2410:function(e,t,r){"use strict";var i=r(1828);e.exports=function(e,t,r,a,n){n=n||{};a("textposition");i.coerceFont(a,"textfont",r.font);if(!n.noSelect){a("selected.textfont.color");a("unselected.textfont.color")}}},7513:function(e,t,r){"use strict";var c=r(1828);var u=r(3972);e.exports=function handleXYDefaults(e,t,r,a){var n=a("x");var i=a("y");var o;var l=u.getComponentMethod("calendars","handleTraceDefaults");l(e,t,["x","y"],r);if(n){var s=c.minRowLength(n);if(i){o=Math.min(s,c.minRowLength(i))}else{o=s;a("y0");a("dy")}}else{if(!i)return 0;o=c.minRowLength(i);a("x0");a("dx")}t._length=o;return o}},2887:function(e,t,r){"use strict";var f=r(9298);var p=r(1828);var h=r(6281);var g=r(9344).p;var d=r(606).BADNUM;t.moduleType="transform";t.name="aggregate";var m=t.attributes={enabled:{valType:"boolean",dflt:true,editType:"calc"},groups:{valType:"string",strict:true,noBlank:true,arrayOk:true,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:true,editType:"calc"},editType:"calc"},editType:"calc"};var y=m.aggregations;t.supplyDefaults=function(r,e){var a={};var n;function coerce(e,t){return p.coerce(r,a,m,e,t)}var t=coerce("enabled");if(!t)return a;var i=h.findArrayAttributes(e);var o={};for(n=0;n<i.length;n++)o[i[n]]=1;var l=coerce("groups");if(!Array.isArray(l)){if(!o[l]){a.enabled=false;return a}o[l]=0}var s=r.aggregations||[];var c=a.aggregations=new Array(s.length);var u;function coercei(e,t){return p.coerce(s[n],u,y,e,t)}for(n=0;n<s.length;n++){u={_index:n};var f=coercei("target");var d=coercei("func");var v=coercei("enabled");if(v&&f&&(o[f]||d==="count"&&o[f]===undefined)){if(d==="stddev")coercei("funcmode");o[f]=0;c[n]=u}else c[n]={enabled:false,_index:n}}for(n=0;n<i.length;n++){if(o[i[n]]){c.push({target:i[n],func:y.func.dflt,enabled:true,_index:-1})}}return a};t.calcTransform=function(e,t,r){if(!r.enabled)return;var a=r.groups;var n=p.getTargetArray(t,{target:a});if(!n)return;var i,o,l,s;var c={};var u={};var f=[];var d=g(t.transforms,r);var v=n.length;if(t._length)v=Math.min(v,t._length);for(i=0;i<v;i++){o=n[i];l=c[o];if(l===undefined){c[o]=f.length;s=[i];f.push(s);u[c[o]]=d(i)}else{f[l].push(i);u[c[o]]=(u[c[o]]||[]).concat(d(i))}}r._indexToPoints=u;var h=r.aggregations;for(i=0;i<h.length;i++){aggregateOneArray(e,t,f,h[i])}if(typeof a==="string"){aggregateOneArray(e,t,f,{target:a,func:"first",enabled:true})}t._length=f.length};function aggregateOneArray(e,t,r,a){if(!a.enabled)return;var n=a.target;var i=p.nestedProperty(t,n);var o=i.get();var l=f.getDataConversions(e,t,n,o);var s=getAggregateFunction(a,l);var c=new Array(r.length);for(var u=0;u<r.length;u++){c[u]=s(o,r[u])}i.set(c);if(a.func==="count"){p.pushUnique(t._arrayAttrs,n)}}function getAggregateFunction(u,e){var t=u.func;var f=e.d2c;var s=e.c2d;switch(t){case"count":return count;case"first":return first;case"last":return last;case"sum":return function(e,t){var r=0;for(var a=0;a<t.length;a++){var n=f(e[t[a]]);if(n!==d)r+=n}return s(r)};case"avg":return function(e,t){var r=0;var a=0;for(var n=0;n<t.length;n++){var i=f(e[t[n]]);if(i!==d){r+=i;a++}}return a?s(r/a):d};case"min":return function(e,t){var r=Infinity;for(var a=0;a<t.length;a++){var n=f(e[t[a]]);if(n!==d)r=Math.min(r,n)}return r===Infinity?d:s(r)};case"max":return function(e,t){var r=-Infinity;for(var a=0;a<t.length;a++){var n=f(e[t[a]]);if(n!==d)r=Math.max(r,n)}return r===-Infinity?d:s(r)};case"range":return function(e,t){var r=Infinity;var a=-Infinity;for(var n=0;n<t.length;n++){var i=f(e[t[n]]);if(i!==d){r=Math.min(r,i);a=Math.max(a,i)}}return a===-Infinity||r===Infinity?d:s(a-r)};case"change":return function(e,t){var r=f(e[t[0]]);var a=f(e[t[t.length-1]]);return r===d||a===d?d:s(a-r)};case"median":return function(e,t){var r=[];for(var a=0;a<t.length;a++){var n=f(e[t[a]]);if(n!==d)r.push(n)}if(!r.length)return d;r.sort(p.sorterAsc);var i=(r.length-1)/2;return s((r[Math.floor(i)]+r[Math.ceil(i)])/2)};case"mode":return function(e,t){var r={};var a=0;var n=d;for(var i=0;i<t.length;i++){var o=f(e[t[i]]);if(o!==d){var l=r[o]=(r[o]||0)+1;if(l>a){a=l;n=o}}}return a?s(n):d};case"rms":return function(e,t){var r=0;var a=0;for(var n=0;n<t.length;n++){var i=f(e[t[n]]);if(i!==d){r+=i*i;a++}}return a?s(Math.sqrt(r/a)):d};case"stddev":return function(e,t){var r=0;var a=0;var n=1;var i=d;var o;for(o=0;o<t.length&&i===d;o++){i=f(e[t[o]])}if(i===d)return d;for(;o<t.length;o++){var l=f(e[t[o]]);if(l!==d){var s=l-i;r+=s;a+=s*s;n++}}var c=u.funcmode==="sample"?n-1:n;if(!c)return 0;return Math.sqrt((a-r*r/n)/c)}}}function count(e,t){return t.length}function first(e,t){return e[t[0]]}function last(e,t){return e[t[t.length-1]]}},4382:function(e,i,t){"use strict";var _=t(1828);var o=t(3972);var b=t(9298);var w=t(9344).p;var r=t(4808);var c=r.COMPARISON_OPS;var u=r.INTERVAL_OPS;var f=r.SET_OPS;i.moduleType="transform";i.name="filter";i.attributes={enabled:{valType:"boolean",dflt:true,editType:"calc"},target:{valType:"string",strict:true,noBlank:true,arrayOk:true,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(c).concat(u).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:false,editType:"calc"},editType:"calc"};i.supplyDefaults=function(r){var a={};function coerce(e,t){return _.coerce(r,a,i.attributes,e,t)}var e=coerce("enabled");if(e){var t=coerce("target");if(_.isArrayOrTypedArray(t)&&t.length===0){a.enabled=false;return a}coerce("preservegaps");coerce("operation");coerce("value");var n=o.getComponentMethod("calendars","handleDefaults");n(r,a,"valuecalendar",null);n(r,a,"targetcalendar",null)}return a};i.calcTransform=function(e,n,t){if(!t.enabled)return;var r=_.getTargetArray(n,t);if(!r)return;var a=t.target;var i=r.length;if(n._length)i=Math.min(i,n._length);var o=t.targetcalendar;var l=n._arrayAttrs;var s=t.preservegaps;if(typeof a==="string"){var c=_.nestedProperty(n,a+"calendar").get();if(c)o=c}var u=b.getDataToCoordFunc(e,n,a,r);var f=getFilterFunc(t,u,o);var d={};var v={};var h=0;function forAllAttrs(e,t){for(var r=0;r<l.length;r++){var a=_.nestedProperty(n,l[r]);e(a,t)}}var p;var g;if(s){p=function(e){d[e.astr]=_.extendDeep([],e.get());e.set(new Array(i))};g=function(e,t){var r=d[e.astr][t];e.get()[t]=r}}else{p=function(e){d[e.astr]=_.extendDeep([],e.get());e.set([])};g=function(e,t){var r=d[e.astr][t];e.get().push(r)}}forAllAttrs(p);var m=w(n.transforms,t);for(var y=0;y<i;y++){var x=f(r[y]);if(x){forAllAttrs(g,y);v[h++]=m(y)}else if(s)h++}t._indexToPoints=v;n._length=h};function getFilterFunc(t,r,a){var n=t.operation;var e=t.value;var i=Array.isArray(e);function isOperationIn(e){return e.indexOf(n)!==-1}var o=function(e){return r(e,0,t.valuecalendar)};var l=function(e){return r(e,0,a)};var s;if(isOperationIn(c)){s=i?o(e[0]):o(e)}else if(isOperationIn(u)){s=i?[o(e[0]),o(e[1])]:[o(e),o(e)]}else if(isOperationIn(f)){s=i?e.map(o):[o(e)]}switch(n){case"=":return function(e){return l(e)===s};case"!=":return function(e){return l(e)!==s};case"<":return function(e){return l(e)<s};case"<=":return function(e){return l(e)<=s};case">":return function(e){return l(e)>s};case">=":return function(e){return l(e)>=s};case"[]":return function(e){var t=l(e);return t>=s[0]&&t<=s[1]};case"()":return function(e){var t=l(e);return t>s[0]&&t<s[1]};case"[)":return function(e){var t=l(e);return t>=s[0]&&t<s[1]};case"(]":return function(e){var t=l(e);return t>s[0]&&t<=s[1]};case"][":return function(e){var t=l(e);return t<=s[0]||t>=s[1]};case")(":return function(e){var t=l(e);return t<s[0]||t>s[1]};case"](":return function(e){var t=l(e);return t<=s[0]||t>s[1]};case")[":return function(e){var t=l(e);return t<s[0]||t>=s[1]};case"{}":return function(e){return s.indexOf(l(e))!==-1};case"}{":return function(e){return s.indexOf(l(e))===-1}}}},3102:function(e,u,t){"use strict";var M=t(1828);var S=t(6281);var C=t(4875);var L=t(9344).p;u.moduleType="transform";u.name="groupby";u.attributes={enabled:{valType:"boolean",dflt:true,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:true},editType:"calc"},editType:"calc"};u.supplyDefaults=function(r,e,t){var a;var n={};function coerce(e,t){return M.coerce(r,n,u.attributes,e,t)}var i=coerce("enabled");if(!i)return n;coerce("groups");coerce("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var o=r.styles;var l=n.styles=[];if(o){for(a=0;a<o.length;a++){var s=l[a]={};M.coerce(o[a],l[a],u.attributes.styles,"target");var c=M.coerce(o[a],l[a],u.attributes.styles,"value");if(M.isPlainObject(c))s.value=M.extendDeep({},c);else if(c)delete s.value}}return n};u.transform=function(e,t){var r,a,n;var i=[];for(a=0;a<e.length;a++){r=transformOne(e[a],t);for(n=0;n<r.length;n++){i.push(r[n])}}return i};function transformOne(e,t){var r,a,n,i,o,l,s,c,u;var f;var d=t.transform;var v=t.transformIndex;var h=e.transforms[v].groups;var p=L(e.transforms,d);if(!M.isArrayOrTypedArray(h)||h.length===0){return[e]}var g=M.filterUnique(h);var m=new Array(g.length);var y=h.length;var x=S.findArrayAttributes(e);var _=d.styles||[];var b={};for(r=0;r<_.length;r++){b[_[r].target]=_[r].value}if(d.styles){f=M.keyedContainer(d,"styles","target","value.name")}var w={};var T={};for(r=0;r<g.length;r++){l=g[r];w[l]=r;T[l]=0;s=m[r]=M.extendDeepNoArrays({},e);s._group=l;s.transforms[v]._indexToPoints={};var k=null;if(f){k=f.get(l)}if(k||k===""){s.name=k}else{s.name=M.templateString(d.nameformat,{trace:e.name,group:l})}c=s.transforms;s.transforms=[];for(a=0;a<c.length;a++){s.transforms[a]=M.extendDeepNoArrays({},c[a])}for(a=0;a<x.length;a++){M.nestedProperty(s,x[a]).set([])}}for(n=0;n<x.length;n++){i=x[n];for(a=0,u=[];a<g.length;a++){u[a]=M.nestedProperty(m[a],i).get()}o=M.nestedProperty(e,i).get();for(a=0;a<y;a++){u[w[h[a]]].push(o[a])}}for(a=0;a<y;a++){s=m[w[h[a]]];var A=s.transforms[v]._indexToPoints;A[T[h[a]]]=p(a);T[h[a]]++}for(r=0;r<g.length;r++){l=g[r];s=m[r];C.clearExpandedTraceDefaultColors(s);s=M.extendDeepNoArrays(s,b[l]||{})}return m}},9344:function(e,t){"use strict";t.p=function(e,t){var r;var a;for(var n=0;n<e.length;n++){r=e[n];if(r===t)break;if(!r._indexToPoints||r.enabled===false)continue;a=r._indexToPoints}var i=a?function(e){return a[e]}:function(e){return[e]};return i}},2275:function(e,n,t){"use strict";var g=t(1828);var m=t(9298);var y=t(9344).p;var i=t(606).BADNUM;n.moduleType="transform";n.name="sort";n.attributes={enabled:{valType:"boolean",dflt:true,editType:"calc"},target:{valType:"string",strict:true,noBlank:true,arrayOk:true,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"};n.supplyDefaults=function(r){var a={};function coerce(e,t){return g.coerce(r,a,n.attributes,e,t)}var e=coerce("enabled");if(e){coerce("target");coerce("order")}return a};n.calcTransform=function(e,t,r){if(!r.enabled)return;var a=g.getTargetArray(t,r);if(!a)return;var n=r.target;var i=a.length;if(t._length)i=Math.min(i,t._length);var o=t._arrayAttrs;var l=m.getDataToCoordFunc(e,t,n,a);var s=getIndices(r,a,l,i);var c=y(t.transforms,r);var u={};var f,d;for(f=0;f<o.length;f++){var v=g.nestedProperty(t,o[f]);var h=v.get();var p=new Array(i);for(d=0;d<i;d++){p[d]=h[s[d]]}v.set(p)}for(d=0;d<i;d++){u[d]=c(s[d])}r._indexToPoints=u;t._length=i};function getIndices(e,t,r,a){var n=new Array(a);var i=new Array(a);var o;for(o=0;o<a;o++){n[o]={v:t[o],i:o}}n.sort(getSortFunc(e,r));for(o=0;o<a;o++){i[o]=n[o].i}return i}function getSortFunc(e,n){switch(e.order){case"ascending":return function(e,t){var r=n(e.v);var a=n(t.v);if(r===i){return 1}if(a===i){return-1}return r-a};case"descending":return function(e,t){var r=n(e.v);var a=n(t.v);if(r===i){return 1}if(a===i){return-1}return a-r}}}},1506:function(e,t){"use strict";t.version="2.20.0"},5791:function(e){"use strict";e.exports=isMobile;e.exports.isMobile=isMobile;e.exports["default"]=isMobile;var a=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i;var n=/CrOS/;var i=/android|ipad|playbook|silk/i;function isMobile(e){if(!e)e={};var t=e.ua;if(!t&&typeof navigator!=="undefined")t=navigator.userAgent;if(t&&t.headers&&typeof t.headers["user-agent"]==="string"){t=t.headers["user-agent"]}if(typeof t!=="string")return false;var r=a.test(t)&&!n.test(t)||!!e.tablet&&i.test(t);if(!r&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1){r=true}return r}},9898:function(Je,Ke,Qe){var $e,et;!function(){var R={version:"3.8.0"};var n=[].slice,f=function(e){return n.call(e)};var g=self.document;function d3_documentElement(e){return e&&(e.ownerDocument||e.document||e).documentElement}function d3_window(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(g){try{f(g.documentElement.childNodes)[0].nodeType}catch(Ze){f=function(e){var t=e.length,r=new Array(t);while(t--)r[t]=e[t];return r}}}if(!Date.now)Date.now=function(){return+new Date};if(g){try{const Xe=g.createElement("DIV");Xe.setAttribute("nonce",cspnonce);Xe.style.setProperty("opacity",0,"")}catch(We){var e=this.Element.prototype,i=e.setAttribute,o=e.setAttributeNS,s=this.CSSStyleDeclaration.prototype,u=s.setProperty;e.setAttribute=function(e,t){i.call(this,e,t+"")};e.setAttributeNS=function(e,t,r){o.call(this,e,t,r+"")};s.setProperty=function(e,t,r){u.call(this,e,t+"",r)}}}R.ascending=d3_ascending;function d3_ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}R.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN};R.min=function(e,t){var r=-1,a=e.length,n,i;if(arguments.length===1){while(++r<a)if((i=e[r])!=null&&i>=i){n=i;break}while(++r<a)if((i=e[r])!=null&&n>i)n=i}else{while(++r<a)if((i=t.call(e,e[r],r))!=null&&i>=i){n=i;break}while(++r<a)if((i=t.call(e,e[r],r))!=null&&n>i)n=i}return n};R.max=function(e,t){var r=-1,a=e.length,n,i;if(arguments.length===1){while(++r<a)if((i=e[r])!=null&&i>=i){n=i;break}while(++r<a)if((i=e[r])!=null&&i>n)n=i}else{while(++r<a)if((i=t.call(e,e[r],r))!=null&&i>=i){n=i;break}while(++r<a)if((i=t.call(e,e[r],r))!=null&&i>n)n=i}return n};R.extent=function(e,t){var r=-1,a=e.length,n,i,o;if(arguments.length===1){while(++r<a)if((i=e[r])!=null&&i>=i){n=o=i;break}while(++r<a)if((i=e[r])!=null){if(n>i)n=i;if(o<i)o=i}}else{while(++r<a)if((i=t.call(e,e[r],r))!=null&&i>=i){n=o=i;break}while(++r<a)if((i=t.call(e,e[r],r))!=null){if(n>i)n=i;if(o<i)o=i}}return[n,o]};function d3_number(e){return e===null?NaN:+e}function d3_numeric(e){return!isNaN(e)}R.sum=function(e,t){var r=0,a=e.length,n,i=-1;if(arguments.length===1){while(++i<a)if(d3_numeric(n=+e[i]))r+=n}else{while(++i<a)if(d3_numeric(n=+t.call(e,e[i],i)))r+=n}return r};R.mean=function(e,t){var r=0,a=e.length,n,i=-1,o=a;if(arguments.length===1){while(++i<a)if(d3_numeric(n=d3_number(e[i])))r+=n;else--o}else{while(++i<a)if(d3_numeric(n=d3_number(t.call(e,e[i],i))))r+=n;else--o}if(o)return r/o};R.quantile=function(e,t){var r=(e.length-1)*t+1,a=Math.floor(r),n=+e[a-1],i=r-a;return i?n+i*(e[a]-n):n};R.median=function(e,t){var r=[],a=e.length,n,i=-1;if(arguments.length===1){while(++i<a)if(d3_numeric(n=d3_number(e[i])))r.push(n)}else{while(++i<a)if(d3_numeric(n=d3_number(t.call(e,e[i],i))))r.push(n)}if(r.length)return R.quantile(r.sort(d3_ascending),.5)};R.variance=function(e,t){var r=e.length,a=0,n,i,o=0,l=-1,s=0;if(arguments.length===1){while(++l<r){if(d3_numeric(n=d3_number(e[l]))){i=n-a;a+=i/++s;o+=i*(n-a)}}}else{while(++l<r){if(d3_numeric(n=d3_number(t.call(e,e[l],l)))){i=n-a;a+=i/++s;o+=i*(n-a)}}}if(s>1)return o/(s-1)};R.deviation=function(){var e=R.variance.apply(this,arguments);return e?Math.sqrt(e):e};function d3_bisector(i){return{left:function(e,t,r,a){if(arguments.length<3)r=0;if(arguments.length<4)a=e.length;while(r<a){var n=r+a>>>1;if(i(e[n],t)<0)r=n+1;else a=n}return r},right:function(e,t,r,a){if(arguments.length<3)r=0;if(arguments.length<4)a=e.length;while(r<a){var n=r+a>>>1;if(i(e[n],t)>0)a=n;else r=n+1}return r}}}var d=d3_bisector(d3_ascending);R.bisectLeft=d.left;R.bisect=R.bisectRight=d.right;R.bisector=function(r){return d3_bisector(r.length===1?function(e,t){return d3_ascending(r(e),t)}:r)};R.shuffle=function(e,t,r){if((a=arguments.length)<3){r=e.length;if(a<2)t=0}var a=r-t,n,i;while(a){i=Math.random()*a--|0;n=e[a+t],e[a+t]=e[i+t],e[i+t]=n}return e};R.permute=function(e,t){var r=t.length,a=new Array(r);while(r--)a[r]=e[t[r]];return a};R.pairs=function(e){var t=0,r=e.length-1,a,n=e[0],i=new Array(r<0?0:r);while(t<r)i[t]=[a=n,n=e[++t]];return i};R.transpose=function(e){if(!(i=e.length))return[];for(var t=-1,r=R.min(e,d3_transposeLength),a=new Array(r);++t<r;){for(var n=-1,i,o=a[t]=new Array(i);++n<i;){o[n]=e[n][t]}}return a};function d3_transposeLength(e){return e.length}R.zip=function(){return R.transpose(arguments)};R.keys=function(e){var t=[];for(var r in e)t.push(r);return t};R.values=function(e){var t=[];for(var r in e)t.push(e[r]);return t};R.entries=function(e){var t=[];for(var r in e)t.push({key:r,value:e[r]});return t};R.merge=function(e){var t=e.length,r,a=-1,n=0,i,o;while(++a<t)n+=e[a].length;i=new Array(n);while(--t>=0){o=e[t];r=o.length;while(--r>=0){i[--n]=o[r]}}return i};var k=Math.abs;R.range=function(e,t,r){if(arguments.length<3){r=1;if(arguments.length<2){t=e;e=0}}if((t-e)/r===Infinity)throw new Error("infinite range");var a=[],n=d3_range_integerScale(k(r)),i=-1,o;e*=n,t*=n,r*=n;if(r<0)while((o=e+r*++i)>t)a.push(o/n);else while((o=e+r*++i)<t)a.push(o/n);return a};function d3_range_integerScale(e){var t=1;while(e*t%1)t*=10;return t}function d3_class(e,t){for(var r in t){Object.defineProperty(e.prototype,r,{value:t[r],enumerable:false})}}R.map=function(e,t){var r=new d3_Map;if(e instanceof d3_Map){e.forEach(function(e,t){r.set(e,t)})}else if(Array.isArray(e)){var a=-1,n=e.length,i;if(arguments.length===1)while(++a<n)r.set(a,e[a]);else while(++a<n)r.set(t.call(e,i=e[a],a),i)}else{for(var o in e)r.set(o,e[o])}return r};function d3_Map(){this._=Object.create(null)}var h="__proto__",p="\0";d3_class(d3_Map,{has:d3_map_has,get:function(e){return this._[d3_map_escape(e)]},set:function(e,t){return this._[d3_map_escape(e)]=t},remove:d3_map_remove,keys:d3_map_keys,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:d3_map_unescape(t),value:this._[t]});return e},size:d3_map_size,empty:d3_map_empty,forEach:function(e){for(var t in this._)e.call(this,d3_map_unescape(t),this._[t])}});function d3_map_escape(e){return(e+="")===h||e[0]===p?p+e:e}function d3_map_unescape(e){return(e+="")[0]===p?e.slice(1):e}function d3_map_has(e){return d3_map_escape(e)in this._}function d3_map_remove(e){return(e=d3_map_escape(e))in this._&&delete this._[e]}function d3_map_keys(){var e=[];for(var t in this._)e.push(d3_map_unescape(t));return e}function d3_map_size(){var e=0;for(var t in this._)++e;return e}function d3_map_empty(){for(var e in this._)return false;return true}R.nest=function(){var f={},d=[],t=[],v,h;function map(r,e,a){if(a>=d.length)return h?h.call(f,e):v?e.sort(v):e;var t=-1,n=e.length,i=d[a++],o,l,s,c=new d3_Map,u;while(++t<n){if(u=c.get(o=i(l=e[t]))){u.push(l)}else{c.set(o,[l])}}if(r){l=r();s=function(e,t){l.set(e,map(r,t,a))}}else{l={};s=function(e,t){l[e]=map(r,t,a)}}c.forEach(s);return l}function entries(e,r){if(r>=d.length)return e;var a=[],n=t[r++];e.forEach(function(e,t){a.push({key:e,values:entries(t,r)})});return n?a.sort(function(e,t){return n(e.key,t.key)}):a}f.map=function(e,t){return map(t,e,0)};f.entries=function(e){return entries(map(R.map,e,0),0)};f.key=function(e){d.push(e);return f};f.sortKeys=function(e){t[d.length-1]=e;return f};f.sortValues=function(e){v=e;return f};f.rollup=function(e){h=e;return f};return f};R.set=function(e){var t=new d3_Set;if(e)for(var r=0,a=e.length;r<a;++r)t.add(e[r]);return t};function d3_Set(){this._=Object.create(null)}d3_class(d3_Set,{has:d3_map_has,add:function(e){this._[d3_map_escape(e+="")]=true;return e},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(e){for(var t in this._)e.call(this,d3_map_unescape(t))}});R.behavior={};function d3_identity(e){return e}R.rebind=function(e,t){var r=1,a=arguments.length,n;while(++r<a)e[n=arguments[r]]=d3_rebind(e,t,t[n]);return e};function d3_rebind(t,r,a){return function(){var e=a.apply(r,arguments);return e===r?t:e}}function d3_vendorSymbol(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var r=0,a=y.length;r<a;++r){var n=y[r]+t;if(n in e)return n}}var y=["webkit","ms","moz","Moz","o","O"];function d3_noop(){}R.dispatch=function(){var e=new d3_dispatch,t=-1,r=arguments.length;while(++t<r)e[arguments[t]]=d3_dispatch_event(e);return e};function d3_dispatch(){}d3_dispatch.prototype.on=function(e,t){var r=e.indexOf("."),a="";if(r>=0){a=e.slice(r+1);e=e.slice(0,r)}if(e)return arguments.length<2?this[e].on(a):this[e].on(a,t);if(arguments.length===2){if(t==null)for(e in this){if(this.hasOwnProperty(e))this[e].on(a,null)}return this}};function d3_dispatch_event(n){var i=[],o=new d3_Map;function event(){var e=i,t=-1,r=e.length,a;while(++t<r)if(a=e[t].on)a.apply(this,arguments);return n}event.on=function(e,t){var r=o.get(e),a;if(arguments.length<2)return r&&r.on;if(r){r.on=null;i=i.slice(0,a=i.indexOf(r)).concat(i.slice(a+1));o.remove(e)}if(t)i.push(o.set(e,{on:t}));return n};return event}R.event=null;function d3_eventPreventDefault(){R.event.preventDefault()}function d3_eventSource(){var e=R.event,t;while(t=e.sourceEvent)e=t;return e}function d3_eventDispatch(n){var i=new d3_dispatch,e=0,t=arguments.length;while(++e<t)i[arguments[e]]=d3_dispatch_event(i);i.of=function(r,a){return function(e){try{var t=e.sourceEvent=R.event;e.target=n;R.event=e;i[e.type].apply(r,a)}finally{R.event=t}}};return i}R.requote=function(e){return e.replace(x,"\\$&")};var x=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var _={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)e[r]=t[r]};function d3_selection(e){_(e,r);return e}var b=function(e,t){return t.querySelector(e)},w=function(e,t){return t.querySelectorAll(e)},T=function(e,t){var r=e.matches||e[d3_vendorSymbol(e,"matchesSelector")];T=function(e,t){return r.call(e,t)};return T(e,t)};if(typeof Sizzle==="function"){b=function(e,t){return Sizzle(e,t)[0]||null};w=Sizzle;T=Sizzle.matchesSelector}R.selection=function(){return R.select(g.documentElement)};var r=R.selection.prototype=[];r.select=function(e){var t=[],r,a,n,i;e=d3_selection_selector(e);for(var o=-1,l=this.length;++o<l;){t.push(r=[]);r.parentNode=(n=this[o]).parentNode;for(var s=-1,c=n.length;++s<c;){if(i=n[s]){r.push(a=e.call(i,i.__data__,s,o));if(a&&"__data__"in i)a.__data__=i.__data__}else{r.push(null)}}}return d3_selection(t)};function d3_selection_selector(e){return typeof e==="function"?e:function(){return b(e,this)}}r.selectAll=function(e){var t=[],r,a;e=d3_selection_selectorAll(e);for(var n=-1,i=this.length;++n<i;){for(var o=this[n],l=-1,s=o.length;++l<s;){if(a=o[l]){t.push(r=f(e.call(a,a.__data__,l,n)));r.parentNode=a}}}return d3_selection(t)};function d3_selection_selectorAll(e){return typeof e==="function"?e:function(){return w(e,this)}}var M="http://www.w3.org/1999/xhtml";var S={svg:"http://www.w3.org/2000/svg",xhtml:M,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};R.ns={prefix:S,qualify:function(e){var t=e.indexOf(":"),r=e;if(t>=0&&(r=e.slice(0,t))!=="xmlns")e=e.slice(t+1);return S.hasOwnProperty(r)?{space:S[r],local:e}:e}};r.attr=function(e,t){if(arguments.length<2){if(typeof e==="string"){var r=this.node();e=R.ns.qualify(e);return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}for(t in e)this.each(d3_selection_attr(t,e[t]));return this}return this.each(d3_selection_attr(e,t))};function d3_selection_attr(t,r){t=R.ns.qualify(t);function attrNull(){this.removeAttribute(t)}function attrNullNS(){this.removeAttributeNS(t.space,t.local)}function attrConstant(){this.setAttribute(t,r)}function attrConstantNS(){this.setAttributeNS(t.space,t.local,r)}function attrFunction(){var e=r.apply(this,arguments);if(e==null)this.removeAttribute(t);else this.setAttribute(t,e)}function attrFunctionNS(){var e=r.apply(this,arguments);if(e==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,e)}return r==null?t.local?attrNullNS:attrNull:typeof r==="function"?t.local?attrFunctionNS:attrFunction:t.local?attrConstantNS:attrConstant}function d3_collapse(e){return e.trim().replace(/\s+/g," ")}r.classed=function(e,t){if(arguments.length<2){if(typeof e==="string"){var r=this.node(),a=(e=d3_selection_classes(e)).length,n=-1;if(t=r.classList){while(++n<a)if(!t.contains(e[n]))return false}else{t=r.getAttribute("class");while(++n<a)if(!d3_selection_classedRe(e[n]).test(t))return false}return true}for(t in e)this.each(d3_selection_classed(t,e[t]));return this}return this.each(d3_selection_classed(e,t))};function d3_selection_classedRe(e){return new RegExp("(?:^|\\s+)"+R.requote(e)+"(?:\\s+|$)","g")}function d3_selection_classes(e){return(e+"").trim().split(/^|\s+/)}function d3_selection_classed(r,a){r=d3_selection_classes(r).map(d3_selection_classedName);var n=r.length;function classedConstant(){var e=-1;while(++e<n)r[e](this,a)}function classedFunction(){var e=-1,t=a.apply(this,arguments);while(++e<n)r[e](this,t)}return typeof a==="function"?classedFunction:classedConstant}function d3_selection_classedName(a){var n=d3_selection_classedRe(a);return function(e,t){if(r=e.classList)return t?r.add(a):r.remove(a);var r=e.getAttribute("class")||"";if(t){n.lastIndex=0;if(!n.test(r))e.setAttribute("class",d3_collapse(r+" "+a))}else{e.setAttribute("class",d3_collapse(r.replace(n," ")))}}}r.style=function(e,t,r){var a=arguments.length;if(a<3){if(typeof e!=="string"){if(a<2)t="";for(r in e)this.each(d3_selection_style(r,e[r],t));return this}if(a<2){var n=this.node();return d3_window(n).getComputedStyle(n,null).getPropertyValue(e)}r=""}return this.each(d3_selection_style(e,t,r))};function d3_selection_style(t,r,a){function styleNull(){this.style.removeProperty(t)}function styleConstant(){this.setAttribute("nonce",cspnonce);this.style.setProperty(t,r,a)}function styleFunction(){var e=r.apply(this,arguments);if(e==null)this.style.removeProperty(t);else this.setAttribute("nonce",cspnonce);this.style.setProperty(t,e,a)}return r==null?styleNull:typeof r==="function"?styleFunction:styleConstant}r.property=function(e,t){if(arguments.length<2){if(typeof e==="string")return this.node()[e];for(t in e)this.each(d3_selection_property(t,e[t]));return this}return this.each(d3_selection_property(e,t))};function d3_selection_property(t,r){function propertyNull(){delete this[t]}function propertyConstant(){this[t]=r}function propertyFunction(){var e=r.apply(this,arguments);if(e==null)delete this[t];else this[t]=e}return r==null?propertyNull:typeof r==="function"?propertyFunction:propertyConstant}r.text=function(t){return arguments.length?this.each(typeof t==="function"?function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}:t==null?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent};r.html=function(t){return arguments.length?this.each(typeof t==="function"?function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}:t==null?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML};r.append=function(e){e=d3_selection_creator(e);return this.select(function(){return this.appendChild(e.apply(this,arguments))})};function d3_selection_creator(r){function create(){var e=this.ownerDocument,t=this.namespaceURI;return t===M&&e.documentElement.namespaceURI===M?e.createElement(r):e.createElementNS(t,r)}function createNS(){return this.ownerDocument.createElementNS(r.space,r.local)}return typeof r==="function"?r:(r=R.ns.qualify(r)).local?createNS:create}r.insert=function(e,t){e=d3_selection_creator(e);t=d3_selection_selector(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})};r.remove=function(){return this.each(d3_selectionRemove)};function d3_selectionRemove(){var e=this.parentNode;if(e)e.removeChild(this)}r.data=function(e,h){var t=-1,r=this.length,a,n;if(!arguments.length){e=new Array(r=(a=this[0]).length);while(++t<r){if(n=a[t]){e[t]=n.__data__}}return e}function bind(e,t){var r,a=e.length,n=t.length,i=Math.min(a,n),o=new Array(n),l=new Array(n),s=new Array(a),c,u;if(h){var f=new d3_Map,d=new Array(a),v;for(r=-1;++r<a;){if(c=e[r]){if(f.has(v=h.call(c,c.__data__,r))){s[r]=c}else{f.set(v,c)}d[r]=v}}for(r=-1;++r<n;){if(!(c=f.get(v=h.call(t,u=t[r],r)))){l[r]=d3_selection_dataNode(u)}else if(c!==true){o[r]=c;c.__data__=u}f.set(v,true)}for(r=-1;++r<a;){if(r in d&&f.get(d[r])!==true){s[r]=e[r]}}}else{for(r=-1;++r<i;){c=e[r];u=t[r];if(c){c.__data__=u;o[r]=c}else{l[r]=d3_selection_dataNode(u)}}for(;r<n;++r){l[r]=d3_selection_dataNode(t[r])}for(;r<a;++r){s[r]=e[r]}}l.update=o;l.parentNode=o.parentNode=s.parentNode=e.parentNode;p.push(l);g.push(o);m.push(s)}var p=d3_selection_enter([]),g=d3_selection([]),m=d3_selection([]);if(typeof e==="function"){while(++t<r){bind(a=this[t],e.call(a,a.parentNode.__data__,t))}}else{while(++t<r){bind(a=this[t],e)}}g.enter=function(){return p};g.exit=function(){return m};return g};function d3_selection_dataNode(e){return{__data__:e}}r.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")};r.filter=function(e){var t=[],r,a,n;if(typeof e!=="function")e=d3_selection_filter(e);for(var i=0,o=this.length;i<o;i++){t.push(r=[]);r.parentNode=(a=this[i]).parentNode;for(var l=0,s=a.length;l<s;l++){if((n=a[l])&&e.call(n,n.__data__,l,i)){r.push(n)}}}return d3_selection(t)};function d3_selection_filter(e){return function(){return T(this,e)}}r.order=function(){for(var e=-1,t=this.length;++e<t;){for(var r=this[e],a=r.length-1,n=r[a],i;--a>=0;){if(i=r[a]){if(n&&n!==i.nextSibling)n.parentNode.insertBefore(i,n);n=i}}}return this};r.sort=function(e){e=d3_selection_sortComparator.apply(this,arguments);for(var t=-1,r=this.length;++t<r;)this[t].sort(e);return this.order()};function d3_selection_sortComparator(r){if(!arguments.length)r=d3_ascending;return function(e,t){return e&&t?r(e.__data__,t.__data__):!e-!t}}r.each=function(a){return d3_selection_each(this,function(e,t,r){a.call(e,e.__data__,t,r)})};function d3_selection_each(e,t){for(var r=0,a=e.length;r<a;r++){for(var n=e[r],i=0,o=n.length,l;i<o;i++){if(l=n[i])t(l,i,r)}}return e}r.call=function(e){var t=f(arguments);e.apply(t[0]=this,t);return this};r.empty=function(){return!this.node()};r.node=function(){for(var e=0,t=this.length;e<t;e++){for(var r=this[e],a=0,n=r.length;a<n;a++){var i=r[a];if(i)return i}}return null};r.size=function(){var e=0;d3_selection_each(this,function(){++e});return e};function d3_selection_enter(e){_(e,t);return e}var t=[];R.selection.enter=d3_selection_enter;R.selection.enter.prototype=t;t.append=r.append;t.empty=r.empty;t.node=r.node;t.call=r.call;t.size=r.size;t.select=function(e){var t=[],r,a,n,i,o;for(var l=-1,s=this.length;++l<s;){n=(i=this[l]).update;t.push(r=[]);r.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;){if(o=i[c]){r.push(n[c]=a=e.call(i.parentNode,o.__data__,c,l));a.__data__=o.__data__}else{r.push(null)}}}return d3_selection(t)};t.insert=function(e,t){if(arguments.length<2)t=d3_selection_enterInsertBefore(this);return r.insert.call(this,e,t)};function d3_selection_enterInsertBefore(o){var l,s;return function(e,t,r){var a=o[r].update,n=a.length,i;if(r!=s)s=r,l=0;if(t>=l)l=t+1;while(!(i=a[l])&&++l<n);return i}}R.select=function(e){var t;if(typeof e==="string"){t=[b(e,g)];t.parentNode=g.documentElement}else{t=[e];t.parentNode=d3_documentElement(e)}return d3_selection([t])};R.selectAll=function(e){var t;if(typeof e==="string"){t=f(w(e,g));t.parentNode=g.documentElement}else{t=f(e);t.parentNode=null}return d3_selection([t])};r.on=function(e,t,r){var a=arguments.length;if(a<3){if(typeof e!=="string"){if(a<2)t=false;for(r in e)this.each(d3_selection_on(r,e[r],t));return this}if(a<2)return(a=this.node()["__on"+e])&&a._;r=false}return this.each(d3_selection_on(e,t,r))};function d3_selection_on(n,t,r){var a="__on"+n,e=n.indexOf("."),i=d3_selection_onListener;if(e>0)n=n.slice(0,e);var o=C.get(n);if(o)n=o,i=d3_selection_onFilter;function onRemove(){var e=this[a];if(e){this.removeEventListener(n,e,e.$);delete this[a]}}function onAdd(){var e=i(t,f(arguments));onRemove.call(this);this.addEventListener(n,this[a]=e,e.$=r);e._=t}function removeAll(){var e=new RegExp("^__on([^.]+)"+R.requote(n)+"$"),t;for(var r in this){if(t=r.match(e)){var a=this[r];this.removeEventListener(t[1],a,a.$);delete this[r]}}}return e?t?onAdd:onRemove:t?d3_noop:removeAll}var C=R.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(g){C.forEach(function(e){if("on"+e in g)C.remove(e)})}function d3_selection_onListener(r,a){return function(e){var t=R.event;R.event=e;a[0]=this.__data__;try{r.apply(this,a)}finally{R.event=t}}}function d3_selection_onFilter(e,t){var a=d3_selection_onListener(e,t);return function(e){var t=this,r=e.relatedTarget;if(!r||r!==t&&!(r.compareDocumentPosition(t)&8)){a.call(t,e)}}}var l,L=0;function d3_event_dragSuppress(e){var r=".dragsuppress-"+ ++L,a="click"+r,n=R.select(d3_window(e)).on("touchmove"+r,d3_eventPreventDefault).on("dragstart"+r,d3_eventPreventDefault).on("selectstart"+r,d3_eventPreventDefault);if(l==null){l="onselectstart"in e?false:d3_vendorSymbol(e.style,"userSelect")}if(l){var i=d3_documentElement(e).style,o=i[l];i[l]="none"}return function(e){n.on(r,null);if(l)i[l]=o;if(e){var t=function(){n.on(a,null)};n.on(a,function(){d3_eventPreventDefault();t()},true);setTimeout(t,0)}}}R.mouse=function(e){return d3_mousePoint(e,d3_eventSource())};var D=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function d3_mousePoint(e,t){if(t.changedTouches)t=t.changedTouches[0];var r=e.ownerSVGElement||e;if(r.createSVGPoint){var a=r.createSVGPoint();if(D<0){var n=d3_window(e);if(n.scrollX||n.scrollY){r=R.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=r[0][0].getScreenCTM();D=!(i.f||i.e);r.remove()}}if(D)a.x=t.pageX,a.y=t.pageY;else a.x=t.clientX,a.y=t.clientY;a=a.matrixTransform(e.getScreenCTM().inverse());return[a.x,a.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}R.touch=function(e,t,r){if(arguments.length<3)r=t,t=d3_eventSource().changedTouches;if(t)for(var a=0,n=t.length,i;a<n;++a){if((i=t[a]).identifier===r){return d3_mousePoint(e,i)}}};R.behavior.drag=function(){var g=d3_eventDispatch(drag,"drag","dragstart","dragend"),m=null,e=dragstart(d3_noop,R.mouse,d3_window,"mousemove","mouseup"),t=dragstart(d3_behavior_dragTouchId,R.touch,d3_identity,"touchmove","touchend");function drag(){this.on("mousedown.drag",e).on("touchstart.drag",t)}function dragstart(f,d,v,h,p){return function(){var e=this,t=R.event.target.correspondingElement||R.event.target,a=e.parentNode,n=g.of(e,arguments),i=0,o=f(),r=".drag"+(o==null?"":"-"+o),l,s=R.select(v(t)).on(h+r,moved).on(p+r,ended),c=d3_event_dragSuppress(t),u=d(a,o);if(m){l=m.apply(e,arguments);l=[l.x-u[0],l.y-u[1]]}else{l=[0,0]}n({type:"dragstart"});function moved(){var e=d(a,o),t,r;if(!e)return;t=e[0]-u[0];r=e[1]-u[1];i|=t|r;u=e;n({type:"drag",x:e[0]+l[0],y:e[1]+l[1],dx:t,dy:r})}function ended(){if(!d(a,o))return;s.on(h+r,null).on(p+r,null);c(i);n({type:"dragend"})}}}drag.origin=function(e){if(!arguments.length)return m;m=e;return drag};return R.rebind(drag,g,"on")};function d3_behavior_dragTouchId(){return R.event.changedTouches[0].identifier}R.touches=function(r,e){if(arguments.length<2)e=d3_eventSource().touches;return e?f(e).map(function(e){var t=d3_mousePoint(r,e);t.identifier=e.identifier;return t}):[]};var G=1e-6,O=G*G,q=Math.PI,P=2*q,W=P-G,Z=q/2,I=q/180,F=180/q;function d3_sgn(e){return e>0?1:e<0?-1:0}function d3_cross2d(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(t[1]-e[1])*(r[0]-e[0])}function d3_acos(e){return e>1?0:e<-1?q:Math.acos(e)}function d3_asin(e){return e>1?Z:e<-1?-Z:Math.asin(e)}function d3_sinh(e){return((e=Math.exp(e))-1/e)/2}function d3_cosh(e){return((e=Math.exp(e))+1/e)/2}function d3_tanh(e){return((e=Math.exp(2*e))-1)/(e+1)}function d3_haversin(e){return(e=Math.sin(e/2))*e}var N=Math.SQRT2,E=2,z=4;R.interpolateZoom=function(e,t){var n=e[0],i=e[1],o=e[2],r=t[0],a=t[1],l=t[2],s=r-n,c=a-i,u=s*s+c*c,f,d;if(u<O){d=Math.log(l/o)/N;f=function(e){return[n+e*s,i+e*c,o*Math.exp(N*e*d)]}}else{var v=Math.sqrt(u),h=(l*l-o*o+z*u)/(2*o*E*v),p=(l*l-o*o-z*u)/(2*l*E*v),g=Math.log(Math.sqrt(h*h+1)-h),m=Math.log(Math.sqrt(p*p+1)-p);d=(m-g)/N;f=function(e){var t=e*d,r=d3_cosh(g),a=o/(E*v)*(r*d3_tanh(N*t+g)-d3_sinh(g));return[n+a*s,i+a*c,o*r/d3_cosh(N*t+g)]}}f.duration=d*1e3;return f};R.behavior.zoom=function(){var m={x:0,y:0,k:1},t,s,r,c=[960,500],a=B,n=250,i=0,l="mousedown.zoom",o="mousemove.zoom",u="mouseup.zoom",f,y="touchstart.zoom",x,_=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend"),d,v,h,p;if(!j){j="onwheel"in g?(H=function(){return-R.event.deltaY*(R.event.deltaMode?120:1)},"wheel"):"onmousewheel"in g?(H=function(){return R.event.wheelDelta},"mousewheel"):(H=function(){return-R.event.detail},"MozMousePixelScroll")}function zoom(e){e.on(l,mousedowned).on(j+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(y,touchstarted)}zoom.event=function(e){e.each(function(){var l=_.of(this,arguments),t=m;if(A){R.select(this).transition().each("start.zoom",function(){m=this.__chart__||{x:0,y:0,k:1};zoomstarted(l)}).tween("zoom:zoom",function(){var a=c[0],e=c[1],n=s?s[0]:a/2,i=s?s[1]:e/2,o=R.interpolateZoom([(n-m.x)/m.k,(i-m.y)/m.k,a/m.k],[(n-t.x)/t.k,(i-t.y)/t.k,a/t.k]);return function(e){var t=o(e),r=a/t[2];this.__chart__=m={x:n-t[0]*r,y:i-t[1]*r,k:r};zoomed(l)}}).each("interrupt.zoom",function(){zoomended(l)}).each("end.zoom",function(){zoomended(l)})}else{this.__chart__=m;zoomstarted(l);zoomed(l);zoomended(l)}})};zoom.translate=function(e){if(!arguments.length)return[m.x,m.y];m={x:+e[0],y:+e[1],k:m.k};rescale();return zoom};zoom.scale=function(e){if(!arguments.length)return m.k;m={x:m.x,y:m.y,k:null};scaleTo(+e);rescale();return zoom};zoom.scaleExtent=function(e){if(!arguments.length)return a;a=e==null?B:[+e[0],+e[1]];return zoom};zoom.center=function(e){if(!arguments.length)return r;r=e&&[+e[0],+e[1]];return zoom};zoom.size=function(e){if(!arguments.length)return c;c=e&&[+e[0],+e[1]];return zoom};zoom.duration=function(e){if(!arguments.length)return n;n=+e;return zoom};zoom.x=function(e){if(!arguments.length)return v;v=e;d=e.copy();m={x:0,y:0,k:1};return zoom};zoom.y=function(e){if(!arguments.length)return p;p=e;h=e.copy();m={x:0,y:0,k:1};return zoom};function location(e){return[(e[0]-m.x)/m.k,(e[1]-m.y)/m.k]}function point(e){return[e[0]*m.k+m.x,e[1]*m.k+m.y]}function scaleTo(e){m.k=Math.max(a[0],Math.min(a[1],e))}function translateTo(e,t){t=point(t);m.x+=e[0]-t[0];m.y+=e[1]-t[1]}function zoomTo(e,t,r,a){e.__chart__={x:m.x,y:m.y,k:m.k};scaleTo(Math.pow(2,a));translateTo(s=t,r);e=R.select(e);if(n>0)e=e.transition().duration(n);e.call(zoom.event)}function rescale(){if(v)v.domain(d.range().map(function(e){return(e-m.x)/m.k}).map(d.invert));if(p)p.domain(h.range().map(function(e){return(e-m.y)/m.k}).map(h.invert))}function zoomstarted(e){if(!i++)e({type:"zoomstart"})}function zoomed(e){rescale();e({type:"zoom",scale:m.k,translate:[m.x,m.y]})}function zoomended(e){if(!--i)e({type:"zoomend"}),s=null}function mousedowned(){var e=this,t=_.of(e,arguments),r=0,a=R.select(d3_window(e)).on(o,moved).on(u,ended),n=location(R.mouse(e)),i=d3_event_dragSuppress(e);He.call(e);zoomstarted(t);function moved(){r=1;translateTo(R.mouse(e),n);zoomed(t)}function ended(){a.on(o,null).on(u,null);i(r);zoomended(t)}}function touchstarted(){var u=this,c=_.of(u,arguments),f={},d=0,v,n=".zoom-"+R.event.changedTouches[0].identifier,h="touchmove"+n,p="touchend"+n,g=[],i=R.select(u),o=d3_event_dragSuppress(u);started();zoomstarted(c);i.on(l,null).on(y,started);function relocate(){var e=R.touches(u);v=m.k;e.forEach(function(e){if(e.identifier in f)f[e.identifier]=location(e)});return e}function started(){var e=R.event.target;R.select(e).on(h,moved).on(p,ended);g.push(e);var t=R.event.changedTouches;for(var r=0,a=t.length;r<a;++r){f[t[r].identifier]=null}var n=relocate(),i=Date.now();if(n.length===1){if(i-x<500){var o=n[0];zoomTo(u,o,f[o.identifier],Math.floor(Math.log(m.k)/Math.LN2)+1);d3_eventPreventDefault()}x=i}else if(n.length>1){var o=n[0],l=n[1],s=o[0]-l[0],c=o[1]-l[1];d=s*s+c*c}}function moved(){var e=R.touches(u),t,r,a,n;He.call(u);for(var i=0,o=e.length;i<o;++i,n=null){a=e[i];if(n=f[a.identifier]){if(r)break;t=a,r=n}}if(n){var l=(l=a[0]-t[0])*l+(l=a[1]-t[1])*l,s=d&&Math.sqrt(l/d);t=[(t[0]+a[0])/2,(t[1]+a[1])/2];r=[(r[0]+n[0])/2,(r[1]+n[1])/2];scaleTo(s*v)}x=null;translateTo(t,r);zoomed(c)}function ended(){if(R.event.touches.length){var e=R.event.changedTouches;for(var t=0,r=e.length;t<r;++t){delete f[e[t].identifier]}for(var a in f){return void relocate()}}R.selectAll(g).on(n,null);i.on(l,mousedowned).on(y,touchstarted);o();zoomended(c)}}function mousewheeled(){var e=_.of(this,arguments);if(f)clearTimeout(f);else He.call(this),t=location(s=r||R.mouse(this)),zoomstarted(e);f=setTimeout(function(){f=null;zoomended(e)},50);d3_eventPreventDefault();scaleTo(Math.pow(2,H()*.002)*m.k);translateTo(s,t);zoomed(e)}function dblclicked(){var e=R.mouse(this),t=Math.log(m.k)/Math.LN2;zoomTo(this,e,location(e),R.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return R.rebind(zoom,_,"on")};var B=[0,Infinity],H,j;R.color=d3_color;function d3_color(){}d3_color.prototype.toString=function(){return this.rgb()+""};R.hsl=d3_hsl;function d3_hsl(e,t,r){return this instanceof d3_hsl?void(this.h=+e,this.s=+t,this.l=+r):arguments.length<2?e instanceof d3_hsl?new d3_hsl(e.h,e.s,e.l):d3_rgb_parse(""+e,d3_rgb_hsl,d3_hsl):new d3_hsl(e,t,r)}var V=d3_hsl.prototype=new d3_color;V.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);return new d3_hsl(this.h,this.s,this.l/e)};V.darker=function(e){e=Math.pow(.7,arguments.length?e:1);return new d3_hsl(this.h,this.s,e*this.l)};V.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)};function d3_hsl_rgb(e,t,r){var a,n;e=isNaN(e)?0:(e%=360)<0?e+360:e;t=isNaN(t)?0:t<0?0:t>1?1:t;r=r<0?0:r>1?1:r;n=r<=.5?r*(1+t):r+t-r*t;a=2*r-n;function v(e){if(e>360)e-=360;else if(e<0)e+=360;if(e<60)return a+(n-a)*e/60;if(e<180)return n;if(e<240)return a+(n-a)*(240-e)/60;return a}function vv(e){return Math.round(v(e)*255)}return new d3_rgb(vv(e+120),vv(e),vv(e-120))}R.hcl=d3_hcl;function d3_hcl(e,t,r){return this instanceof d3_hcl?void(this.h=+e,this.c=+t,this.l=+r):arguments.length<2?e instanceof d3_hcl?new d3_hcl(e.h,e.c,e.l):e instanceof d3_lab?d3_lab_hcl(e.l,e.a,e.b):d3_lab_hcl((e=d3_rgb_lab((e=R.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new d3_hcl(e,t,r)}var Y=d3_hcl.prototype=new d3_color;Y.brighter=function(e){return new d3_hcl(this.h,this.c,Math.min(100,this.l+U*(arguments.length?e:1)))};Y.darker=function(e){return new d3_hcl(this.h,this.c,Math.max(0,this.l-U*(arguments.length?e:1)))};Y.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()};function d3_hcl_lab(e,t,r){if(isNaN(e))e=0;if(isNaN(t))t=0;return new d3_lab(r,Math.cos(e*=I)*t,Math.sin(e)*t)}R.lab=d3_lab;function d3_lab(e,t,r){return this instanceof d3_lab?void(this.l=+e,this.a=+t,this.b=+r):arguments.length<2?e instanceof d3_lab?new d3_lab(e.l,e.a,e.b):e instanceof d3_hcl?d3_hcl_lab(e.h,e.c,e.l):d3_rgb_lab((e=d3_rgb(e)).r,e.g,e.b):new d3_lab(e,t,r)}var U=18;var X=.95047,J=1,K=1.08883;var Q=d3_lab.prototype=new d3_color;Q.brighter=function(e){return new d3_lab(Math.min(100,this.l+U*(arguments.length?e:1)),this.a,this.b)};Q.darker=function(e){return new d3_lab(Math.max(0,this.l-U*(arguments.length?e:1)),this.a,this.b)};Q.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)};function d3_lab_rgb(e,t,r){var a=(e+16)/116,n=a+t/500,i=a-r/200;n=d3_lab_xyz(n)*X;a=d3_lab_xyz(a)*J;i=d3_lab_xyz(i)*K;return new d3_rgb(d3_xyz_rgb(3.2404542*n-1.5371385*a-.4985314*i),d3_xyz_rgb(-.969266*n+1.8760108*a+.041556*i),d3_xyz_rgb(.0556434*n-.2040259*a+1.0572252*i))}function d3_lab_hcl(e,t,r){return e>0?new d3_hcl(Math.atan2(r,t)*F,Math.sqrt(t*t+r*r),e):new d3_hcl(NaN,NaN,e)}function d3_lab_xyz(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function d3_xyz_lab(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function d3_xyz_rgb(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}R.rgb=d3_rgb;function d3_rgb(e,t,r){return this instanceof d3_rgb?void(this.r=~~e,this.g=~~t,this.b=~~r):arguments.length<2?e instanceof d3_rgb?new d3_rgb(e.r,e.g,e.b):d3_rgb_parse(""+e,d3_rgb,d3_hsl_rgb):new d3_rgb(e,t,r)}function d3_rgbNumber(e){return new d3_rgb(e>>16,e>>8&255,e&255)}function d3_rgbString(e){return d3_rgbNumber(e)+""}var $=d3_rgb.prototype=new d3_color;$.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,r=this.g,a=this.b,n=30;if(!t&&!r&&!a)return new d3_rgb(n,n,n);if(t&&t<n)t=n;if(r&&r<n)r=n;if(a&&a<n)a=n;return new d3_rgb(Math.min(255,t/e),Math.min(255,r/e),Math.min(255,a/e))};$.darker=function(e){e=Math.pow(.7,arguments.length?e:1);return new d3_rgb(e*this.r,e*this.g,e*this.b)};$.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)};$.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};function d3_rgb_hex(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function d3_rgb_parse(e,t,r){var a=0,n=0,i=0,o,l,s;o=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase());if(o){l=o[2].split(",");switch(o[1]){case"hsl":{return r(parseFloat(l[0]),parseFloat(l[1])/100,parseFloat(l[2])/100)}case"rgb":{return t(d3_rgb_parseNumber(l[0]),d3_rgb_parseNumber(l[1]),d3_rgb_parseNumber(l[2]))}}}if(s=ee.get(e)){return t(s.r,s.g,s.b)}if(e!=null&&e.charAt(0)==="#"&&!isNaN(s=parseInt(e.slice(1),16))){if(e.length===4){a=(s&3840)>>4;a=a>>4|a;n=s&240;n=n>>4|n;i=s&15;i=i<<4|i}else if(e.length===7){a=(s&16711680)>>16;n=(s&65280)>>8;i=s&255}}return t(a,n,i)}function d3_rgb_hsl(e,t,r){var a=Math.min(e/=255,t/=255,r/=255),n=Math.max(e,t,r),i=n-a,o,l,s=(n+a)/2;if(i){l=s<.5?i/(n+a):i/(2-n-a);if(e==n)o=(t-r)/i+(t<r?6:0);else if(t==n)o=(r-e)/i+2;else o=(e-t)/i+4;o*=60}else{o=NaN;l=s>0&&s<1?0:o}return new d3_hsl(o,l,s)}function d3_rgb_lab(e,t,r){e=d3_rgb_xyz(e);t=d3_rgb_xyz(t);r=d3_rgb_xyz(r);var a=d3_xyz_lab((.4124564*e+.3575761*t+.1804375*r)/X),n=d3_xyz_lab((.2126729*e+.7151522*t+.072175*r)/J),i=d3_xyz_lab((.0193339*e+.119192*t+.9503041*r)/K);return d3_lab(116*n-16,500*(a-n),200*(n-i))}function d3_rgb_xyz(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function d3_rgb_parseNumber(e){var t=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(t*2.55):t}var ee=R.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ee.forEach(function(e,t){ee.set(e,d3_rgbNumber(t))});function d3_functor(e){return typeof e==="function"?e:function(){return e}}R.functor=d3_functor;R.xhr=d3_xhrType(d3_identity);function d3_xhrType(a){return function(e,t,r){if(arguments.length===2&&typeof t==="function")r=t,t=null;return d3_xhr(e,t,a,r)}}function d3_xhr(n,i,r,e){var o={},l=R.dispatch("beforesend","progress","load","error"),s={},c=new XMLHttpRequest,u=null;if(self.XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(n))c=new XDomainRequest;"onload"in c?c.onload=c.onerror=respond:c.onreadystatechange=function(){c.readyState>3&&respond()};function respond(){var e=c.status,t;if(!e&&d3_xhrHasResponse(c)||e>=200&&e<300||e===304){try{t=r.call(o,c)}catch(Ze){l.error.call(o,Ze);return}l.load.call(o,t)}else{l.error.call(o,c)}}c.onprogress=function(e){var t=R.event;R.event=e;try{l.progress.call(o,c)}finally{R.event=t}};o.header=function(e,t){e=(e+"").toLowerCase();if(arguments.length<2)return s[e];if(t==null)delete s[e];else s[e]=t+"";return o};o.mimeType=function(e){if(!arguments.length)return i;i=e==null?null:e+"";return o};o.responseType=function(e){if(!arguments.length)return u;u=e;return o};o.response=function(e){r=e;return o};["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(f(arguments)))}});o.send=function(e,t,r){if(arguments.length===2&&typeof t==="function")r=t,t=null;c.open(e,n,true);if(i!=null&&!("accept"in s))s["accept"]=i+",*/*";if(c.setRequestHeader)for(var a in s)c.setRequestHeader(a,s[a]);if(i!=null&&c.overrideMimeType)c.overrideMimeType(i);if(u!=null)c.responseType=u;if(r!=null)o.on("error",r).on("load",function(e){r(null,e)});l.beforesend.call(o,c);c.send(t==null?null:t);return o};o.abort=function(){c.abort();return o};R.rebind(o,l,"on");return e==null?o:o.get(d3_xhr_fixCallback(e))}function d3_xhr_fixCallback(r){return r.length===1?function(e,t){r(e==null?t:null)}:r}function d3_xhrHasResponse(e){var t=e.responseType;return t&&t!=="text"?e.response:e.responseText}R.dsv=function(n,i){var t=new RegExp('["'+n+"\n]"),f=n.charCodeAt(0);function dsv(e,t,r){if(arguments.length<3)r=t,t=null;var a=d3_xhr(e,i,t==null?response:typedResponse(t),r);a.row=function(e){return arguments.length?a.response((t=e)==null?response:typedResponse(e)):t};return a}function response(e){return dsv.parse(e.responseText)}function typedResponse(t){return function(e){return dsv.parse(e.responseText,t)}}dsv.parse=function(e,a){var t;return dsv.parseRows(e,function(n,e){if(t)return t(n,e-1);var r=function(e){var t={};var r=n.length;for(var a=0;a<r;++a){t[n[a]]=e[a]}return t};t=a?function(e,t){return a(r(e),t)}:r})};dsv.parseRows=function(n,e){var i={},o={},t=[],l=n.length,s=0,r=0,a,c;function token(){if(s>=l)return o;if(c)return c=false,i;var e=s;if(n.charCodeAt(e)===34){var t=e;while(t++<l){if(n.charCodeAt(t)===34){if(n.charCodeAt(t+1)!==34)break;++t}}s=t+2;var r=n.charCodeAt(t+1);if(r===13){c=true;if(n.charCodeAt(t+2)===10)++s}else if(r===10){c=true}return n.slice(e+1,t).replace(/""/g,'"')}while(s<l){var r=n.charCodeAt(s++),a=1;if(r===10)c=true;else if(r===13){c=true;if(n.charCodeAt(s)===10)++s,++a}else if(r!==f)continue;return n.slice(e,s-a)}return n.slice(e)}while((a=token())!==o){var u=[];while(a!==i&&a!==o){u.push(a);a=token()}if(e&&(u=e(u,r++))==null)continue;t.push(u)}return t};dsv.format=function(e){if(Array.isArray(e[0]))return dsv.formatRows(e);var r=new d3_Set,a=[];e.forEach(function(e){for(var t in e){if(!r.has(t)){a.push(r.add(t))}}});return[a.map(formatValue).join(n)].concat(e.map(function(t){return a.map(function(e){return formatValue(t[e])}).join(n)})).join("\n")};dsv.formatRows=function(e){return e.map(formatRow).join("\n")};function formatRow(e){return e.map(formatValue).join(n)}function formatValue(e){return t.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return dsv};R.csv=R.dsv(",","text/csv");R.tsv=R.dsv("\t","text/tab-separated-values");var te,re,ae,ne,ie=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};R.timer=function(){d3_timer.apply(this,arguments)};function d3_timer(e,t,r){var a=arguments.length;if(a<2)t=0;if(a<3)r=Date.now();var n=r+t,i={c:e,t:n,n:null};if(re)re.n=i;else te=i;re=i;if(!ae){ne=clearTimeout(ne);ae=1;ie(d3_timer_step)}return i}function d3_timer_step(){var e=d3_timer_mark(),t=d3_timer_sweep()-e;if(t>24){if(isFinite(t)){clearTimeout(ne);ne=setTimeout(d3_timer_step,t)}ae=0}else{ae=1;ie(d3_timer_step)}}R.timer.flush=function(){d3_timer_mark();d3_timer_sweep()};function d3_timer_mark(){var e=Date.now(),t=te;while(t){if(e>=t.t&&t.c(e-t.t))t.c=null;t=t.n}return e}function d3_timer_sweep(){var e,t=te,r=Infinity;while(t){if(t.c){if(t.t<r)r=t.t;t=(e=t).n}else{t=e?e.n=t.n:te=t.n}}re=e;return r}R.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};R.geom={};function d3_geom_pointX(e){return e[0]}function d3_geom_pointY(e){return e[1]}R.geom.hull=function(e){var d=d3_geom_pointX,v=d3_geom_pointY;if(arguments.length)return hull(e);function hull(e){if(e.length<3)return[];var t=d3_functor(d),r=d3_functor(v),a,n=e.length,i=[],o=[];for(a=0;a<n;a++){i.push([+t.call(this,e[a],a),+r.call(this,e[a],a),a])}i.sort(d3_geom_hullOrder);for(a=0;a<n;a++)o.push([i[a][0],-i[a][1]]);var l=d3_geom_hullUpper(i),s=d3_geom_hullUpper(o);var c=s[0]===l[0],u=s[s.length-1]===l[l.length-1],f=[];for(a=l.length-1;a>=0;--a)f.push(e[i[l[a]][2]]);for(a=+c;a<s.length-u;++a)f.push(e[i[s[a]][2]]);return f}hull.x=function(e){return arguments.length?(d=e,hull):d};hull.y=function(e){return arguments.length?(v=e,hull):v};return hull};function d3_geom_hullUpper(e){var t=e.length,r=[0,1],a=2;for(var n=2;n<t;n++){while(a>1&&d3_cross2d(e[r[a-2]],e[r[a-1]],e[n])<=0)--a;r[a++]=n}return r.slice(0,a)}function d3_geom_hullOrder(e,t){return e[0]-t[0]||e[1]-t[1]}R.geom.polygon=function(e){_(e,oe);return e};var oe=R.geom.polygon.prototype=[];oe.area=function(){var e=-1,t=this.length,r,a=this[t-1],n=0;while(++e<t){r=a;a=this[e];n+=r[1]*a[0]-r[0]*a[1]}return n*.5};oe.centroid=function(e){var t=-1,r=this.length,a=0,n=0,i,o=this[r-1],l;if(!arguments.length)e=-1/(6*this.area());while(++t<r){i=o;o=this[t];l=i[0]*o[1]-o[0]*i[1];a+=(i[0]+o[0])*l;n+=(i[1]+o[1])*l}return[a*e,n*e]};oe.clip=function(e){var t,r=d3_geom_polygonClosed(e),a=-1,n=this.length-d3_geom_polygonClosed(this),i,o,l=this[n-1],s,c,u;while(++a<n){t=e.slice();e.length=0;s=this[a];c=t[(o=t.length-r)-1];i=-1;while(++i<o){u=t[i];if(d3_geom_polygonInside(u,l,s)){if(!d3_geom_polygonInside(c,l,s)){e.push(d3_geom_polygonIntersect(c,u,l,s))}e.push(u)}else if(d3_geom_polygonInside(c,l,s)){e.push(d3_geom_polygonIntersect(c,u,l,s))}c=u}if(r)e.push(e[0]);l=s}return e};function d3_geom_polygonInside(e,t,r){return(r[0]-t[0])*(e[1]-t[1])<(r[1]-t[1])*(e[0]-t[0])}function d3_geom_polygonIntersect(e,t,r,a){var n=e[0],i=r[0],o=t[0]-n,l=a[0]-i,s=e[1],c=r[1],u=t[1]-s,f=a[1]-c,d=(l*(s-c)-f*(n-i))/(f*o-l*u);return[n+d*o,s+d*u]}function d3_geom_polygonClosed(e){var t=e[0],r=e[e.length-1];return!(t[0]-r[0]||t[1]-r[1])}var le,m,se,ce=[],ue,fe,de=[];function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this);this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(e){var t=ce.pop()||new d3_geom_voronoiBeach;t.site=e;return t}function d3_geom_voronoiDetachBeach(e){d3_geom_voronoiDetachCircle(e);se.remove(e);ce.push(e);d3_geom_voronoiRedBlackNode(e)}function d3_geom_voronoiRemoveBeach(e){var t=e.circle,r=t.x,a=t.cy,n={x:r,y:a},i=e.P,o=e.N,l=[e];d3_geom_voronoiDetachBeach(e);var s=i;while(s.circle&&k(r-s.circle.x)<G&&k(a-s.circle.cy)<G){i=s.P;l.unshift(s);d3_geom_voronoiDetachBeach(s);s=i}l.unshift(s);d3_geom_voronoiDetachCircle(s);var c=o;while(c.circle&&k(r-c.circle.x)<G&&k(a-c.circle.cy)<G){o=c.N;l.push(c);d3_geom_voronoiDetachBeach(c);c=o}l.push(c);d3_geom_voronoiDetachCircle(c);var u=l.length,f;for(f=1;f<u;++f){c=l[f];s=l[f-1];d3_geom_voronoiSetEdgeEnd(c.edge,s.site,c.site,n)}s=l[0];c=l[u-1];c.edge=d3_geom_voronoiCreateEdge(s.site,c.site,null,n);d3_geom_voronoiAttachCircle(s);d3_geom_voronoiAttachCircle(c)}function d3_geom_voronoiAddBeach(e){var t=e.x,r=e.y,a,n,i,o,l=se._;while(l){i=d3_geom_voronoiLeftBreakPoint(l,r)-t;if(i>G)l=l.L;else{o=t-d3_geom_voronoiRightBreakPoint(l,r);if(o>G){if(!l.R){a=l;break}l=l.R}else{if(i>-G){a=l.P;n=l}else if(o>-G){a=l;n=l.N}else{a=n=l}break}}}var s=d3_geom_voronoiCreateBeach(e);se.insert(a,s);if(!a&&!n)return;if(a===n){d3_geom_voronoiDetachCircle(a);n=d3_geom_voronoiCreateBeach(a.site);se.insert(s,n);s.edge=n.edge=d3_geom_voronoiCreateEdge(a.site,s.site);d3_geom_voronoiAttachCircle(a);d3_geom_voronoiAttachCircle(n);return}if(!n){s.edge=d3_geom_voronoiCreateEdge(a.site,s.site);return}d3_geom_voronoiDetachCircle(a);d3_geom_voronoiDetachCircle(n);var c=a.site,u=c.x,f=c.y,d=e.x-u,v=e.y-f,h=n.site,p=h.x-u,g=h.y-f,m=2*(d*g-v*p),y=d*d+v*v,x=p*p+g*g,_={x:(g*y-v*x)/m+u,y:(d*x-p*y)/m+f};d3_geom_voronoiSetEdgeEnd(n.edge,c,h,_);s.edge=d3_geom_voronoiCreateEdge(c,e,null,_);n.edge=d3_geom_voronoiCreateEdge(e,h,null,_);d3_geom_voronoiAttachCircle(a);d3_geom_voronoiAttachCircle(n)}function d3_geom_voronoiLeftBreakPoint(e,t){var r=e.site,a=r.x,n=r.y,i=n-t;if(!i)return a;var o=e.P;if(!o)return-Infinity;r=o.site;var l=r.x,s=r.y,c=s-t;if(!c)return l;var u=l-a,f=1/i-1/c,d=u/c;if(f)return(-d+Math.sqrt(d*d-2*f*(u*u/(-2*c)-s+c/2+n-i/2)))/f+a;return(a+l)/2}function d3_geom_voronoiRightBreakPoint(e,t){var r=e.N;if(r)return d3_geom_voronoiLeftBreakPoint(r,t);var a=e.site;return a.y===t?a.x:Infinity}function d3_geom_voronoiCell(e){this.site=e;this.edges=[]}d3_geom_voronoiCell.prototype.prepare=function(){var e=this.edges,t=e.length,r;while(t--){r=e[t].edge;if(!r.b||!r.a)e.splice(t,1)}e.sort(d3_geom_voronoiHalfEdgeOrder);return e.length};function d3_geom_voronoiCloseCells(e){var t=e[0][0],r=e[1][0],a=e[0][1],n=e[1][1],i,o,l,s,c=m,u=c.length,f,d,v,h,p,g;while(u--){f=c[u];if(!f||!f.prepare())continue;v=f.edges;h=v.length;d=0;while(d<h){g=v[d].end(),l=g.x,s=g.y;p=v[++d%h].start(),i=p.x,o=p.y;if(k(l-i)>G||k(s-o)>G){v.splice(d,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(f.site,g,k(l-t)<G&&n-s>G?{x:t,y:k(i-t)<G?o:n}:k(s-n)<G&&r-l>G?{x:k(o-n)<G?i:r,y:n}:k(l-r)<G&&s-a>G?{x:r,y:k(i-r)<G?o:a}:k(s-a)<G&&l-t>G?{x:k(o-a)<G?i:t,y:a}:null),f.site,null));++h}}}}function d3_geom_voronoiHalfEdgeOrder(e,t){return t.angle-e.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this);this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(e){var t=e.P,r=e.N;if(!t||!r)return;var a=t.site,n=e.site,i=r.site;if(a===i)return;var o=n.x,l=n.y,s=a.x-o,c=a.y-l,u=i.x-o,f=i.y-l;var d=2*(s*f-c*u);if(d>=-O)return;var v=s*s+c*c,h=u*u+f*f,p=(f*v-c*h)/d,g=(s*h-u*v)/d,f=g+l;var m=de.pop()||new d3_geom_voronoiCircle;m.arc=e;m.site=n;m.x=p+o;m.y=f+Math.sqrt(p*p+g*g);m.cy=f;e.circle=m;var y=null,x=fe._;while(x){if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(x.L)x=x.L;else{y=x.P;break}}else{if(x.R)x=x.R;else{y=x;break}}}fe.insert(y,m);if(!y)ue=m}function d3_geom_voronoiDetachCircle(e){var t=e.circle;if(t){if(!t.P)ue=t.N;fe.remove(t);de.push(t);d3_geom_voronoiRedBlackNode(t);e.circle=null}}function d3_geom_clipLine(d,v,h,p){return function(e){var t=e.a,r=e.b,a=t.x,n=t.y,i=r.x,o=r.y,l=0,s=1,c=i-a,u=o-n,f;f=d-a;if(!c&&f>0)return;f/=c;if(c<0){if(f<l)return;if(f<s)s=f}else if(c>0){if(f>s)return;if(f>l)l=f}f=h-a;if(!c&&f<0)return;f/=c;if(c<0){if(f>s)return;if(f>l)l=f}else if(c>0){if(f<l)return;if(f<s)s=f}f=v-n;if(!u&&f>0)return;f/=u;if(u<0){if(f<l)return;if(f<s)s=f}else if(u>0){if(f>s)return;if(f>l)l=f}f=p-n;if(!u&&f<0)return;f/=u;if(u<0){if(f>s)return;if(f>l)l=f}else if(u>0){if(f<l)return;if(f<s)s=f}if(l>0)e.a={x:a+l*c,y:n+l*u};if(s<1)e.b={x:a+s*c,y:n+s*u};return e}}function d3_geom_voronoiClipEdges(e){var t=le,r=d3_geom_clipLine(e[0][0],e[0][1],e[1][0],e[1][1]),a=t.length,n;while(a--){n=t[a];if(!d3_geom_voronoiConnectEdge(n,e)||!r(n)||k(n.a.x-n.b.x)<G&&k(n.a.y-n.b.y)<G){n.a=n.b=null;t.splice(a,1)}}}function d3_geom_voronoiConnectEdge(e,t){var r=e.b;if(r)return true;var a=e.a,n=t[0][0],i=t[1][0],o=t[0][1],l=t[1][1],s=e.l,c=e.r,u=s.x,f=s.y,d=c.x,v=c.y,h=(u+d)/2,p=(f+v)/2,g,m;if(v===f){if(h<n||h>=i)return;if(u>d){if(!a)a={x:h,y:o};else if(a.y>=l)return;r={x:h,y:l}}else{if(!a)a={x:h,y:l};else if(a.y<o)return;r={x:h,y:o}}}else{g=(u-d)/(v-f);m=p-g*h;if(g<-1||g>1){if(u>d){if(!a)a={x:(o-m)/g,y:o};else if(a.y>=l)return;r={x:(l-m)/g,y:l}}else{if(!a)a={x:(l-m)/g,y:l};else if(a.y<o)return;r={x:(o-m)/g,y:o}}}else{if(f<v){if(!a)a={x:n,y:g*n+m};else if(a.x>=i)return;r={x:i,y:g*i+m}}else{if(!a)a={x:i,y:g*i+m};else if(a.x<n)return;r={x:n,y:g*n+m}}}}e.a=a;e.b=r;return true}function d3_geom_voronoiEdge(e,t){this.l=e;this.r=t;this.a=this.b=null}function d3_geom_voronoiCreateEdge(e,t,r,a){var n=new d3_geom_voronoiEdge(e,t);le.push(n);if(r)d3_geom_voronoiSetEdgeEnd(n,e,t,r);if(a)d3_geom_voronoiSetEdgeEnd(n,t,e,a);m[e.i].edges.push(new d3_geom_voronoiHalfEdge(n,e,t));m[t.i].edges.push(new d3_geom_voronoiHalfEdge(n,t,e));return n}function d3_geom_voronoiCreateBorderEdge(e,t,r){var a=new d3_geom_voronoiEdge(e,null);a.a=t;a.b=r;le.push(a);return a}function d3_geom_voronoiSetEdgeEnd(e,t,r,a){if(!e.a&&!e.b){e.a=a;e.l=t;e.r=r}else if(e.l===r){e.b=a}else{e.a=a}}function d3_geom_voronoiHalfEdge(e,t,r){var a=e.a,n=e.b;this.edge=e;this.site=t;this.angle=r?Math.atan2(r.y-t.y,r.x-t.x):e.l===t?Math.atan2(n.x-a.x,a.y-n.y):Math.atan2(a.x-n.x,n.y-a.y)}d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(e){e.U=e.C=e.L=e.R=e.P=e.N=null}d3_geom_voronoiRedBlackTree.prototype={insert:function(e,t){var r,a,n;if(e){t.P=e;t.N=e.N;if(e.N)e.N.P=t;e.N=t;if(e.R){e=e.R;while(e.L)e=e.L;e.L=t}else{e.R=t}r=e}else if(this._){e=d3_geom_voronoiRedBlackFirst(this._);t.P=null;t.N=e;e.P=e.L=t;r=e}else{t.P=t.N=null;this._=t;r=null}t.L=t.R=null;t.U=r;t.C=true;e=t;while(r&&r.C){a=r.U;if(r===a.L){n=a.R;if(n&&n.C){r.C=n.C=false;a.C=true;e=a}else{if(e===r.R){d3_geom_voronoiRedBlackRotateLeft(this,r);e=r;r=e.U}r.C=false;a.C=true;d3_geom_voronoiRedBlackRotateRight(this,a)}}else{n=a.L;if(n&&n.C){r.C=n.C=false;a.C=true;e=a}else{if(e===r.L){d3_geom_voronoiRedBlackRotateRight(this,r);e=r;r=e.U}r.C=false;a.C=true;d3_geom_voronoiRedBlackRotateLeft(this,a)}}r=e.U}this._.C=false},remove:function(e){if(e.N)e.N.P=e.P;if(e.P)e.P.N=e.N;e.N=e.P=null;var t=e.U,r,a=e.L,n=e.R,i,o;if(!a)i=n;else if(!n)i=a;else i=d3_geom_voronoiRedBlackFirst(n);if(t){if(t.L===e)t.L=i;else t.R=i}else{this._=i}if(a&&n){o=i.C;i.C=e.C;i.L=a;a.U=i;if(i!==n){t=i.U;i.U=e.U;e=i.R;t.L=e;i.R=n;n.U=i}else{i.U=t;t=i;e=i.R}}else{o=e.C;e=i}if(e)e.U=t;if(o)return;if(e&&e.C){e.C=false;return}do{if(e===this._)break;if(e===t.L){r=t.R;if(r.C){r.C=false;t.C=true;d3_geom_voronoiRedBlackRotateLeft(this,t);r=t.R}if(r.L&&r.L.C||r.R&&r.R.C){if(!r.R||!r.R.C){r.L.C=false;r.C=true;d3_geom_voronoiRedBlackRotateRight(this,r);r=t.R}r.C=t.C;t.C=r.R.C=false;d3_geom_voronoiRedBlackRotateLeft(this,t);e=this._;break}}else{r=t.L;if(r.C){r.C=false;t.C=true;d3_geom_voronoiRedBlackRotateRight(this,t);r=t.L}if(r.L&&r.L.C||r.R&&r.R.C){if(!r.L||!r.L.C){r.R.C=false;r.C=true;d3_geom_voronoiRedBlackRotateLeft(this,r);r=t.L}r.C=t.C;t.C=r.L.C=false;d3_geom_voronoiRedBlackRotateRight(this,t);e=this._;break}}r.C=true;e=t;t=t.U}while(!e.C);if(e)e.C=false}};function d3_geom_voronoiRedBlackRotateLeft(e,t){var r=t,a=t.R,n=r.U;if(n){if(n.L===r)n.L=a;else n.R=a}else{e._=a}a.U=n;r.U=a;r.R=a.L;if(r.R)r.R.U=r;a.L=r}function d3_geom_voronoiRedBlackRotateRight(e,t){var r=t,a=t.L,n=r.U;if(n){if(n.L===r)n.L=a;else n.R=a}else{e._=a}a.U=n;r.U=a;r.L=a.R;if(r.L)r.L.U=r;a.R=r}function d3_geom_voronoiRedBlackFirst(e){while(e.L)e=e.L;return e}function d3_geom_voronoi(e,t){var r=e.sort(d3_geom_voronoiVertexOrder).pop(),a,n,i;le=[];m=new Array(e.length);se=new d3_geom_voronoiRedBlackTree;fe=new d3_geom_voronoiRedBlackTree;while(true){i=ue;if(r&&(!i||r.y<i.y||r.y===i.y&&r.x<i.x)){if(r.x!==a||r.y!==n){m[r.i]=new d3_geom_voronoiCell(r);d3_geom_voronoiAddBeach(r);a=r.x,n=r.y}r=e.pop()}else if(i){d3_geom_voronoiRemoveBeach(i.arc)}else{break}}if(t)d3_geom_voronoiClipEdges(t),d3_geom_voronoiCloseCells(t);var o={cells:m,edges:le};se=fe=le=m=null;return o}function d3_geom_voronoiVertexOrder(e,t){return t.y-e.y||t.x-e.x}R.geom.voronoi=function(e){var t=d3_geom_pointX,r=d3_geom_pointY,a=t,n=r,f=ve;if(e)return voronoi(e);function voronoi(i){var o=new Array(i.length),l=f[0][0],s=f[0][1],c=f[1][0],u=f[1][1];d3_geom_voronoi(sites(i),f).cells.forEach(function(e,t){var r=e.edges,a=e.site,n=o[t]=r.length?r.map(function(e){var t=e.start();return[t.x,t.y]}):a.x>=l&&a.x<=c&&a.y>=s&&a.y<=u?[[l,u],[c,u],[c,s],[l,s]]:[];n.point=i[t]});return o}function sites(e){return e.map(function(e,t){return{x:Math.round(a(e,t)/G)*G,y:Math.round(n(e,t)/G)*G,i:t}})}voronoi.links=function(t){return d3_geom_voronoi(sites(t)).edges.filter(function(e){return e.l&&e.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})};voronoi.triangles=function(u){var f=[];d3_geom_voronoi(sites(u)).cells.forEach(function(e,t){var r=e.site,a=e.edges.sort(d3_geom_voronoiHalfEdgeOrder),n=-1,i=a.length,o,l,s=a[i-1].edge,c=s.l===r?s.r:s.l;while(++n<i){o=s;l=c;s=a[n].edge;c=s.l===r?s.r:s.l;if(t<l.i&&t<c.i&&d3_geom_voronoiTriangleArea(r,l,c)<0){f.push([u[t],u[l.i],u[c.i]])}}});return f};voronoi.x=function(e){return arguments.length?(a=d3_functor(t=e),voronoi):t};voronoi.y=function(e){return arguments.length?(n=d3_functor(r=e),voronoi):r};voronoi.clipExtent=function(e){if(!arguments.length)return f===ve?null:f;f=e==null?ve:e;return voronoi};voronoi.size=function(e){if(!arguments.length)return f===ve?null:f&&f[1];return voronoi.clipExtent(e&&[[0,0],e])};return voronoi};var ve=[[-1e6,-1e6],[1e6,1e6]];function d3_geom_voronoiTriangleArea(e,t,r){return(e.x-r.x)*(t.y-e.y)-(e.x-t.x)*(r.y-e.y)}R.geom.delaunay=function(e){return R.geom.voronoi().triangles(e)};R.geom.quadtree=function(e,m,y,x,_){var b=d3_geom_pointX,w=d3_geom_pointY,T;if(T=arguments.length){b=d3_geom_quadtreeCompatX;w=d3_geom_quadtreeCompatY;if(T===3){_=y;x=m;y=m=0}return quadtree(e)}function quadtree(e){var t,r=d3_functor(b),a=d3_functor(w),n,i,o,l,s,c,u,f;if(m!=null){s=m,c=y,u=x,f=_}else{u=f=-(s=c=Infinity);n=[],i=[];l=e.length;if(T)for(o=0;o<l;++o){t=e[o];if(t.x<s)s=t.x;if(t.y<c)c=t.y;if(t.x>u)u=t.x;if(t.y>f)f=t.y;n.push(t.x);i.push(t.y)}else for(o=0;o<l;++o){var d=+r(t=e[o],o),v=+a(t,o);if(d<s)s=d;if(v<c)c=v;if(d>u)u=d;if(v>f)f=v;n.push(d);i.push(v)}}var h=u-s,p=f-c;if(h>p)f=c+h;else u=s+p;function insert(e,t,r,a,n,i,o,l){if(isNaN(r)||isNaN(a))return;if(e.leaf){var s=e.x,c=e.y;if(s!=null){if(k(s-r)+k(c-a)<.01){insertChild(e,t,r,a,n,i,o,l)}else{var u=e.point;e.x=e.y=e.point=null;insertChild(e,u,s,c,n,i,o,l);insertChild(e,t,r,a,n,i,o,l)}}else{e.x=r,e.y=a,e.point=t}}else{insertChild(e,t,r,a,n,i,o,l)}}function insertChild(e,t,r,a,n,i,o,l){var s=(n+o)*.5,c=(i+l)*.5,u=r>=s,f=a>=c,d=f<<1|u;e.leaf=false;e=e.nodes[d]||(e.nodes[d]=d3_geom_quadtreeNode());if(u)n=s;else o=s;if(f)i=c;else l=c;insert(e,t,r,a,n,i,o,l)}var g=d3_geom_quadtreeNode();g.add=function(e){insert(g,e,+r(e,++o),+a(e,o),s,c,u,f)};g.visit=function(e){d3_geom_quadtreeVisit(e,g,s,c,u,f)};g.find=function(e){return d3_geom_quadtreeFind(g,e[0],e[1],s,c,u,f)};o=-1;if(m==null){while(++o<l){insert(g,e[o],n[o],i[o],s,c,u,f)}--o}else e.forEach(g.add);n=i=e=t=null;return g}quadtree.x=function(e){return arguments.length?(b=e,quadtree):b};quadtree.y=function(e){return arguments.length?(w=e,quadtree):w};quadtree.extent=function(e){if(!arguments.length)return m==null?null:[[m,y],[x,_]];if(e==null)m=y=x=_=null;else m=+e[0][0],y=+e[0][1],x=+e[1][0],_=+e[1][1];return quadtree};quadtree.size=function(e){if(!arguments.length)return m==null?null:[x-m,_-y];if(e==null)m=y=x=_=null;else m=y=0,x=+e[0],_=+e[1];return quadtree};return quadtree};function d3_geom_quadtreeCompatX(e){return e.x}function d3_geom_quadtreeCompatY(e){return e.y}function d3_geom_quadtreeNode(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(e,t,r,a,n,i){if(!e(t,r,a,n,i)){var o=(r+n)*.5,l=(a+i)*.5,s=t.nodes;if(s[0])d3_geom_quadtreeVisit(e,s[0],r,a,o,l);if(s[1])d3_geom_quadtreeVisit(e,s[1],o,a,n,l);if(s[2])d3_geom_quadtreeVisit(e,s[2],r,l,o,i);if(s[3])d3_geom_quadtreeVisit(e,s[3],o,l,n,i)}}function d3_geom_quadtreeFind(e,m,y,x,_,b,w){var T=Infinity,k;(function find(e,t,r,a,n){if(t>b||r>w||a<x||n<_)return;if(i=e.point){var i,o=m-e.x,l=y-e.y,s=o*o+l*l;if(s<T){var c=Math.sqrt(T=s);x=m-c,_=y-c;b=m+c,w=y+c;k=i}}var u=e.nodes,f=(t+a)*.5,d=(r+n)*.5,v=m>=f,h=y>=d;for(var p=h<<1|v,g=p+4;p<g;++p){if(e=u[p&3])switch(p&3){case 0:find(e,t,r,f,d);break;case 1:find(e,f,r,a,d);break;case 2:find(e,t,d,f,n);break;case 3:find(e,f,d,a,n);break}}})(e,x,_,b,w);return k}R.interpolateRgb=d3_interpolateRgb;function d3_interpolateRgb(e,t){e=R.rgb(e);t=R.rgb(t);var r=e.r,a=e.g,n=e.b,i=t.r-r,o=t.g-a,l=t.b-n;return function(e){return"#"+d3_rgb_hex(Math.round(r+i*e))+d3_rgb_hex(Math.round(a+o*e))+d3_rgb_hex(Math.round(n+l*e))}}R.interpolateObject=d3_interpolateObject;function d3_interpolateObject(e,t){var r={},a={},n;for(n in e){if(n in t){r[n]=d3_interpolate(e[n],t[n])}else{a[n]=e[n]}}for(n in t){if(!(n in e)){a[n]=t[n]}}return function(e){for(n in r)a[n]=r[n](e);return a}}R.interpolateNumber=d3_interpolateNumber;function d3_interpolateNumber(t,r){t=+t,r=+r;return function(e){return t*(1-e)+r*e}}R.interpolateString=d3_interpolateString;function d3_interpolateString(e,a){var t=he.lastIndex=pe.lastIndex=0,r,n,i,o=-1,l=[],s=[];e=e+"",a=a+"";while((r=he.exec(e))&&(n=pe.exec(a))){if((i=n.index)>t){i=a.slice(t,i);if(l[o])l[o]+=i;else l[++o]=i}if((r=r[0])===(n=n[0])){if(l[o])l[o]+=n;else l[++o]=n}else{l[++o]=null;s.push({i:o,x:d3_interpolateNumber(r,n)})}t=pe.lastIndex}if(t<a.length){i=a.slice(t);if(l[o])l[o]+=i;else l[++o]=i}return l.length<2?s[0]?(a=s[0].x,function(e){return a(e)+""}):function(){return a}:(a=s.length,function(e){for(var t=0,r;t<a;++t)l[(r=s[t]).i]=r.x(e);return l.join("")})}var he=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pe=new RegExp(he.source,"g");R.interpolate=d3_interpolate;function d3_interpolate(e,t){var r=R.interpolators.length,a;while(--r>=0&&!(a=R.interpolators[r](e,t)));return a}R.interpolators=[function(e,t){var r=typeof t;return(r==="string"?ee.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?d3_interpolateRgb:d3_interpolateString:t instanceof d3_color?d3_interpolateRgb:Array.isArray(t)?d3_interpolateArray:r==="object"&&isNaN(t)?d3_interpolateObject:d3_interpolateNumber)(e,t)}];R.interpolateArray=d3_interpolateArray;function d3_interpolateArray(e,t){var r=[],a=[],n=e.length,i=t.length,o=Math.min(e.length,t.length),l;for(l=0;l<o;++l)r.push(d3_interpolate(e[l],t[l]));for(;l<n;++l)a[l]=e[l];for(;l<i;++l)a[l]=t[l];return function(e){for(l=0;l<o;++l)a[l]=r[l](e);return a}}var ge=function(){return d3_identity};var me=R.map({linear:ge,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}});var ye=R.map({"in":d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(e){return d3_ease_reflect(d3_ease_reverse(e))}});R.ease=function(e){var t=e.indexOf("-"),r=t>=0?e.slice(0,t):e,a=t>=0?e.slice(t+1):"in";r=me.get(r)||ge;a=ye.get(a)||d3_identity;return d3_ease_clamp(a(r.apply(null,n.call(arguments,1))))};function d3_ease_clamp(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function d3_ease_reverse(t){return function(e){return 1-t(1-e)}}function d3_ease_reflect(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function d3_ease_quad(e){return e*e}function d3_ease_cubic(e){return e*e*e}function d3_ease_cubicInOut(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)}function d3_ease_poly(t){return function(e){return Math.pow(e,t)}}function d3_ease_sin(e){return 1-Math.cos(e*Z)}function d3_ease_exp(e){return Math.pow(2,10*(e-1))}function d3_ease_circle(e){return 1-Math.sqrt(1-e*e)}function d3_ease_elastic(t,r){var a;if(arguments.length<2)r=.45;if(arguments.length)a=r/P*Math.asin(1/t);else t=1,a=r/4;return function(e){return 1+t*Math.pow(2,-10*e)*Math.sin((e-a)*P/r)}}function d3_ease_back(t){if(!t)t=1.70158;return function(e){return e*e*((t+1)*e-t)}}function d3_ease_bounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}R.interpolateHcl=d3_interpolateHcl;function d3_interpolateHcl(e,t){e=R.hcl(e);t=R.hcl(t);var r=e.h,a=e.c,n=e.l,i=t.h-r,o=t.c-a,l=t.l-n;if(isNaN(o))o=0,a=isNaN(a)?t.c:a;if(isNaN(i))i=0,r=isNaN(r)?t.h:r;else if(i>180)i-=360;else if(i<-180)i+=360;return function(e){return d3_hcl_lab(r+i*e,a+o*e,n+l*e)+""}}R.interpolateHsl=d3_interpolateHsl;function d3_interpolateHsl(e,t){e=R.hsl(e);t=R.hsl(t);var r=e.h,a=e.s,n=e.l,i=t.h-r,o=t.s-a,l=t.l-n;if(isNaN(o))o=0,a=isNaN(a)?t.s:a;if(isNaN(i))i=0,r=isNaN(r)?t.h:r;else if(i>180)i-=360;else if(i<-180)i+=360;return function(e){return d3_hsl_rgb(r+i*e,a+o*e,n+l*e)+""}}R.interpolateLab=d3_interpolateLab;function d3_interpolateLab(e,t){e=R.lab(e);t=R.lab(t);var r=e.l,a=e.a,n=e.b,i=t.l-r,o=t.a-a,l=t.b-n;return function(e){return d3_lab_rgb(r+i*e,a+o*e,n+l*e)+""}}R.interpolateRound=d3_interpolateRound;function d3_interpolateRound(t,r){r-=t;return function(e){return Math.round(t+r*e)}}R.transform=function(e){var r=g.createElementNS(R.ns.prefix.svg,"g");return(R.transform=function(e){if(e!=null){r.setAttribute("transform",e);var t=r.transform.baseVal.consolidate()}return new d3_transform(t?t.matrix:xe)})(e)};function d3_transform(e){var t=[e.a,e.b],r=[e.c,e.d],a=d3_transformNormalize(t),n=d3_transformDot(t,r),i=d3_transformNormalize(d3_transformCombine(r,t,-n))||0;if(t[0]*r[1]<r[0]*t[1]){t[0]*=-1;t[1]*=-1;a*=-1;n*=-1}this.rotate=(a?Math.atan2(t[1],t[0]):Math.atan2(-r[0],r[1]))*F;this.translate=[e.e,e.f];this.scale=[a,i];this.skew=i?Math.atan2(n,i)*F:0}d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function d3_transformDot(e,t){return e[0]*t[0]+e[1]*t[1]}function d3_transformNormalize(e){var t=Math.sqrt(d3_transformDot(e,e));if(t){e[0]/=t;e[1]/=t}return t}function d3_transformCombine(e,t,r){e[0]+=r*t[0];e[1]+=r*t[1];return e}var xe={a:1,b:0,c:0,d:1,e:0,f:0};R.interpolateTransform=d3_interpolateTransform;function d3_interpolateTransformPop(e){return e.length?e.pop()+",":""}function d3_interpolateTranslate(e,t,r,a){if(e[0]!==t[0]||e[1]!==t[1]){var n=r.push("translate(",null,",",null,")");a.push({i:n-4,x:d3_interpolateNumber(e[0],t[0])},{i:n-2,x:d3_interpolateNumber(e[1],t[1])})}else if(t[0]||t[1]){r.push("translate("+t+")")}}function d3_interpolateRotate(e,t,r,a){if(e!==t){if(e-t>180)t+=360;else if(t-e>180)e+=360;a.push({i:r.push(d3_interpolateTransformPop(r)+"rotate(",null,")")-2,x:d3_interpolateNumber(e,t)})}else if(t){r.push(d3_interpolateTransformPop(r)+"rotate("+t+")")}}function d3_interpolateSkew(e,t,r,a){if(e!==t){a.push({i:r.push(d3_interpolateTransformPop(r)+"skewX(",null,")")-2,x:d3_interpolateNumber(e,t)})}else if(t){r.push(d3_interpolateTransformPop(r)+"skewX("+t+")")}}function d3_interpolateScale(e,t,r,a){if(e[0]!==t[0]||e[1]!==t[1]){var n=r.push(d3_interpolateTransformPop(r)+"scale(",null,",",null,")");a.push({i:n-4,x:d3_interpolateNumber(e[0],t[0])},{i:n-2,x:d3_interpolateNumber(e[1],t[1])})}else if(t[0]!==1||t[1]!==1){r.push(d3_interpolateTransformPop(r)+"scale("+t+")")}}function d3_interpolateTransform(e,t){var n=[],i=[];e=R.transform(e),t=R.transform(t);d3_interpolateTranslate(e.translate,t.translate,n,i);d3_interpolateRotate(e.rotate,t.rotate,n,i);d3_interpolateSkew(e.skew,t.skew,n,i);d3_interpolateScale(e.scale,t.scale,n,i);e=t=null;return function(e){var t=-1,r=i.length,a;while(++t<r)n[(a=i[t]).i]=a.x(e);return n.join("")}}function d3_uninterpolateNumber(t,r){r=(r-=t=+t)||1/r;return function(e){return(e-t)/r}}function d3_uninterpolateClamp(t,r){r=(r-=t=+t)||1/r;return function(e){return Math.max(0,Math.min(1,(e-t)/r))}}R.layout={};R.layout.bundle=function(){return function(e){var t=[],r=-1,a=e.length;while(++r<a)t.push(d3_layout_bundlePath(e[r]));return t}};function d3_layout_bundlePath(e){var t=e.source,r=e.target,a=d3_layout_bundleLeastCommonAncestor(t,r),n=[t];while(t!==a){t=t.parent;n.push(t)}var i=n.length;while(r!==a){n.splice(i,0,r);r=r.parent}return n}function d3_layout_bundleAncestors(e){var t=[],r=e.parent;while(r!=null){t.push(e);e=r;r=r.parent}t.push(e);return t}function d3_layout_bundleLeastCommonAncestor(e,t){if(e===t)return e;var r=d3_layout_bundleAncestors(e),a=d3_layout_bundleAncestors(t),n=r.pop(),i=a.pop(),o=null;while(n===i){o=n;n=r.pop();i=a.pop()}return o}R.layout.chord=function(){var t={},g,m,y,x,_=0,b,w,T;function relayout(){var e={},r=[],t=R.range(x),a=[],n,i,o,l,s;g=[];m=[];n=0,l=-1;while(++l<x){i=0,s=-1;while(++s<x){i+=y[l][s]}r.push(i);a.push(R.range(x));n+=i}if(b){t.sort(function(e,t){return b(r[e],r[t])})}if(w){a.forEach(function(e,r){e.sort(function(e,t){return w(y[r][e],y[r][t])})})}n=(P-_*x)/n;i=0,l=-1;while(++l<x){o=i,s=-1;while(++s<x){var c=t[l],u=a[c][s],f=y[c][u],d=i,v=i+=f*n;e[c+"-"+u]={index:c,subindex:u,startAngle:d,endAngle:v,value:f}}m[c]={index:c,startAngle:o,endAngle:i,value:r[c]};i+=_}l=-1;while(++l<x){s=l-1;while(++s<x){var h=e[l+"-"+s],p=e[s+"-"+l];if(h.value||p.value){g.push(h.value<p.value?{source:p,target:h}:{source:h,target:p})}}}if(T)resort()}function resort(){g.sort(function(e,t){return T((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}t.matrix=function(e){if(!arguments.length)return y;x=(y=e)&&y.length;g=m=null;return t};t.padding=function(e){if(!arguments.length)return _;_=e;g=m=null;return t};t.sortGroups=function(e){if(!arguments.length)return b;b=e;g=m=null;return t};t.sortSubgroups=function(e){if(!arguments.length)return w;w=e;g=null;return t};t.sortChords=function(e){if(!arguments.length)return T;T=e;if(g)resort();return t};t.chords=function(){if(!g)relayout();return g};t.groups=function(){if(!m)relayout();return m};return t};R.layout.force=function(){var a={},f=R.dispatch("start","tick","end"),d,v=[1,1],e,h,p=.9,n=_e,i=be,g=-30,u=we,m=.1,y=.64,x=[],_=[],b,w,T;function repulse(c){return function(e,t,r,a){if(e.point!==c){var n=e.cx-c.x,i=e.cy-c.y,o=a-t,l=n*n+i*i;if(o*o/y<l){if(l<u){var s=e.charge/l;c.px-=n*s;c.py-=i*s}return true}if(e.point&&l&&l<u){var s=e.pointCharge/l;c.px-=n*s;c.py-=i*s}}return!e.charge}}a.tick=function(){if((h*=.99)<.005){d=null;f.end({type:"end",alpha:h=0});return true}var e=x.length,t=_.length,r,a,n,i,o,l,s,c,u;for(a=0;a<t;++a){n=_[a];i=n.source;o=n.target;c=o.x-i.x;u=o.y-i.y;if(l=c*c+u*u){l=h*w[a]*((l=Math.sqrt(l))-b[a])/l;c*=l;u*=l;o.x-=c*(s=i.weight+o.weight?i.weight/(i.weight+o.weight):.5);o.y-=u*s;i.x+=c*(s=1-s);i.y+=u*s}}if(s=h*m){c=v[0]/2;u=v[1]/2;a=-1;if(s)while(++a<e){n=x[a];n.x+=(c-n.x)*s;n.y+=(u-n.y)*s}}if(g){d3_layout_forceAccumulate(r=R.geom.quadtree(x),h,T);a=-1;while(++a<e){if(!(n=x[a]).fixed){r.visit(repulse(n))}}}a=-1;while(++a<e){n=x[a];if(n.fixed){n.x=n.px;n.y=n.py}else{n.x-=(n.px-(n.px=n.x))*p;n.y-=(n.py-(n.py=n.y))*p}}f.tick({type:"tick",alpha:h})};a.nodes=function(e){if(!arguments.length)return x;x=e;return a};a.links=function(e){if(!arguments.length)return _;_=e;return a};a.size=function(e){if(!arguments.length)return v;v=e;return a};a.linkDistance=function(e){if(!arguments.length)return n;n=typeof e==="function"?e:+e;return a};a.distance=a.linkDistance;a.linkStrength=function(e){if(!arguments.length)return i;i=typeof e==="function"?e:+e;return a};a.friction=function(e){if(!arguments.length)return p;p=+e;return a};a.charge=function(e){if(!arguments.length)return g;g=typeof e==="function"?e:+e;return a};a.chargeDistance=function(e){if(!arguments.length)return Math.sqrt(u);u=e*e;return a};a.gravity=function(e){if(!arguments.length)return m;m=+e;return a};a.theta=function(e){if(!arguments.length)return Math.sqrt(y);y=e*e;return a};a.alpha=function(e){if(!arguments.length)return h;e=+e;if(h){if(e>0){h=e}else{d.c=null,d.t=NaN,d=null;f.end({type:"end",alpha:h=0})}}else if(e>0){f.start({type:"start",alpha:h=e});d=d3_timer(a.tick)}return a};a.start=function(){var l,s=x.length,c=_.length,e=v[0],t=v[1],u,r;for(l=0;l<s;++l){(r=x[l]).index=l;r.weight=0}for(l=0;l<c;++l){r=_[l];if(typeof r.source=="number")r.source=x[r.source];if(typeof r.target=="number")r.target=x[r.target];++r.source.weight;++r.target.weight}for(l=0;l<s;++l){r=x[l];if(isNaN(r.x))r.x=position("x",e);if(isNaN(r.y))r.y=position("y",t);if(isNaN(r.px))r.px=r.x;if(isNaN(r.py))r.py=r.y}b=[];if(typeof n==="function")for(l=0;l<c;++l)b[l]=+n.call(this,_[l],l);else for(l=0;l<c;++l)b[l]=n;w=[];if(typeof i==="function")for(l=0;l<c;++l)w[l]=+i.call(this,_[l],l);else for(l=0;l<c;++l)w[l]=i;T=[];if(typeof g==="function")for(l=0;l<s;++l)T[l]=+g.call(this,x[l],l);else for(l=0;l<s;++l)T[l]=g;function position(e,t){if(!u){u=new Array(s);for(n=0;n<s;++n){u[n]=[]}for(n=0;n<c;++n){var r=_[n];u[r.source.index].push(r.target);u[r.target.index].push(r.source)}}var a=u[l],n=-1,i=a.length,o;while(++n<i)if(!isNaN(o=a[n][e]))return o;return Math.random()*t}return a.resume()};a.resume=function(){return a.alpha(.1)};a.stop=function(){return a.alpha(0)};a.drag=function(){if(!e)e=R.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend);if(!arguments.length)return e;this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(e)};function dragmove(e){e.px=R.event.x,e.py=R.event.y;a.resume()}return R.rebind(a,f,"on")};function d3_layout_forceDragstart(e){e.fixed|=2}function d3_layout_forceDragend(e){e.fixed&=~6}function d3_layout_forceMouseover(e){e.fixed|=4;e.px=e.x,e.py=e.y}function d3_layout_forceMouseout(e){e.fixed&=~4}function d3_layout_forceAccumulate(e,t,r){var a=0,n=0;e.charge=0;if(!e.leaf){var i=e.nodes,o=i.length,l=-1,s;while(++l<o){s=i[l];if(s==null)continue;d3_layout_forceAccumulate(s,t,r);e.charge+=s.charge;a+=s.charge*s.cx;n+=s.charge*s.cy}}if(e.point){if(!e.leaf){e.point.x+=Math.random()-.5;e.point.y+=Math.random()-.5}var c=t*r[e.point.index];e.charge+=e.pointCharge=c;a+=c*e.point.x;n+=c*e.point.y}e.cx=a/e.charge;e.cy=n/e.charge}var _e=20,be=1,we=Infinity;R.layout.hierarchy=function(){var l=d3_layout_hierarchySort,s=d3_layout_hierarchyChildren,c=d3_layout_hierarchyValue;function hierarchy(e){var t=[e],r=[],a;e.depth=0;while((a=t.pop())!=null){r.push(a);if((i=s.call(hierarchy,a,a.depth))&&(n=i.length)){var n,i,o;while(--n>=0){t.push(o=i[n]);o.parent=a;o.depth=a.depth+1}if(c)a.value=0;a.children=i}else{if(c)a.value=+c.call(hierarchy,a,a.depth)||0;delete a.children}}d3_layout_hierarchyVisitAfter(e,function(e){var t,r;if(l&&(t=e.children))t.sort(l);if(c&&(r=e.parent))r.value+=e.value});return r}hierarchy.sort=function(e){if(!arguments.length)return l;l=e;return hierarchy};hierarchy.children=function(e){if(!arguments.length)return s;s=e;return hierarchy};hierarchy.value=function(e){if(!arguments.length)return c;c=e;return hierarchy};hierarchy.revalue=function(e){if(c){d3_layout_hierarchyVisitBefore(e,function(e){if(e.children)e.value=0});d3_layout_hierarchyVisitAfter(e,function(e){var t;if(!e.children)e.value=+c.call(hierarchy,e,e.depth)||0;if(t=e.parent)t.value+=e.value})}return e};return hierarchy};function d3_layout_hierarchyRebind(e,t){R.rebind(e,t,"sort","children","value");e.nodes=e;e.links=d3_layout_hierarchyLinks;return e}function d3_layout_hierarchyVisitBefore(e,t){var r=[e];while((e=r.pop())!=null){t(e);if((n=e.children)&&(a=n.length)){var a,n;while(--a>=0)r.push(n[a])}}}function d3_layout_hierarchyVisitAfter(e,t){var r=[e],a=[];while((e=r.pop())!=null){a.push(e);if((o=e.children)&&(i=o.length)){var n=-1,i,o;while(++n<i)r.push(o[n])}}while((e=a.pop())!=null){t(e)}}function d3_layout_hierarchyChildren(e){return e.children}function d3_layout_hierarchyValue(e){return e.value}function d3_layout_hierarchySort(e,t){return t.value-e.value}function d3_layout_hierarchyLinks(e){return R.merge(e.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}R.layout.partition=function(){var a=R.layout.hierarchy(),n=[1,1];function position(e,t,r,a){var n=e.children;e.x=t;e.y=e.depth*a;e.dx=r;e.dy=a;if(n&&(o=n.length)){var i=-1,o,l,s;r=e.value?r/e.value:0;while(++i<o){position(l=n[i],t,s=l.value*r,a);t+=s}}}function depth(e){var t=e.children,r=0;if(t&&(n=t.length)){var a=-1,n;while(++a<n)r=Math.max(r,depth(t[a]))}return 1+r}function partition(e,t){var r=a.call(this,e,t);position(r[0],0,n[0],n[1]/depth(r[0]));return r}partition.size=function(e){if(!arguments.length)return n;n=e;return partition};return d3_layout_hierarchyRebind(partition,a)};R.layout.pie=function(){var d=Number,v=Te,h=0,p=P,g=0;function pie(r){var e=r.length,a=r.map(function(e,t){return+d.call(pie,e,t)}),t=+(typeof h==="function"?h.apply(this,arguments):h),n=(typeof p==="function"?p.apply(this,arguments):p)-t,i=Math.min(Math.abs(n)/e,+(typeof g==="function"?g.apply(this,arguments):g)),o=i*(n<0?-1:1),l=R.sum(a),s=l?(n-e*o)/l:0,c=R.range(e),u=[],f;if(v!=null)c.sort(v===Te?function(e,t){return a[t]-a[e]}:function(e,t){return v(r[e],r[t])});c.forEach(function(e){u[e]={data:r[e],value:f=a[e],startAngle:t,endAngle:t+=f*s+o,padAngle:i}});return u}pie.value=function(e){if(!arguments.length)return d;d=e;return pie};pie.sort=function(e){if(!arguments.length)return v;v=e;return pie};pie.startAngle=function(e){if(!arguments.length)return h;h=e;return pie};pie.endAngle=function(e){if(!arguments.length)return p;p=e;return pie};pie.padAngle=function(e){if(!arguments.length)return g;g=e;return pie};return pie};var Te={};R.layout.stack=function(){var f=d3_identity,d=d3_layout_stackOrderDefault,v=d3_layout_stackOffsetZero,h=d3_layout_stackOut,p=d3_layout_stackX,g=d3_layout_stackY;function stack(e,t){if(!(l=e.length))return e;var r=e.map(function(e,t){return f.call(stack,e,t)});var a=r.map(function(e){return e.map(function(e,t){return[p.call(stack,e,t),g.call(stack,e,t)]})});var n=d.call(stack,a,t);r=R.permute(r,n);a=R.permute(a,n);var i=v.call(stack,a,t);var o=r[0].length,l,s,c,u;for(c=0;c<o;++c){h.call(stack,r[0][c],u=i[c],a[0][c][1]);for(s=1;s<l;++s){h.call(stack,r[s][c],u+=a[s-1][c][1],a[s][c][1])}}return e}stack.values=function(e){if(!arguments.length)return f;f=e;return stack};stack.order=function(e){if(!arguments.length)return d;d=typeof e==="function"?e:ke.get(e)||d3_layout_stackOrderDefault;return stack};stack.offset=function(e){if(!arguments.length)return v;v=typeof e==="function"?e:Ae.get(e)||d3_layout_stackOffsetZero;return stack};stack.x=function(e){if(!arguments.length)return p;p=e;return stack};stack.y=function(e){if(!arguments.length)return g;g=e;return stack};stack.out=function(e){if(!arguments.length)return h;h=e;return stack};return stack};function d3_layout_stackX(e){return e.x}function d3_layout_stackY(e){return e.y}function d3_layout_stackOut(e,t,r){e.y0=t;e.y=r}var ke=R.map({"inside-out":function(e){var t=e.length,r,a,n=e.map(d3_layout_stackMaxIndex),i=e.map(d3_layout_stackReduceSum),o=R.range(t).sort(function(e,t){return n[e]-n[t]}),l=0,s=0,c=[],u=[];for(r=0;r<t;++r){a=o[r];if(l<s){l+=i[a];c.push(a)}else{s+=i[a];u.push(a)}}return u.reverse().concat(c)},reverse:function(e){return R.range(e.length).reverse()},"default":d3_layout_stackOrderDefault});var Ae=R.map({silhouette:function(e){var t=e.length,r=e[0].length,a=[],n=0,i,o,l,s=[];for(o=0;o<r;++o){for(i=0,l=0;i<t;i++)l+=e[i][o][1];if(l>n)n=l;a.push(l)}for(o=0;o<r;++o){s[o]=(n-a[o])/2}return s},wiggle:function(e){var t=e.length,r=e[0],a=r.length,n,i,o,l,s,c,u,f,d,v=[];v[0]=f=d=0;for(i=1;i<a;++i){for(n=0,l=0;n<t;++n)l+=e[n][i][1];for(n=0,s=0,u=r[i][0]-r[i-1][0];n<t;++n){for(o=0,c=(e[n][i][1]-e[n][i-1][1])/(2*u);o<n;++o){c+=(e[o][i][1]-e[o][i-1][1])/u}s+=c*e[n][i][1]}v[i]=f-=l?s/l*u:0;if(f<d)d=f}for(i=0;i<a;++i)v[i]-=d;return v},expand:function(e){var t=e.length,r=e[0].length,a=1/t,n,i,o,l=[];for(i=0;i<r;++i){for(n=0,o=0;n<t;n++)o+=e[n][i][1];if(o)for(n=0;n<t;n++)e[n][i][1]/=o;else for(n=0;n<t;n++)e[n][i][1]=a}for(i=0;i<r;++i)l[i]=0;return l},zero:d3_layout_stackOffsetZero});function d3_layout_stackOrderDefault(e){return R.range(e.length)}function d3_layout_stackOffsetZero(e){var t=-1,r=e[0].length,a=[];while(++t<r)a[t]=0;return a}function d3_layout_stackMaxIndex(e){var t=1,r=0,a=e[0][1],n,i=e.length;for(;t<i;++t){if((n=e[t][1])>a){r=t;a=n}}return r}function d3_layout_stackReduceSum(e){return e.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(e,t){return e+t[1]}R.layout.histogram=function(){var f=true,d=Number,v=d3_layout_histogramRange,h=d3_layout_histogramBinSturges;function histogram(e,t){var r=[],a=e.map(d,this),n=v.call(this,a,t),i=h.call(this,n,a,t),o,t=-1,l=a.length,s=i.length-1,c=f?1:1/l,u;while(++t<s){o=r[t]=[];o.dx=i[t+1]-(o.x=i[t]);o.y=0}if(s>0){t=-1;while(++t<l){u=a[t];if(u>=n[0]&&u<=n[1]){o=r[R.bisect(i,u,1,s)-1];o.y+=c;o.push(e[t])}}}return r}histogram.value=function(e){if(!arguments.length)return d;d=e;return histogram};histogram.range=function(e){if(!arguments.length)return v;v=d3_functor(e);return histogram};histogram.bins=function(t){if(!arguments.length)return h;h=typeof t==="number"?function(e){return d3_layout_histogramBinFixed(e,t)}:d3_functor(t);return histogram};histogram.frequency=function(e){if(!arguments.length)return f;f=!!e;return histogram};return histogram};function d3_layout_histogramBinSturges(e,t){return d3_layout_histogramBinFixed(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(e,t){var r=-1,a=+e[0],n=(e[1]-a)/t,i=[];while(++r<=t)i[r]=n*r+a;return i}function d3_layout_histogramRange(e){return[R.min(e),R.max(e)]}R.layout.pack=function(){var s=R.layout.hierarchy().sort(d3_layout_packSort),c=0,u=[1,1],f;function pack(e,t){var r=s.call(this,e,t),a=r[0],n=u[0],i=u[1],o=f==null?Math.sqrt:typeof f==="function"?f:function(){return f};a.x=a.y=0;d3_layout_hierarchyVisitAfter(a,function(e){e.r=+o(e.value)});d3_layout_hierarchyVisitAfter(a,d3_layout_packSiblings);if(c){var l=c*(f?1:Math.max(2*a.r/n,2*a.r/i))/2;d3_layout_hierarchyVisitAfter(a,function(e){e.r+=l});d3_layout_hierarchyVisitAfter(a,d3_layout_packSiblings);d3_layout_hierarchyVisitAfter(a,function(e){e.r-=l})}d3_layout_packTransform(a,n/2,i/2,f?1:1/Math.max(2*a.r/n,2*a.r/i));return r}pack.size=function(e){if(!arguments.length)return u;u=e;return pack};pack.radius=function(e){if(!arguments.length)return f;f=e==null||typeof e==="function"?e:+e;return pack};pack.padding=function(e){if(!arguments.length)return c;c=+e;return pack};return d3_layout_hierarchyRebind(pack,s)};function d3_layout_packSort(e,t){return e.value-t.value}function d3_layout_packInsert(e,t){var r=e._pack_next;e._pack_next=t;t._pack_prev=e;t._pack_next=r;r._pack_prev=t}function d3_layout_packSplice(e,t){e._pack_next=t;t._pack_prev=e}function d3_layout_packIntersects(e,t){var r=t.x-e.x,a=t.y-e.y,n=e.r+t.r;return.999*n*n>r*r+a*a}function d3_layout_packSiblings(e){if(!(t=e.children)||!(d=t.length))return;var t,r=Infinity,a=-Infinity,n=Infinity,i=-Infinity,o,l,s,c,u,f,d;function bound(e){r=Math.min(e.x-e.r,r);a=Math.max(e.x+e.r,a);n=Math.min(e.y-e.r,n);i=Math.max(e.y+e.r,i)}t.forEach(d3_layout_packLink);o=t[0];o.x=-o.r;o.y=0;bound(o);if(d>1){l=t[1];l.x=l.r;l.y=0;bound(l);if(d>2){s=t[2];d3_layout_packPlace(o,l,s);bound(s);d3_layout_packInsert(o,s);o._pack_prev=s;d3_layout_packInsert(s,l);l=o._pack_next;for(c=3;c<d;c++){d3_layout_packPlace(o,l,s=t[c]);var v=0,h=1,p=1;for(u=l._pack_next;u!==l;u=u._pack_next,h++){if(d3_layout_packIntersects(u,s)){v=1;break}}if(v==1){for(f=o._pack_prev;f!==u._pack_prev;f=f._pack_prev,p++){if(d3_layout_packIntersects(f,s)){break}}}if(v){if(h<p||h==p&&l.r<o.r)d3_layout_packSplice(o,l=u);else d3_layout_packSplice(o=f,l);c--}else{d3_layout_packInsert(o,s);l=s;bound(s)}}}}var g=(r+a)/2,m=(n+i)/2,y=0;for(c=0;c<d;c++){s=t[c];s.x-=g;s.y-=m;y=Math.max(y,s.r+Math.sqrt(s.x*s.x+s.y*s.y))}e.r=y;t.forEach(d3_layout_packUnlink)}function d3_layout_packLink(e){e._pack_next=e._pack_prev=e}function d3_layout_packUnlink(e){delete e._pack_next;delete e._pack_prev}function d3_layout_packTransform(e,t,r,a){var n=e.children;e.x=t+=a*e.x;e.y=r+=a*e.y;e.r*=a;if(n){var i=-1,o=n.length;while(++i<o)d3_layout_packTransform(n[i],t,r,a)}}function d3_layout_packPlace(e,t,r){var a=e.r+r.r,n=t.x-e.x,i=t.y-e.y;if(a&&(n||i)){var o=t.r+r.r,l=n*n+i*i;o*=o;a*=a;var s=.5+(a-o)/(2*l),c=Math.sqrt(Math.max(0,2*o*(a+l)-(a-=l)*a-o*o))/(2*l);r.x=e.x+s*n+c*i;r.y=e.y+s*i-c*n}else{r.x=e.x+a;r.y=e.y}}R.layout.tree=function(){var f=R.layout.hierarchy().sort(null).value(null),d=d3_layout_treeSeparation,v=[1,1],h=null;function tree(e,t){var r=f.call(this,e,t),a=r[0],n=wrapTree(a);d3_layout_hierarchyVisitAfter(n,firstWalk),n.parent.m=-n.z;d3_layout_hierarchyVisitBefore(n,secondWalk);if(h)d3_layout_hierarchyVisitBefore(a,sizeNode);else{var i=a,o=a,l=a;d3_layout_hierarchyVisitBefore(a,function(e){if(e.x<i.x)i=e;if(e.x>o.x)o=e;if(e.depth>l.depth)l=e});var s=d(i,o)/2-i.x,c=v[0]/(o.x+d(o,i)/2+s),u=v[1]/(l.depth||1);d3_layout_hierarchyVisitBefore(a,function(e){e.x=(e.x+s)*c;e.y=e.depth*u})}return r}function wrapTree(e){var t={A:null,children:[e]},r=[t],a;while((a=r.pop())!=null){for(var n=a.children,i,o=0,l=n.length;o<l;++o){r.push((n[o]=i={_:n[o],parent:a,children:(i=n[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i)}}return t.children[0]}function firstWalk(e){var t=e.children,r=e.parent.children,a=e.i?r[e.i-1]:null;if(t.length){d3_layout_treeShift(e);var n=(t[0].z+t[t.length-1].z)/2;if(a){e.z=a.z+d(e._,a._);e.m=e.z-n}else{e.z=n}}else if(a){e.z=a.z+d(e._,a._)}e.parent.A=apportion(e,a,e.parent.A||r[0])}function secondWalk(e){e._.x=e.z+e.parent.m;e.m+=e.parent.m}function apportion(e,t,r){if(t){var a=e,n=e,i=t,o=a.parent.children[0],l=a.m,s=n.m,c=i.m,u=o.m,f;while(i=d3_layout_treeRight(i),a=d3_layout_treeLeft(a),i&&a){o=d3_layout_treeLeft(o);n=d3_layout_treeRight(n);n.a=e;f=i.z+c-a.z-l+d(i._,a._);if(f>0){d3_layout_treeMove(d3_layout_treeAncestor(i,e,r),e,f);l+=f;s+=f}c+=i.m;l+=a.m;u+=o.m;s+=n.m}if(i&&!d3_layout_treeRight(n)){n.t=i;n.m+=c-s}if(a&&!d3_layout_treeLeft(o)){o.t=a;o.m+=l-u;r=e}}return r}function sizeNode(e){e.x*=v[0];e.y=e.depth*v[1]}tree.separation=function(e){if(!arguments.length)return d;d=e;return tree};tree.size=function(e){if(!arguments.length)return h?null:v;h=(v=e)==null?sizeNode:null;return tree};tree.nodeSize=function(e){if(!arguments.length)return h?v:null;h=(v=e)==null?null:sizeNode;return tree};return d3_layout_hierarchyRebind(tree,f)};function d3_layout_treeSeparation(e,t){return e.parent==t.parent?1:2}function d3_layout_treeLeft(e){var t=e.children;return t.length?t[0]:e.t}function d3_layout_treeRight(e){var t=e.children,r;return(r=t.length)?t[r-1]:e.t}function d3_layout_treeMove(e,t,r){var a=r/(t.i-e.i);t.c-=a;t.s+=r;e.c+=a;t.z+=r;t.m+=r}function d3_layout_treeShift(e){var t=0,r=0,a=e.children,n=a.length,i;while(--n>=0){i=a[n];i.z+=t;i.m+=t;t+=i.s+(r+=i.c)}}function d3_layout_treeAncestor(e,t,r){return e.a.parent===t.parent?e.a:r}R.layout.cluster=function(){var u=R.layout.hierarchy().sort(null).value(null),f=d3_layout_treeSeparation,d=[1,1],v=false;function cluster(e,t){var r=u.call(this,e,t),a=r[0],n,i=0;d3_layout_hierarchyVisitAfter(a,function(e){var t=e.children;if(t&&t.length){e.x=d3_layout_clusterX(t);e.y=d3_layout_clusterY(t)}else{e.x=n?i+=f(e,n):0;e.y=0;n=e}});var o=d3_layout_clusterLeft(a),l=d3_layout_clusterRight(a),s=o.x-f(o,l)/2,c=l.x+f(l,o)/2;d3_layout_hierarchyVisitAfter(a,v?function(e){e.x=(e.x-a.x)*d[0];e.y=(a.y-e.y)*d[1]}:function(e){e.x=(e.x-s)/(c-s)*d[0];e.y=(1-(a.y?e.y/a.y:1))*d[1]});return r}cluster.separation=function(e){if(!arguments.length)return f;f=e;return cluster};cluster.size=function(e){if(!arguments.length)return v?null:d;v=(d=e)==null;return cluster};cluster.nodeSize=function(e){if(!arguments.length)return v?d:null;v=(d=e)!=null;return cluster};return d3_layout_hierarchyRebind(cluster,u)};function d3_layout_clusterY(e){return 1+R.max(e,function(e){return e.y})}function d3_layout_clusterX(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function d3_layout_clusterLeft(e){var t=e.children;return t&&t.length?d3_layout_clusterLeft(t[0]):e}function d3_layout_clusterRight(e){var t=e.children,r;return t&&(r=t.length)?d3_layout_clusterRight(t[r-1]):e}R.layout.treemap=function(){var a=R.layout.hierarchy(),u=Math.round,n=[1,1],t=null,f=d3_layout_treemapPadNull,i=false,o,d="squarify",s=.5*(1+Math.sqrt(5));function scale(e,t){var r=-1,a=e.length,n,i;while(++r<a){i=(n=e[r]).value*(t<0?0:t);n.area=isNaN(i)||i<=0?0:i}}function squarify(e){var t=e.children;if(t&&t.length){var r=f(e),a=[],n=t.slice(),i,o=Infinity,l,s=d==="slice"?r.dx:d==="dice"?r.dy:d==="slice-dice"?e.depth&1?r.dy:r.dx:Math.min(r.dx,r.dy),c;scale(n,r.dx*r.dy/e.value);a.area=0;while((c=n.length)>0){a.push(i=n[c-1]);a.area+=i.area;if(d!=="squarify"||(l=worst(a,s))<=o){n.pop();o=l}else{a.area-=a.pop().area;position(a,s,r,false);s=Math.min(r.dx,r.dy);a.length=a.area=0;o=Infinity}}if(a.length){position(a,s,r,true);a.length=a.area=0}t.forEach(squarify)}}function stickify(e){var t=e.children;if(t&&t.length){var r=f(e),a=t.slice(),n,i=[];scale(a,r.dx*r.dy/e.value);i.area=0;while(n=a.pop()){i.push(n);i.area+=n.area;if(n.z!=null){position(i,n.z?r.dx:r.dy,r,!a.length);i.length=i.area=0}}t.forEach(stickify)}}function worst(e,t){var r=e.area,a,n=0,i=Infinity,o=-1,l=e.length;while(++o<l){if(!(a=e[o].area))continue;if(a<i)i=a;if(a>n)n=a}r*=r;t*=t;return r?Math.max(t*n*s/r,r/(t*i*s)):Infinity}function position(e,t,r,a){var n=-1,i=e.length,o=r.x,l=r.y,s=t?u(e.area/t):0,c;if(t==r.dx){if(a||s>r.dy)s=r.dy;while(++n<i){c=e[n];c.x=o;c.y=l;c.dy=s;o+=c.dx=Math.min(r.x+r.dx-o,s?u(c.area/s):0)}c.z=true;c.dx+=r.x+r.dx-o;r.y+=s;r.dy-=s}else{if(a||s>r.dx)s=r.dx;while(++n<i){c=e[n];c.x=o;c.y=l;c.dx=s;l+=c.dy=Math.min(r.y+r.dy-l,s?u(c.area/s):0)}c.z=false;c.dy+=r.y+r.dy-l;r.x+=s;r.dx-=s}}function treemap(e){var t=o||a(e),r=t[0];r.x=r.y=0;if(r.value)r.dx=n[0],r.dy=n[1];else r.dx=r.dy=0;if(o)a.revalue(r);scale([r],r.dx*r.dy/r.value);(o?stickify:squarify)(r);if(i)o=t;return t}treemap.size=function(e){if(!arguments.length)return n;n=e;return treemap};treemap.padding=function(r){if(!arguments.length)return t;function padFunction(e){var t=r.call(treemap,e,e.depth);return t==null?d3_layout_treemapPadNull(e):d3_layout_treemapPad(e,typeof t==="number"?[t,t,t,t]:t)}function padConstant(e){return d3_layout_treemapPad(e,r)}var e;f=(t=r)==null?d3_layout_treemapPadNull:(e=typeof r)==="function"?padFunction:e==="number"?(r=[r,r,r,r],padConstant):padConstant;return treemap};treemap.round=function(e){if(!arguments.length)return u!=Number;u=e?Math.round:Number;return treemap};treemap.sticky=function(e){if(!arguments.length)return i;i=e;o=null;return treemap};treemap.ratio=function(e){if(!arguments.length)return s;s=e;return treemap};treemap.mode=function(e){if(!arguments.length)return d;d=e+"";return treemap};return d3_layout_hierarchyRebind(treemap,a)};function d3_layout_treemapPadNull(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function d3_layout_treemapPad(e,t){var r=e.x+t[3],a=e.y+t[0],n=e.dx-t[1]-t[3],i=e.dy-t[0]-t[2];if(n<0){r+=n/2;n=0}if(i<0){a+=i/2;i=0}return{x:r,y:a,dx:n,dy:i}}R.random={normal:function(a,n){var e=arguments.length;if(e<2)n=1;if(e<1)a=0;return function(){var e,t,r;do{e=Math.random()*2-1;t=Math.random()*2-1;r=e*e+t*t}while(!r||r>1);return a+n*e*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var e=R.random.normal.apply(R,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=R.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(r){return function(){for(var e=0,t=0;t<r;t++)e+=Math.random();return e}}};R.scale={};function d3_scaleExtent(e){var t=e[0],r=e[e.length-1];return t<r?[t,r]:[r,t]}function d3_scaleRange(e){return e.rangeExtent?e.rangeExtent():d3_scaleExtent(e.range())}function d3_scale_bilinear(e,t,r,a){var n=r(e[0],e[1]),i=a(t[0],t[1]);return function(e){return i(n(e))}}function d3_scale_nice(e,t){var r=0,a=e.length-1,n=e[r],i=e[a],o;if(i<n){o=r,r=a,a=o;o=n,n=i,i=o}e[r]=t.floor(n);e[a]=t.ceil(i);return e}function d3_scale_niceStep(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Me}var Me={floor:d3_identity,ceil:d3_identity};function d3_scale_polylinear(r,e,t,a){var n=[],i=[],o=0,l=Math.min(r.length,e.length)-1;if(r[l]<r[0]){r=r.slice().reverse();e=e.slice().reverse()}while(++o<=l){n.push(t(r[o-1],r[o]));i.push(a(e[o-1],e[o]))}return function(e){var t=R.bisect(r,e,1,l)-1;return i[t](n[t](e))}}R.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,false)};function d3_scale_linear(r,a,n,i){var o,l;function rescale(){var e=Math.min(r.length,a.length)>2?d3_scale_polylinear:d3_scale_bilinear,t=i?d3_uninterpolateClamp:d3_uninterpolateNumber;o=e(r,a,t,n);l=e(a,r,t,d3_interpolate);return scale}function scale(e){return o(e)}scale.invert=function(e){return l(e)};scale.domain=function(e){if(!arguments.length)return r;r=e.map(Number);return rescale()};scale.range=function(e){if(!arguments.length)return a;a=e;return rescale()};scale.rangeRound=function(e){return scale.range(e).interpolate(d3_interpolateRound)};scale.clamp=function(e){if(!arguments.length)return i;i=e;return rescale()};scale.interpolate=function(e){if(!arguments.length)return n;n=e;return rescale()};scale.ticks=function(e){return d3_scale_linearTicks(r,e)};scale.tickFormat=function(e,t){return d3_scale_linearTickFormat(r,e,t)};scale.nice=function(e){d3_scale_linearNice(r,e);return rescale()};scale.copy=function(){return d3_scale_linear(r,a,n,i)};return rescale()}function d3_scale_linearRebind(e,t){return R.rebind(e,t,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(e,t){d3_scale_nice(e,d3_scale_niceStep(d3_scale_linearTickRange(e,t)[2]));d3_scale_nice(e,d3_scale_niceStep(d3_scale_linearTickRange(e,t)[2]));return e}function d3_scale_linearTickRange(e,t){if(t==null)t=10;var r=d3_scaleExtent(e),a=r[1]-r[0],n=Math.pow(10,Math.floor(Math.log(a/t)/Math.LN10)),i=t/a*n;if(i<=.15)n*=10;else if(i<=.35)n*=5;else if(i<=.75)n*=2;r[0]=Math.ceil(r[0]/n)*n;r[1]=Math.floor(r[1]/n)*n+n*.5;r[2]=n;return r}function d3_scale_linearTicks(e,t){return R.range.apply(R,d3_scale_linearTickRange(e,t))}var Se={s:1,g:1,p:1,r:1,e:1};function d3_scale_linearPrecision(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(e,t){var r=d3_scale_linearPrecision(t[2]);return e in Se?Math.abs(r-d3_scale_linearPrecision(Math.max(k(t[0]),k(t[1]))))+ +(e!=="e"):r-(e==="%")*2}R.scale.log=function(){return d3_scale_log(R.scale.linear().domain([0,1]),10,true,[1,10])};function d3_scale_log(t,s,c,u){function log(e){return(c?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(s)}function pow(e){return c?Math.pow(s,e):-Math.pow(s,-e)}function scale(e){return t(log(e))}scale.invert=function(e){return pow(t.invert(e))};scale.domain=function(e){if(!arguments.length)return u;c=e[0]>=0;t.domain((u=e.map(Number)).map(log));return scale};scale.base=function(e){if(!arguments.length)return s;s=+e;t.domain(u.map(log));return scale};scale.nice=function(){var e=d3_scale_nice(u.map(log),c?Math:Ce);t.domain(e);u=e.map(pow);return scale};scale.ticks=function(){var e=d3_scaleExtent(u),t=[],r=e[0],a=e[1],n=Math.floor(log(r)),i=Math.ceil(log(a)),o=s%1?2:s;if(isFinite(i-n)){if(c){for(;n<i;n++)for(var l=1;l<o;l++)t.push(pow(n)*l);t.push(pow(n))}else{t.push(pow(n));for(;n++<i;)for(var l=o-1;l>0;l--)t.push(pow(n)*l)}for(n=0;t[n]<r;n++){}for(i=t.length;t[i-1]>a;i--){}t=t.slice(n,i)}return t};scale.copy=function(){return d3_scale_log(t.copy(),s,c,u)};return d3_scale_linearRebind(scale,t)}var Ce={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};R.scale.pow=function(){return d3_scale_pow(R.scale.linear(),1,[0,1])};function d3_scale_pow(t,r,a){var n=d3_scale_powPow(r),i=d3_scale_powPow(1/r);function scale(e){return t(n(e))}scale.invert=function(e){return i(t.invert(e))};scale.domain=function(e){if(!arguments.length)return a;t.domain((a=e.map(Number)).map(n));return scale};scale.ticks=function(e){return d3_scale_linearTicks(a,e)};scale.tickFormat=function(e,t){return d3_scale_linearTickFormat(a,e,t)};scale.nice=function(e){return scale.domain(d3_scale_linearNice(a,e))};scale.exponent=function(e){if(!arguments.length)return r;n=d3_scale_powPow(r=e);i=d3_scale_powPow(1/r);t.domain(a.map(n));return scale};scale.copy=function(){return d3_scale_pow(t.copy(),r,a)};return d3_scale_linearRebind(scale,t)}function d3_scale_powPow(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}R.scale.sqrt=function(){return R.scale.pow().exponent(.5)};R.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})};function d3_scale_ordinal(l,s){var n,c,u;function scale(e){return c[((n.get(e)||(s.t==="range"?n.set(e,l.push(e)):NaN))-1)%c.length]}function steps(t,r){return R.range(l.length).map(function(e){return t+r*e})}scale.domain=function(e){if(!arguments.length)return l;l=[];n=new d3_Map;var t=-1,r=e.length,a;while(++t<r)if(!n.has(a=e[t]))n.set(a,l.push(a));return scale[s.t].apply(scale,s.a)};scale.range=function(e){if(!arguments.length)return c;c=e;u=0;s={t:"range",a:arguments};return scale};scale.rangePoints=function(e,t){if(arguments.length<2)t=0;var r=e[0],a=e[1],n=l.length<2?(r=(r+a)/2,0):(a-r)/(l.length-1+t);c=steps(r+n*t/2,n);u=0;s={t:"rangePoints",a:arguments};return scale};scale.rangeRoundPoints=function(e,t){if(arguments.length<2)t=0;var r=e[0],a=e[1],n=l.length<2?(r=a=Math.round((r+a)/2),0):(a-r)/(l.length-1+t)|0;c=steps(r+Math.round(n*t/2+(a-r-(l.length-1+t)*n)/2),n);u=0;s={t:"rangeRoundPoints",a:arguments};return scale};scale.rangeBands=function(e,t,r){if(arguments.length<2)t=0;if(arguments.length<3)r=t;var a=e[1]<e[0],n=e[a-0],i=e[1-a],o=(i-n)/(l.length-t+2*r);c=steps(n+o*r,o);if(a)c.reverse();u=o*(1-t);s={t:"rangeBands",a:arguments};return scale};scale.rangeRoundBands=function(e,t,r){if(arguments.length<2)t=0;if(arguments.length<3)r=t;var a=e[1]<e[0],n=e[a-0],i=e[1-a],o=Math.floor((i-n)/(l.length-t+2*r));c=steps(n+Math.round((i-n-(l.length-t)*o)/2),o);if(a)c.reverse();u=Math.round(o*(1-t));s={t:"rangeRoundBands",a:arguments};return scale};scale.rangeBand=function(){return u};scale.rangeExtent=function(){return d3_scaleExtent(s.a[0])};scale.copy=function(){return d3_scale_ordinal(l,s)};return scale.domain(l)}R.scale.category10=function(){return R.scale.ordinal().range(Le)};R.scale.category20=function(){return R.scale.ordinal().range(De)};R.scale.category20b=function(){return R.scale.ordinal().range(Oe)};R.scale.category20c=function(){return R.scale.ordinal().range(Pe)};var Le=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString);var De=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString);var Oe=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString);var Pe=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);R.scale.quantile=function(){return d3_scale_quantile([],[])};function d3_scale_quantile(r,a){var n;function rescale(){var e=0,t=a.length;n=[];while(++e<t)n[e-1]=R.quantile(r,e/t);return scale}function scale(e){if(!isNaN(e=+e))return a[R.bisect(n,e)]}scale.domain=function(e){if(!arguments.length)return r;r=e.map(d3_number).filter(d3_numeric).sort(d3_ascending);return rescale()};scale.range=function(e){if(!arguments.length)return a;a=e;return rescale()};scale.quantiles=function(){return n};scale.invertExtent=function(e){e=a.indexOf(e);return e<0?[NaN,NaN]:[e>0?n[e-1]:r[0],e<n.length?n[e]:r[r.length-1]]};scale.copy=function(){return d3_scale_quantile(r,a)};return rescale()}R.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])};function d3_scale_quantize(t,r,a){var n,i;function scale(e){return a[Math.max(0,Math.min(i,Math.floor(n*(e-t))))]}function rescale(){n=a.length/(r-t);i=a.length-1;return scale}scale.domain=function(e){if(!arguments.length)return[t,r];t=+e[0];r=+e[e.length-1];return rescale()};scale.range=function(e){if(!arguments.length)return a;a=e;return rescale()};scale.invertExtent=function(e){e=a.indexOf(e);e=e<0?NaN:e/n+t;return[e,e+1/n]};scale.copy=function(){return d3_scale_quantize(t,r,a)};return rescale()}R.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])};function d3_scale_threshold(t,r){function scale(e){if(e<=e)return r[R.bisect(t,e)]}scale.domain=function(e){if(!arguments.length)return t;t=e;return scale};scale.range=function(e){if(!arguments.length)return r;r=e;return scale};scale.invertExtent=function(e){e=r.indexOf(e);return[t[e-1],t[e]]};scale.copy=function(){return d3_scale_threshold(t,r)};return scale}R.scale.identity=function(){return d3_scale_identity([0,1])};function d3_scale_identity(r){function identity(e){return+e}identity.invert=identity;identity.domain=identity.range=function(e){if(!arguments.length)return r;r=e.map(identity);return identity};identity.ticks=function(e){return d3_scale_linearTicks(r,e)};identity.tickFormat=function(e,t){return d3_scale_linearTickFormat(r,e,t)};identity.copy=function(){return d3_scale_identity(r)};return identity}R.svg={};function d3_zero(){return 0}R.svg.arc=function(){var z=d3_svg_arcInnerRadius,B=d3_svg_arcOuterRadius,H=d3_zero,j=Ie,V=d3_svg_arcStartAngle,Y=d3_svg_arcEndAngle,U=d3_svg_arcPadAngle;function arc(){var e=Math.max(0,+z.apply(this,arguments)),t=Math.max(0,+B.apply(this,arguments)),r=V.apply(this,arguments)-Z,a=Y.apply(this,arguments)-Z,n=Math.abs(a-r),i=r>a?0:1;if(t<e)o=t,t=e,e=o;if(n>=W)return circleSegment(t,i)+(e?circleSegment(e,1-i):"")+"Z";var o,l,s,c,u=0,f=0,d,v,h,p,g,m,y,x,_=[];if(c=(+U.apply(this,arguments)||0)/2){s=j===Ie?Math.sqrt(e*e+t*t):+j.apply(this,arguments);if(!i)f*=-1;if(t)f=d3_asin(s/t*Math.sin(c));if(e)u=d3_asin(s/e*Math.sin(c))}if(t){d=t*Math.cos(r+f);v=t*Math.sin(r+f);h=t*Math.cos(a-f);p=t*Math.sin(a-f);var b=Math.abs(a-r-2*f)<=q?0:1;if(f&&d3_svg_arcSweep(d,v,h,p)===i^b){var w=(r+a)/2;d=t*Math.cos(w);v=t*Math.sin(w);h=p=null}}else{d=v=0}if(e){g=e*Math.cos(a-u);m=e*Math.sin(a-u);y=e*Math.cos(r+u);x=e*Math.sin(r+u);var T=Math.abs(r-a+2*u)<=q?0:1;if(u&&d3_svg_arcSweep(g,m,y,x)===1-i^T){var F=(r+a)/2;g=e*Math.cos(F);m=e*Math.sin(F);y=x=null}}else{g=m=0}if(n>G&&(o=Math.min(Math.abs(t-e)/2,+H.apply(this,arguments)))>.001){l=e<t^i?0:1;var k=o,A=o;if(n<q){var M=y==null?[g,m]:h==null?[d,v]:d3_geom_polygonIntersect([d,v],[y,x],[h,p],[g,m]),S=d-M[0],C=v-M[1],L=h-M[0],D=p-M[1],N=1/Math.sin(Math.acos((S*L+C*D)/(Math.sqrt(S*S+C*C)*Math.sqrt(L*L+D*D)))/2),E=Math.sqrt(M[0]*M[0]+M[1]*M[1]);A=Math.min(o,(e-E)/(N-1));k=Math.min(o,(t-E)/(N+1))}if(h!=null){var O=d3_svg_arcCornerTangents(y==null?[g,m]:[y,x],[d,v],t,k,i),P=d3_svg_arcCornerTangents([h,p],[g,m],t,k,i);if(o===k){_.push("M",O[0],"A",k,",",k," 0 0,",l," ",O[1],"A",t,",",t," 0 ",1-i^d3_svg_arcSweep(O[1][0],O[1][1],P[1][0],P[1][1]),",",i," ",P[1],"A",k,",",k," 0 0,",l," ",P[0])}else{_.push("M",O[0],"A",k,",",k," 0 1,",l," ",P[0])}}else{_.push("M",d,",",v)}if(y!=null){var I=d3_svg_arcCornerTangents([d,v],[y,x],e,-A,i),R=d3_svg_arcCornerTangents([g,m],h==null?[d,v]:[h,p],e,-A,i);if(o===A){_.push("L",R[0],"A",A,",",A," 0 0,",l," ",R[1],"A",e,",",e," 0 ",i^d3_svg_arcSweep(R[1][0],R[1][1],I[1][0],I[1][1]),",",1-i," ",I[1],"A",A,",",A," 0 0,",l," ",I[0])}else{_.push("L",R[0],"A",A,",",A," 0 0,",l," ",I[0])}}else{_.push("L",g,",",m)}}else{_.push("M",d,",",v);if(h!=null)_.push("A",t,",",t," 0 ",b,",",i," ",h,",",p);_.push("L",g,",",m);if(y!=null)_.push("A",e,",",e," 0 ",T,",",1-i," ",y,",",x)}_.push("Z");return _.join("")}function circleSegment(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}arc.innerRadius=function(e){if(!arguments.length)return z;z=d3_functor(e);return arc};arc.outerRadius=function(e){if(!arguments.length)return B;B=d3_functor(e);return arc};arc.cornerRadius=function(e){if(!arguments.length)return H;H=d3_functor(e);return arc};arc.padRadius=function(e){if(!arguments.length)return j;j=e==Ie?Ie:d3_functor(e);return arc};arc.startAngle=function(e){if(!arguments.length)return V;V=d3_functor(e);return arc};arc.endAngle=function(e){if(!arguments.length)return Y;Y=d3_functor(e);return arc};arc.padAngle=function(e){if(!arguments.length)return U;U=d3_functor(e);return arc};arc.centroid=function(){var e=(+z.apply(this,arguments)+ +B.apply(this,arguments))/2,t=(+V.apply(this,arguments)+ +Y.apply(this,arguments))/2-Z;return[Math.cos(t)*e,Math.sin(t)*e]};return arc};var Ie="auto";function d3_svg_arcInnerRadius(e){return e.innerRadius}function d3_svg_arcOuterRadius(e){return e.outerRadius}function d3_svg_arcStartAngle(e){return e.startAngle}function d3_svg_arcEndAngle(e){return e.endAngle}function d3_svg_arcPadAngle(e){return e&&e.padAngle}function d3_svg_arcSweep(e,t,r,a){return(e-r)*t-(t-a)*e>0?0:1}function d3_svg_arcCornerTangents(e,t,r,a,n){var i=e[0]-t[0],o=e[1]-t[1],l=(n?a:-a)/Math.sqrt(i*i+o*o),s=l*o,c=-l*i,u=e[0]+s,f=e[1]+c,d=t[0]+s,v=t[1]+c,h=(u+d)/2,p=(f+v)/2,g=d-u,m=v-f,y=g*g+m*m,x=r-a,_=u*v-d*f,b=(m<0?-1:1)*Math.sqrt(Math.max(0,x*x*y-_*_)),w=(_*m-g*b)/y,T=(-_*g-m*b)/y,k=(_*m+g*b)/y,A=(-_*g+m*b)/y,M=w-h,S=T-p,C=k-h,L=A-p;if(M*M+S*S>C*C+L*L)w=k,T=A;return[[w-s,T-c],[w*r/x,T*r/x]]}function d3_true(){return true}function d3_svg_line(s){var c=d3_geom_pointX,u=d3_geom_pointY,f=d3_true,d=d3_svg_lineLinear,t=d.key,v=.7;function line(e){var t=[],r=[],a=-1,n=e.length,i,o=d3_functor(c),l=d3_functor(u);function segment(){t.push("M",d(s(r),v))}while(++a<n){if(f.call(this,i=e[a],a)){r.push([+o.call(this,i,a),+l.call(this,i,a)])}else if(r.length){segment();r=[]}}if(r.length)segment();return t.length?t.join(""):null}line.x=function(e){if(!arguments.length)return c;c=e;return line};line.y=function(e){if(!arguments.length)return u;u=e;return line};line.defined=function(e){if(!arguments.length)return f;f=e;return line};line.interpolate=function(e){if(!arguments.length)return t;if(typeof e==="function")t=d=e;else t=(d=Re.get(e)||d3_svg_lineLinear).key;return line};line.tension=function(e){if(!arguments.length)return v;v=e;return line};return line}R.svg.line=function(){return d3_svg_line(d3_identity)};var Re=R.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});Re.forEach(function(e,t){t.key=e;t.closed=/-closed$/.test(e)});function d3_svg_lineLinear(e){return e.length>1?e.join("L"):e+"Z"}function d3_svg_lineLinearClosed(e){return e.join("L")+"Z"}function d3_svg_lineStep(e){var t=0,r=e.length,a=e[0],n=[a[0],",",a[1]];while(++t<r)n.push("H",(a[0]+(a=e[t])[0])/2,"V",a[1]);if(r>1)n.push("H",a[0]);return n.join("")}function d3_svg_lineStepBefore(e){var t=0,r=e.length,a=e[0],n=[a[0],",",a[1]];while(++t<r)n.push("V",(a=e[t])[1],"H",a[0]);return n.join("")}function d3_svg_lineStepAfter(e){var t=0,r=e.length,a=e[0],n=[a[0],",",a[1]];while(++t<r)n.push("H",(a=e[t])[0],"V",a[1]);return n.join("")}function d3_svg_lineCardinalOpen(e,t){return e.length<4?d3_svg_lineLinear(e):e[1]+d3_svg_lineHermite(e.slice(1,-1),d3_svg_lineCardinalTangents(e,t))}function d3_svg_lineCardinalClosed(e,t){return e.length<3?d3_svg_lineLinearClosed(e):e[0]+d3_svg_lineHermite((e.push(e[0]),e),d3_svg_lineCardinalTangents([e[e.length-2]].concat(e,[e[1]]),t))}function d3_svg_lineCardinal(e,t){return e.length<3?d3_svg_lineLinear(e):e[0]+d3_svg_lineHermite(e,d3_svg_lineCardinalTangents(e,t))}function d3_svg_lineHermite(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2){return d3_svg_lineLinear(e)}var r=e.length!=t.length,a="",n=e[0],i=e[1],o=t[0],l=o,s=1;if(r){a+="Q"+(i[0]-o[0]*2/3)+","+(i[1]-o[1]*2/3)+","+i[0]+","+i[1];n=e[1];s=2}if(t.length>1){l=t[1];i=e[s];s++;a+="C"+(n[0]+o[0])+","+(n[1]+o[1])+","+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1];for(var c=2;c<t.length;c++,s++){i=e[s];l=t[c];a+="S"+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1]}}if(r){var u=e[s];a+="Q"+(i[0]+l[0]*2/3)+","+(i[1]+l[1]*2/3)+","+u[0]+","+u[1]}return a}function d3_svg_lineCardinalTangents(e,t){var r=[],a=(1-t)/2,n,i=e[0],o=e[1],l=1,s=e.length;while(++l<s){n=i;i=o;o=e[l];r.push([a*(o[0]-n[0]),a*(o[1]-n[1])])}return r}function d3_svg_lineBasis(e){if(e.length<3)return d3_svg_lineLinear(e);var t=1,r=e.length,a=e[0],n=a[0],i=a[1],o=[n,n,n,(a=e[1])[0]],l=[i,i,i,a[1]],s=[n,",",i,"L",d3_svg_lineDot4(c,o),",",d3_svg_lineDot4(c,l)];e.push(e[r-1]);while(++t<=r){a=e[t];o.shift();o.push(a[0]);l.shift();l.push(a[1]);d3_svg_lineBasisBezier(s,o,l)}e.pop();s.push("L",a);return s.join("")}function d3_svg_lineBasisOpen(e){if(e.length<4)return d3_svg_lineLinear(e);var t=[],r=-1,a=e.length,n,i=[0],o=[0];while(++r<3){n=e[r];i.push(n[0]);o.push(n[1])}t.push(d3_svg_lineDot4(c,i)+","+d3_svg_lineDot4(c,o));--r;while(++r<a){n=e[r];i.shift();i.push(n[0]);o.shift();o.push(n[1]);d3_svg_lineBasisBezier(t,i,o)}return t.join("")}function d3_svg_lineBasisClosed(e){var t,r=-1,a=e.length,n=a+4,i,o=[],l=[];while(++r<4){i=e[r%a];o.push(i[0]);l.push(i[1])}t=[d3_svg_lineDot4(c,o),",",d3_svg_lineDot4(c,l)];--r;while(++r<n){i=e[r%a];o.shift();o.push(i[0]);l.shift();l.push(i[1]);d3_svg_lineBasisBezier(t,o,l)}return t.join("")}function d3_svg_lineBundle(e,t){var r=e.length-1;if(r){var a=e[0][0],n=e[0][1],i=e[r][0]-a,o=e[r][1]-n,l=-1,s,c;while(++l<=r){s=e[l];c=l/r;s[0]=t*s[0]+(1-t)*(a+c*i);s[1]=t*s[1]+(1-t)*(n+c*o)}}return d3_svg_lineBasis(e)}function d3_svg_lineDot4(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}var Fe=[0,2/3,1/3,0],Ne=[0,1/3,2/3,0],c=[0,1/6,2/3,1/6];function d3_svg_lineBasisBezier(e,t,r){e.push("C",d3_svg_lineDot4(Fe,t),",",d3_svg_lineDot4(Fe,r),",",d3_svg_lineDot4(Ne,t),",",d3_svg_lineDot4(Ne,r),",",d3_svg_lineDot4(c,t),",",d3_svg_lineDot4(c,r))}function d3_svg_lineSlope(e,t){return(t[1]-e[1])/(t[0]-e[0])}function d3_svg_lineFiniteDifferences(e){var t=0,r=e.length-1,a=[],n=e[0],i=e[1],o=a[0]=d3_svg_lineSlope(n,i);while(++t<r){a[t]=(o+(o=d3_svg_lineSlope(n=i,i=e[t+1])))/2}a[t]=o;return a}function d3_svg_lineMonotoneTangents(e){var t=[],r,a,n,i,o=d3_svg_lineFiniteDifferences(e),l=-1,s=e.length-1;while(++l<s){r=d3_svg_lineSlope(e[l],e[l+1]);if(k(r)<G){o[l]=o[l+1]=0}else{a=o[l]/r;n=o[l+1]/r;i=a*a+n*n;if(i>9){i=r*3/Math.sqrt(i);o[l]=i*a;o[l+1]=i*n}}}l=-1;while(++l<=s){i=(e[Math.min(s,l+1)][0]-e[Math.max(0,l-1)][0])/(6*(1+o[l]*o[l]));t.push([i||0,o[l]*i||0])}return t}function d3_svg_lineMonotone(e){return e.length<3?d3_svg_lineLinear(e):e[0]+d3_svg_lineHermite(e,d3_svg_lineMonotoneTangents(e))}R.svg.line.radial=function(){var e=d3_svg_line(d3_svg_lineRadial);e.radius=e.x,delete e.x;e.angle=e.y,delete e.y;return e};function d3_svg_lineRadial(e){var t,r=-1,a=e.length,n,i;while(++r<a){t=e[r];n=t[0];i=t[1]-Z;t[0]=n*Math.cos(i);t[1]=n*Math.sin(i)}return e}function d3_svg_area(v){var h=d3_geom_pointX,p=d3_geom_pointX,g=0,m=d3_geom_pointY,y=d3_true,x=d3_svg_lineLinear,t=x.key,_=x,b="L",w=.7;function area(e){var t=[],r=[],a=[],n=-1,i=e.length,o,l=d3_functor(h),s=d3_functor(g),c=h===p?function(){return f}:d3_functor(p),u=g===m?function(){return d}:d3_functor(m),f,d;function segment(){t.push("M",x(v(a),w),b,_(v(r.reverse()),w),"Z")}while(++n<i){if(y.call(this,o=e[n],n)){r.push([f=+l.call(this,o,n),d=+s.call(this,o,n)]);a.push([+c.call(this,o,n),+u.call(this,o,n)])}else if(r.length){segment();r=[];a=[]}}if(r.length)segment();return t.length?t.join(""):null}area.x=function(e){if(!arguments.length)return p;h=p=e;return area};area.x0=function(e){if(!arguments.length)return h;h=e;return area};area.x1=function(e){if(!arguments.length)return p;p=e;return area};area.y=function(e){if(!arguments.length)return m;g=m=e;return area};area.y0=function(e){if(!arguments.length)return g;g=e;return area};area.y1=function(e){if(!arguments.length)return m;m=e;return area};area.defined=function(e){if(!arguments.length)return y;y=e;return area};area.interpolate=function(e){if(!arguments.length)return t;if(typeof e==="function")t=x=e;else t=(x=Re.get(e)||d3_svg_lineLinear).key;_=x.reverse||x;b=x.closed?"M":"L";return area};area.tension=function(e){if(!arguments.length)return w;w=e;return area};return area}d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter;d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore;R.svg.area=function(){return d3_svg_area(d3_identity)};R.svg.area.radial=function(){var e=d3_svg_area(d3_svg_lineRadial);e.radius=e.x,delete e.x;e.innerRadius=e.x0,delete e.x0;e.outerRadius=e.x1,delete e.x1;e.angle=e.y,delete e.y;e.startAngle=e.y0,delete e.y0;e.endAngle=e.y1,delete e.y1;return e};function d3_source(e){return e.source}function d3_target(e){return e.target}R.svg.chord=function(){var n=d3_source,i=d3_target,s=d3_svg_chordRadius,c=d3_svg_arcStartAngle,u=d3_svg_arcEndAngle;function chord(e,t){var r=subgroup(this,n,e,t),a=subgroup(this,i,e,t);return"M"+r.p0+arc(r.r,r.p1,r.a1-r.a0)+(equals(r,a)?curve(r.r,r.p1,r.r,r.p0):curve(r.r,r.p1,a.r,a.p0)+arc(a.r,a.p1,a.a1-a.a0)+curve(a.r,a.p1,r.r,r.p0))+"Z"}function subgroup(e,t,r,a){var n=t.call(e,r,a),i=s.call(e,n,a),o=c.call(e,n,a)-Z,l=u.call(e,n,a)-Z;return{r:i,a0:o,a1:l,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(l),i*Math.sin(l)]}}function equals(e,t){return e.a0==t.a0&&e.a1==t.a1}function arc(e,t,r){return"A"+e+","+e+" 0 "+ +(r>q)+",1 "+t}function curve(e,t,r,a){return"Q 0,0 "+a}chord.radius=function(e){if(!arguments.length)return s;s=d3_functor(e);return chord};chord.source=function(e){if(!arguments.length)return n;n=d3_functor(e);return chord};chord.target=function(e){if(!arguments.length)return i;i=d3_functor(e);return chord};chord.startAngle=function(e){if(!arguments.length)return c;c=d3_functor(e);return chord};chord.endAngle=function(e){if(!arguments.length)return u;u=d3_functor(e);return chord};return chord};function d3_svg_chordRadius(e){return e.radius}R.svg.diagonal=function(){var o=d3_source,l=d3_target,s=d3_svg_diagonalProjection;function diagonal(e,t){var r=o.call(this,e,t),a=l.call(this,e,t),n=(r.y+a.y)/2,i=[r,{x:r.x,y:n},{x:a.x,y:n},a];i=i.map(s);return"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}diagonal.source=function(e){if(!arguments.length)return o;o=d3_functor(e);return diagonal};diagonal.target=function(e){if(!arguments.length)return l;l=d3_functor(e);return diagonal};diagonal.projection=function(e){if(!arguments.length)return s;s=e;return diagonal};return diagonal};function d3_svg_diagonalProjection(e){return[e.x,e.y]}R.svg.diagonal.radial=function(){var e=R.svg.diagonal(),t=d3_svg_diagonalProjection,r=e.projection;e.projection=function(e){return arguments.length?r(d3_svg_diagonalRadialProjection(t=e)):t};return e};function d3_svg_diagonalRadialProjection(a){return function(){var e=a.apply(this,arguments),t=e[0],r=e[1]-Z;return[t*Math.cos(r),t*Math.sin(r)]}}R.svg.symbol=function(){var r=d3_svg_symbolType,a=d3_svg_symbolSize;function symbol(e,t){return(Ee.get(r.call(this,e,t))||d3_svg_symbolCircle)(a.call(this,e,t))}symbol.type=function(e){if(!arguments.length)return r;r=d3_functor(e);return symbol};symbol.size=function(e){if(!arguments.length)return a;a=d3_functor(e);return symbol};return symbol};function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(e){var t=Math.sqrt(e/q);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}var Ee=R.map({circle:d3_svg_symbolCircle,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Be)),r=t*Be;return"M0,"+-t+"L"+r+",0"+" 0,"+t+" "+-r+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ze),r=t*ze/2;return"M0,"+r+"L"+t+","+-r+" "+-t+","+-r+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ze),r=t*ze/2;return"M0,"+-r+"L"+t+","+r+" "+-t+","+r+"Z"}});R.svg.symbolTypes=Ee.keys();var ze=Math.sqrt(3),Be=Math.tan(30*I);r.transition=function(e){var t=A||++je,r=d3_transitionNamespace(e),a=[],n,i,o=Ve||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250};for(var l=-1,s=this.length;++l<s;){a.push(n=[]);for(var c=this[l],u=-1,f=c.length;++u<f;){if(i=c[u])d3_transitionNode(i,u,r,t,o);n.push(i)}}return d3_transition(a,r,t)};r.interrupt=function(e){return this.each(e==null?He:d3_selection_interruptNS(d3_transitionNamespace(e)))};var He=d3_selection_interruptNS(d3_transitionNamespace());function d3_selection_interruptNS(a){return function(){var e,t,r;if((e=this[a])&&(r=e[t=e.active])){r.timer.c=null;r.timer.t=NaN;if(--e.count)delete e[t];else delete this[a];e.active+=.5;r.event&&r.event.interrupt.call(this,this.__data__,r.index)}}}function d3_transition(e,t,r){_(e,a);e.namespace=t;e.id=r;return e}var a=[],je=0,A,Ve;a.call=r.call;a.empty=r.empty;a.node=r.node;a.size=r.size;R.transition=function(e,t){return e&&e.transition?A?e.transition(t):e:R.selection().transition(e)};R.transition.prototype=a;a.select=function(e){var t=this.id,r=this.namespace,a=[],n,i,o;e=d3_selection_selector(e);for(var l=-1,s=this.length;++l<s;){a.push(n=[]);for(var c=this[l],u=-1,f=c.length;++u<f;){if((o=c[u])&&(i=e.call(o,o.__data__,u,l))){if("__data__"in o)i.__data__=o.__data__;d3_transitionNode(i,u,r,t,o[r][t]);n.push(i)}else{n.push(null)}}}return d3_transition(a,r,t)};a.selectAll=function(e){var t=this.id,r=this.namespace,a=[],n,i,o,l,s;e=d3_selection_selectorAll(e);for(var c=-1,u=this.length;++c<u;){for(var f=this[c],d=-1,v=f.length;++d<v;){if(o=f[d]){s=o[r][t];i=e.call(o,o.__data__,d,c);a.push(n=[]);for(var h=-1,p=i.length;++h<p;){if(l=i[h])d3_transitionNode(l,h,r,t,s);n.push(l)}}}}return d3_transition(a,r,t)};a.filter=function(e){var t=[],r,a,n;if(typeof e!=="function")e=d3_selection_filter(e);for(var i=0,o=this.length;i<o;i++){t.push(r=[]);for(var a=this[i],l=0,s=a.length;l<s;l++){if((n=a[l])&&e.call(n,n.__data__,l,i)){r.push(n)}}}return d3_transition(t,this.namespace,this.id)};a.tween=function(t,r){var a=this.id,n=this.namespace;if(arguments.length<2)return this.node()[n][a].tween.get(t);return d3_selection_each(this,r==null?function(e){e[n][a].tween.remove(t)}:function(e){e[n][a].tween.set(t,r)})};function d3_transition_tween(e,a,n,i){var o=e.id,l=e.namespace;return d3_selection_each(e,typeof n==="function"?function(e,t,r){e[l][o].tween.set(a,i(n.call(e,e.__data__,t,r)))}:(n=i(n),function(e){e[l][o].tween.set(a,n)}))}a.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a=e=="transform"?d3_interpolateTransform:d3_interpolate,n=R.ns.qualify(e);function attrNull(){this.removeAttribute(n)}function attrNullNS(){this.removeAttributeNS(n.space,n.local)}function attrTween(r){return r==null?attrNull:(r+="",function(){var e=this.getAttribute(n),t;return e!==r&&(t=a(e,r),function(e){this.setAttribute(n,t(e))})})}function attrTweenNS(r){return r==null?attrNullNS:(r+="",function(){var e=this.getAttributeNS(n.space,n.local),t;return e!==r&&(t=a(e,r),function(e){this.setAttributeNS(n.space,n.local,t(e))})})}return d3_transition_tween(this,"attr."+e,t,n.local?attrTweenNS:attrTween)};a.attrTween=function(e,a){var n=R.ns.qualify(e);function attrTween(e,t){var r=a.call(this,e,t,this.getAttribute(n));return r&&function(e){this.setAttribute(n,r(e))}}function attrTweenNS(e,t){var r=a.call(this,e,t,this.getAttributeNS(n.space,n.local));return r&&function(e){this.setAttributeNS(n.space,n.local,r(e))}}return this.tween("attr."+e,n.local?attrTweenNS:attrTween)};a.style=function(a,e,n){var t=arguments.length;if(t<3){if(typeof a!=="string"){if(t<2)e="";for(n in a)this.style(n,a[n],e);return this}n=""}function styleNull(){this.style.removeProperty(a)}function styleString(r){return r==null?styleNull:(r+="",function(){var e=d3_window(this).getComputedStyle(this,null).getPropertyValue(a),t;return e!==r&&(t=d3_interpolate(e,r),function(e){this.setAttribute("nonce",cspnonce);this.style.setProperty(a,t(e),n)})})}return d3_transition_tween(this,"style."+a,e,styleString)};a.styleTween=function(a,n,i){if(arguments.length<3)i="";function styleTween(e,t){var r=n.call(this,e,t,d3_window(this).getComputedStyle(this,null).getPropertyValue(a));return r&&function(e){this.setAttribute("nonce",cspnonce);this.style.setProperty(a,r(e),i)}}return this.tween("style."+a,styleTween)};a.text=function(e){return d3_transition_tween(this,"text",e,d3_transition_text)};function d3_transition_text(e){if(e==null)e="";return function(){this.textContent=e}}a.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;if(this[t].count<2&&(e=this.parentNode))e.removeChild(this)})};a.ease=function(t){var r=this.id,a=this.namespace;if(arguments.length<1)return this.node()[a][r].ease;if(typeof t!=="function")t=R.ease.apply(R,arguments);return d3_selection_each(this,function(e){e[a][r].ease=t})};a.delay=function(a){var n=this.id,i=this.namespace;if(arguments.length<1)return this.node()[i][n].delay;return d3_selection_each(this,typeof a==="function"?function(e,t,r){e[i][n].delay=+a.call(e,e.__data__,t,r)}:(a=+a,function(e){e[i][n].delay=a}))};a.duration=function(a){var n=this.id,i=this.namespace;if(arguments.length<1)return this.node()[i][n].duration;return d3_selection_each(this,typeof a==="function"?function(e,t,r){e[i][n].duration=Math.max(1,a.call(e,e.__data__,t,r))}:(a=Math.max(1,a),function(e){e[i][n].duration=a}))};a.each=function(a,r){var n=this.id,i=this.namespace;if(arguments.length<2){var e=Ve,t=A;try{A=n;d3_selection_each(this,function(e,t,r){Ve=e[i][n];a.call(e,e.__data__,t,r)})}finally{Ve=e;A=t}}else{d3_selection_each(this,function(e){var t=e[i][n];(t.event||(t.event=R.dispatch("start","end","interrupt"))).on(a,r)})}return this};a.transition=function(){var e=this.id,t=++je,r=this.namespace,a=[],n,i,o,l;for(var s=0,c=this.length;s<c;s++){a.push(n=[]);for(var i=this[s],u=0,f=i.length;u<f;u++){if(o=i[u]){l=o[r][e];d3_transitionNode(o,u,r,t,{time:l.time,ease:l.ease,delay:l.delay+l.duration,duration:l.duration})}n.push(o)}}return d3_transition(a,r,t)};function d3_transitionNamespace(e){return e==null?"__transition__":"__transition_"+e+"__"}function d3_transitionNode(i,o,n,l,e){var s=i[n]||(i[n]={active:0,count:0}),c=s[l],u,f,d,v,h;function schedule(e){var t=c.delay;f.t=t+u;if(t<=e)return start(e-t);f.c=start}function start(e){var t=s.active,r=s[t];if(r){r.timer.c=null;r.timer.t=NaN;--s.count;delete s[t];r.event&&r.event.interrupt.call(i,i.__data__,r.index)}for(var a in s){if(+a<l){var n=s[a];n.timer.c=null;n.timer.t=NaN;--s.count;delete s[a]}}f.c=tick;d3_timer(function(){if(f.c&&tick(e||1)){f.c=null;f.t=NaN}return 1},0,u);s.active=l;c.event&&c.event.start.call(i,i.__data__,o);h=[];c.tween.forEach(function(e,t){if(t=t.call(i,i.__data__,o)){h.push(t)}});v=c.ease;d=c.duration}function tick(e){var t=e/d,r=v(t),a=h.length;while(a>0){h[--a].call(i,r)}if(t>=1){c.event&&c.event.end.call(i,i.__data__,o);if(--s.count)delete s[l];else delete i[n];return 1}}if(!c){u=e.time;f=d3_timer(schedule,0,u);c=s[l]={tween:new d3_Map,time:u,timer:f,delay:e.delay,duration:e.duration,ease:e.ease,index:o};e=null;++s.count}}R.svg.axis=function(){var M=R.scale.linear(),S=Ye,C=6,L=6,D=3,O=[10],P=null,I;function axis(e){e.each(function(){var e=R.select(this);var t=this.__chart__||M,r=this.__chart__=M.copy();var a=P==null?r.ticks?r.ticks.apply(r,O):r.domain():P,n=I==null?r.tickFormat?r.tickFormat.apply(r,O):d3_identity:I,i=e.selectAll(".tick").data(a,r),o=i.enter().insert("g",".domain").attr("class","tick").style("opacity",G),l=R.transition(i.exit()).style("opacity",G).remove(),s=R.transition(i.order()).style("opacity",1),c=Math.max(C,0)+D,u;var f=d3_scaleRange(r),d=e.selectAll(".domain").data([0]),v=(d.enter().append("path").attr("class","domain"),R.transition(d));o.append("line");o.append("text");var h=o.select("line"),p=s.select("line"),g=i.select("text").text(n),m=o.select("text"),y=s.select("text"),x=S==="top"||S==="left"?-1:1,_,b,w,T;if(S==="bottom"||S==="top"){u=d3_svg_axisX,_="x",w="y",b="x2",T="y2";g.attr("dy",x<0?"0em":".71em").style("text-anchor","middle");v.attr("d","M"+f[0]+","+x*L+"V0H"+f[1]+"V"+x*L)}else{u=d3_svg_axisY,_="y",w="x",b="y2",T="x2";g.attr("dy",".32em").style("text-anchor",x<0?"end":"start");v.attr("d","M"+x*L+","+f[0]+"H0V"+f[1]+"H"+x*L)}h.attr(T,x*C);m.attr(w,x*c);p.attr(b,0).attr(T,x*C);y.attr(_,0).attr(w,x*c);if(r.rangeBand){var k=r,A=k.rangeBand()/2;t=r=function(e){return k(e)+A}}else if(t.rangeBand){t=r}else{l.call(u,r,t)}o.call(u,t,r);s.call(u,r,r)})}axis.scale=function(e){if(!arguments.length)return M;M=e;return axis};axis.orient=function(e){if(!arguments.length)return S;S=e in Ue?e+"":Ye;return axis};axis.ticks=function(){if(!arguments.length)return O;O=f(arguments);return axis};axis.tickValues=function(e){if(!arguments.length)return P;P=e;return axis};axis.tickFormat=function(e){if(!arguments.length)return I;I=e;return axis};axis.tickSize=function(e){var t=arguments.length;if(!t)return C;C=+e;L=+arguments[t-1];return axis};axis.innerTickSize=function(e){if(!arguments.length)return C;C=+e;return axis};axis.outerTickSize=function(e){if(!arguments.length)return L;L=+e;return axis};axis.tickPadding=function(e){if(!arguments.length)return D;D=+e;return axis};axis.tickSubdivide=function(){return arguments.length&&axis};return axis};var Ye="bottom",Ue={top:1,right:1,bottom:1,left:1};function d3_svg_axisX(e,r,a){e.attr("transform",function(e){var t=r(e);return"translate("+(isFinite(t)?t:a(e))+",0)"})}function d3_svg_axisY(e,r,a){e.attr("transform",function(e){var t=r(e);return"translate(0,"+(isFinite(t)?t:a(e))+")"})}R.svg.brush=function(){var p=d3_eventDispatch(brush,"brushstart","brush","brushend"),g=null,m=null,y=[0,0],x=[0,0],_,b,w=true,T=true,o=qe[0];function brush(e){e.each(function(){var e=R.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart);var t=e.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=e.selectAll(".resize").data(o,d3_identity);r.exit().remove();r.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Ge[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");r.style("display",brush.empty()?"none":null);var a=R.transition(e),n=R.transition(t),i;if(g){i=d3_scaleRange(g);n.attr("x",i[0]).attr("width",i[1]-i[0]);redrawX(a)}if(m){i=d3_scaleRange(m);n.attr("y",i[0]).attr("height",i[1]-i[0]);redrawY(a)}redraw(a)})}brush.event=function(e){e.each(function(){var a=p.of(this,arguments),n={x:y,y:x,i:_,j:b},e=this.__chart__||n;this.__chart__=n;if(A){R.select(this).transition().each("start.brush",function(){_=e.i;b=e.j;y=e.x;x=e.y;a({type:"brushstart"})}).tween("brush:brush",function(){var t=d3_interpolateArray(y,n.x),r=d3_interpolateArray(x,n.y);_=b=null;return function(e){y=n.x=t(e);x=n.y=r(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){_=n.i;b=n.j;a({type:"brush",mode:"resize"});a({type:"brushend"})})}else{a({type:"brushstart"});a({type:"brush",mode:"resize"});a({type:"brushend"})}})};function redraw(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+y[+/e$/.test(e)]+","+x[+/^s/.test(e)]+")"})}function redrawX(e){e.select(".extent").attr("x",y[0]);e.selectAll(".extent,.n>rect,.s>rect").attr("width",y[1]-y[0])}function redrawY(e){e.select(".extent").attr("y",x[0]);e.selectAll(".extent,.e>rect,.w>rect").attr("height",x[1]-x[0])}function brushstart(){var r=this,e=R.select(R.event.target),a=p.of(r,arguments),n=R.select(r),t=e.datum(),i=!/^(n|s)$/.test(t)&&g,o=!/^(e|w)$/.test(t)&&m,f=e.classed("extent"),l=d3_event_dragSuppress(r),d,v=R.mouse(r),s;var c=R.select(d3_window(r)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(R.event.changedTouches){c.on("touchmove.brush",brushmove).on("touchend.brush",brushend)}else{c.on("mousemove.brush",brushmove).on("mouseup.brush",brushend)}n.interrupt().selectAll("*").interrupt();if(f){v[0]=y[0]-v[0];v[1]=x[0]-v[1]}else if(t){var u=+/w$/.test(t),h=+/^n/.test(t);s=[y[1-u]-v[0],x[1-h]-v[1]];v[0]=y[u];v[1]=x[h]}else if(R.event.altKey)d=v.slice();n.style("pointer-events","none").selectAll(".resize").style("display",null);R.select("body").style("cursor",e.style("cursor"));a({type:"brushstart"});brushmove();function keydown(){if(R.event.keyCode==32){if(!f){d=null;v[0]-=y[1];v[1]-=x[1];f=2}d3_eventPreventDefault()}}function keyup(){if(R.event.keyCode==32&&f==2){v[0]+=y[1];v[1]+=x[1];f=0;d3_eventPreventDefault()}}function brushmove(){var e=R.mouse(r),t=false;if(s){e[0]+=s[0];e[1]+=s[1]}if(!f){if(R.event.altKey){if(!d)d=[(y[0]+y[1])/2,(x[0]+x[1])/2];v[0]=y[+(e[0]<d[0])];v[1]=x[+(e[1]<d[1])]}else d=null}if(i&&move1(e,g,0)){redrawX(n);t=true}if(o&&move1(e,m,1)){redrawY(n);t=true}if(t){redraw(n);a({type:"brush",mode:f?"move":"resize"})}}function move1(e,t,r){var a=d3_scaleRange(t),n=a[0],i=a[1],o=v[r],l=r?x:y,s=l[1]-l[0],c,u;if(f){n-=o;i-=s+o}c=(r?T:w)?Math.max(n,Math.min(i,e[r])):e[r];if(f){u=(c+=o)+s}else{if(d)o=Math.max(n,Math.min(i,2*d[r]-c));if(o<c){u=c;c=o}else{u=o}}if(l[0]!=c||l[1]!=u){if(r)b=null;else _=null;l[0]=c;l[1]=u;return true}}function brushend(){brushmove();n.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null);R.select("body").style("cursor",null);c.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);l();a({type:"brushend"})}}brush.x=function(e){if(!arguments.length)return g;g=e;o=qe[!g<<1|!m];return brush};brush.y=function(e){if(!arguments.length)return m;m=e;o=qe[!g<<1|!m];return brush};brush.clamp=function(e){if(!arguments.length)return g&&m?[w,T]:g?w:m?T:null;if(g&&m)w=!!e[0],T=!!e[1];else if(g)w=!!e;else if(m)T=!!e;return brush};brush.extent=function(e){var t,r,a,n,i;if(!arguments.length){if(g){if(_){t=_[0],r=_[1]}else{t=y[0],r=y[1];if(g.invert)t=g.invert(t),r=g.invert(r);if(r<t)i=t,t=r,r=i}}if(m){if(b){a=b[0],n=b[1]}else{a=x[0],n=x[1];if(m.invert)a=m.invert(a),n=m.invert(n);if(n<a)i=a,a=n,n=i}}return g&&m?[[t,a],[r,n]]:g?[t,r]:m&&[a,n]}if(g){t=e[0],r=e[1];if(m)t=t[0],r=r[0];_=[t,r];if(g.invert)t=g(t),r=g(r);if(r<t)i=t,t=r,r=i;if(t!=y[0]||r!=y[1])y=[t,r]}if(m){a=e[0],n=e[1];if(g)a=a[1],n=n[1];b=[a,n];if(m.invert)a=m(a),n=m(n);if(n<a)i=a,a=n,n=i;if(a!=x[0]||n!=x[1])x=[a,n]}return brush};brush.clear=function(){if(!brush.empty()){y=[0,0],x=[0,0];_=b=null}return brush};brush.empty=function(){return!!g&&y[0]==y[1]||!!m&&x[0]==x[1]};return R.rebind(brush,p,"on")};var Ge={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var qe=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];R.text=d3_xhrType(function(e){return e.responseText});R.json=function(e,t){return d3_xhr(e,"application/json",d3_json,t)};function d3_json(e){return JSON.parse(e.responseText)}R.html=function(e,t){return d3_xhr(e,"text/html",d3_html,t)};function d3_html(e){var t=g.createRange();t.selectNode(g.body);return t.createContextualFragment(e.responseText)}R.xml=d3_xhrType(function(e){return e.responseXML});if(true)!($e=R,et=typeof $e==="function"?$e.call(Ke,Qe,Ke,Je):$e,et!==undefined&&(Je.exports=et));else{}}.apply(self)},721:function(e,t,r){"use strict";r.d(t,{WU:function(){return l},FF:function(){return locale}});function formatDecimal(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function formatDecimalParts(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function exponent(e){return e=formatDecimalParts(Math.abs(e)),e?e[1]:NaN}function formatGroup(l,s){return function(e,t){var r=e.length,a=[],n=0,i=l[0],o=0;while(r>0&&i>0){if(o+i+1>t)i=Math.max(1,t-o);a.push(e.substring(r-=i,r+i));if((o+=i+1)>t)break;i=l[n=(n+1)%l.length]}return a.reverse().join(s)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}var a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){if(!(t=a.exec(e)))throw new Error("invalid format: "+e);var t;return new FormatSpecifier({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(e){this.fill=e.fill===undefined?" ":e.fill+"";this.align=e.align===undefined?">":e.align+"";this.sign=e.sign===undefined?"-":e.sign+"";this.symbol=e.symbol===undefined?"":e.symbol+"";this.zero=!!e.zero;this.width=e.width===undefined?undefined:+e.width;this.comma=!!e.comma;this.precision=e.precision===undefined?undefined:+e.precision;this.trim=!!e.trim;this.type=e.type===undefined?"":e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===undefined?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===undefined?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(e){e:for(var t=e.length,r=1,a=-1,n;r<t;++r){switch(e[r]){case".":a=n=r;break;case"0":if(a===0)a=r;n=r;break;default:if(!+e[r])break e;if(a>0)a=0;break}}return a>0?e.slice(0,a)+e.slice(n+1):e}var S;function formatPrefixAuto(e,t){var r=formatDecimalParts(e,t);if(!r)return e+"";var a=r[0],n=r[1],i=n-(S=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+formatDecimalParts(e,Math.max(0,t+i-1))[0]}function formatRounded(e,t){var r=formatDecimalParts(e,t);if(!r)return e+"";var a=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}var i={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:formatDecimal,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return formatRounded(e*100,t)},r:formatRounded,s:formatPrefixAuto,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function identity(e){return e}var o=Array.prototype.map,C=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function locale(e){var w=e.grouping===undefined||e.thousands===undefined?identity:formatGroup(o.call(e.grouping,Number),e.thousands+""),r=e.currency===undefined?"":e.currency[0]+"",a=e.currency===undefined?"":e.currency[1]+"",T=e.decimal===undefined?".":e.decimal+"",k=e.numerals===undefined?identity:formatNumerals(o.call(e.numerals,String)),n=e.percent===undefined?"%":e.percent+"",A=e.minus===undefined?"-":e.minus+"",M=e.nan===undefined?"NaN":e.nan+"";function newFormat(e){e=formatSpecifier(e);var c=e.fill,u=e.align,f=e.sign,t=e.symbol,d=e.zero,v=e.width,h=e.comma,p=e.precision,g=e.trim,m=e.type;if(m==="n")h=true,m="g";else if(!i[m])p===undefined&&(p=12),g=true,m="g";if(d||c==="0"&&u==="=")d=true,c="0",u="=";var y=t==="$"?r:t==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",x=t==="$"?a:/[%p]/.test(m)?n:"";var _=i[m],b=/[defgprs%]/.test(m);p=p===undefined?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function format(e){var t=y,r=x,a,n,i;if(m==="c"){r=_(e)+r;e=""}else{e=+e;var o=e<0||1/e<0;e=isNaN(e)?M:_(Math.abs(e),p);if(g)e=formatTrim(e);if(o&&+e===0&&f!=="+")o=false;t=(o?f==="("?f:A:f==="-"||f==="("?"":f)+t;r=(m==="s"?C[8+S/3]:"")+r+(o&&f==="("?")":"");if(b){a=-1,n=e.length;while(++a<n){if(i=e.charCodeAt(a),48>i||i>57){r=(i===46?T+e.slice(a+1):e.slice(a))+r;e=e.slice(0,a);break}}}}if(h&&!d)e=w(e,Infinity);var l=t.length+e.length+r.length,s=l<v?new Array(v-l+1).join(c):"";if(h&&d)e=w(s+e,s.length?v-r.length:Infinity),s="";switch(u){case"<":e=t+e+r+s;break;case"=":e=t+s+e+r;break;case"^":e=s.slice(0,l=s.length>>1)+t+e+r+s.slice(l);break;default:e=s+t+e+r;break}return k(e)}format.toString=function(){return e+""};return format}function formatPrefix(e,t){var r=newFormat((e=formatSpecifier(e),e.type="f",e)),a=Math.max(-8,Math.min(8,Math.floor(exponent(t)/3)))*3,n=Math.pow(10,-a),i=C[8+a/3];return function(e){return r(n*e)+i}}return{format:newFormat,formatPrefix:formatPrefix}}var n;var l;var s;defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function defaultLocale(e){n=locale(e);l=n.format;s=n.formatPrefix;return n}},4096:function(u,e,t){"use strict";t.d(e,{i$:function(){return s},Dq:function(){return formatLocale},g0:function(){return c}});var w=t(8176);var T=t(8480);var k=t(9879);var A=t(2301);var a=t(4823);var n=t(9791);function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);t.setFullYear(e.y);return t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));t.setUTCFullYear(e.y);return t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function formatLocale(e){var a=e.dateTime,n=e.date,i=e.time,t=e.periods,r=e.days,o=e.shortDays,l=e.months,s=e.shortMonths;var c=formatRe(t),u=formatLookup(t),f=formatRe(r),d=formatLookup(r),v=formatRe(o),h=formatLookup(o),p=formatRe(l),g=formatLookup(l),m=formatRe(s),y=formatLookup(s);var x={a:formatShortWeekday,A:formatWeekday,b:formatShortMonth,B:formatMonth,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:formatPeriod,q:formatQuarter,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent};var _={a:formatUTCShortWeekday,A:formatUTCWeekday,b:formatUTCShortMonth,B:formatUTCMonth,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:formatUTCPeriod,q:formatUTCQuarter,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent};var b={a:parseShortWeekday,A:parseWeekday,b:parseShortMonth,B:parseMonth,c:parseLocaleDateTime,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:parsePeriod,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:parseLocaleDate,X:parseLocaleTime,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};x.x=newFormat(n,x);x.X=newFormat(i,x);x.c=newFormat(a,x);_.x=newFormat(n,_);_.X=newFormat(i,_);_.c=newFormat(a,_);function newFormat(s,c){return function(e){var t=[],r=-1,a=0,n=s.length,i,o,l;if(!(e instanceof Date))e=new Date(+e);while(++r<n){if(s.charCodeAt(r)===37){t.push(s.slice(a,r));if((o=M[i=s.charAt(++r)])!=null)i=s.charAt(++r);else o=i==="e"?" ":"0";if(l=c[i])i=l(e,o);t.push(i);a=r+1}}t.push(s.slice(a,r));return t.join("")}}function newParse(i,o){return function(e){var t=newDate(1900,undefined,1),r=parseSpecifier(t,i,e+="",0),a,n;if(r!=e.length)return null;if("Q"in t)return new Date(t.Q);if("s"in t)return new Date(t.s*1e3+("L"in t?t.L:0));if(o&&!("Z"in t))t.Z=0;if("p"in t)t.H=t.H%12+t.p*12;if(t.m===undefined)t.m="q"in t?t.q:0;if("V"in t){if(t.V<1||t.V>53)return null;if(!("w"in t))t.w=1;if("Z"in t){a=utcDate(newDate(t.y,0,1)),n=a.getUTCDay();a=n>4||n===0?w.l6.ceil(a):(0,w.l6)(a);a=T.Z.offset(a,(t.V-1)*7);t.y=a.getUTCFullYear();t.m=a.getUTCMonth();t.d=a.getUTCDate()+(t.w+6)%7}else{a=localDate(newDate(t.y,0,1)),n=a.getDay();a=n>4||n===0?k.wA.ceil(a):(0,k.wA)(a);a=A.Z.offset(a,(t.V-1)*7);t.y=a.getFullYear();t.m=a.getMonth();t.d=a.getDate()+(t.w+6)%7}}else if("W"in t||"U"in t){if(!("w"in t))t.w="u"in t?t.u%7:"W"in t?1:0;n="Z"in t?utcDate(newDate(t.y,0,1)).getUTCDay():localDate(newDate(t.y,0,1)).getDay();t.m=0;t.d="W"in t?(t.w+6)%7+t.W*7-(n+5)%7:t.w+t.U*7-(n+6)%7}if("Z"in t){t.H+=t.Z/100|0;t.M+=t.Z%100;return utcDate(t)}return localDate(t)}}function parseSpecifier(e,t,r,a){var n=0,i=t.length,o=r.length,l,s;while(n<i){if(a>=o)return-1;l=t.charCodeAt(n++);if(l===37){l=t.charAt(n++);s=b[l in M?t.charAt(n++):l];if(!s||(a=s(e,r,a))<0)return-1}else if(l!=r.charCodeAt(a++)){return-1}}return a}function parsePeriod(e,t,r){var a=c.exec(t.slice(r));return a?(e.p=u[a[0].toLowerCase()],r+a[0].length):-1}function parseShortWeekday(e,t,r){var a=v.exec(t.slice(r));return a?(e.w=h[a[0].toLowerCase()],r+a[0].length):-1}function parseWeekday(e,t,r){var a=f.exec(t.slice(r));return a?(e.w=d[a[0].toLowerCase()],r+a[0].length):-1}function parseShortMonth(e,t,r){var a=m.exec(t.slice(r));return a?(e.m=y[a[0].toLowerCase()],r+a[0].length):-1}function parseMonth(e,t,r){var a=p.exec(t.slice(r));return a?(e.m=g[a[0].toLowerCase()],r+a[0].length):-1}function parseLocaleDateTime(e,t,r){return parseSpecifier(e,a,t,r)}function parseLocaleDate(e,t,r){return parseSpecifier(e,n,t,r)}function parseLocaleTime(e,t,r){return parseSpecifier(e,i,t,r)}function formatShortWeekday(e){return o[e.getDay()]}function formatWeekday(e){return r[e.getDay()]}function formatShortMonth(e){return s[e.getMonth()]}function formatMonth(e){return l[e.getMonth()]}function formatPeriod(e){return t[+(e.getHours()>=12)]}function formatQuarter(e){return 1+~~(e.getMonth()/3)}function formatUTCShortWeekday(e){return o[e.getUTCDay()]}function formatUTCWeekday(e){return r[e.getUTCDay()]}function formatUTCShortMonth(e){return s[e.getUTCMonth()]}function formatUTCMonth(e){return l[e.getUTCMonth()]}function formatUTCPeriod(e){return t[+(e.getUTCHours()>=12)]}function formatUTCQuarter(e){return 1+~~(e.getUTCMonth()/3)}return{format:function(e){var t=newFormat(e+="",x);t.toString=function(){return e};return t},parse:function(e){var t=newParse(e+="",false);t.toString=function(){return e};return t},utcFormat:function(e){var t=newFormat(e+="",_);t.toString=function(){return e};return t},utcParse:function(e){var t=newParse(e+="",true);t.toString=function(){return e};return t}}}var M={"-":"",_:" ",0:"0"},i=/^\s*\d+/,o=/^%/,r=/[\\^$*+?|[\]().{}]/g;function pad(e,t,r){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<r?new Array(r-i+1).join(t)+n:n)}function requote(e){return e.replace(r,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){var t={},r=-1,a=e.length;while(++r<a)t[e[r].toLowerCase()]=r;return t}function parseWeekdayNumberSunday(e,t,r){var a=i.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function parseWeekdayNumberMonday(e,t,r){var a=i.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function parseWeekNumberSunday(e,t,r){var a=i.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function parseWeekNumberISO(e,t,r){var a=i.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function parseWeekNumberMonday(e,t,r){var a=i.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function parseFullYear(e,t,r){var a=i.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function parseYear(e,t,r){var a=i.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function parseZone(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function parseQuarter(e,t,r){var a=i.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function parseMonthNumber(e,t,r){var a=i.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function parseDayOfMonth(e,t,r){var a=i.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function parseDayOfYear(e,t,r){var a=i.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function parseHour24(e,t,r){var a=i.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function parseMinutes(e,t,r){var a=i.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function parseSeconds(e,t,r){var a=i.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function parseMilliseconds(e,t,r){var a=i.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function parseMicroseconds(e,t,r){var a=i.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function parseLiteralPercent(e,t,r){var a=o.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function parseUnixTimestamp(e,t,r){var a=i.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function parseUnixTimestampSeconds(e,t,r){var a=i.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function formatDayOfMonth(e,t){return pad(e.getDate(),t,2)}function formatHour24(e,t){return pad(e.getHours(),t,2)}function formatHour12(e,t){return pad(e.getHours()%12||12,t,2)}function formatDayOfYear(e,t){return pad(1+A.Z.count((0,a.Z)(e),e),t,3)}function formatMilliseconds(e,t){return pad(e.getMilliseconds(),t,3)}function formatMicroseconds(e,t){return formatMilliseconds(e,t)+"000"}function formatMonthNumber(e,t){return pad(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad(e.getSeconds(),t,2)}function formatWeekdayNumberMonday(e){var t=e.getDay();return t===0?7:t}function formatWeekNumberSunday(e,t){return pad(k.OM.count((0,a.Z)(e)-1,e),t,2)}function formatWeekNumberISO(e,t){var r=e.getDay();e=r>=4||r===0?(0,k.bL)(e):k.bL.ceil(e);return pad(k.bL.count((0,a.Z)(e),e)+((0,a.Z)(e).getDay()===4),t,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,t){return pad(k.wA.count((0,a.Z)(e)-1,e),t,2)}function formatYear(e,t){return pad(e.getFullYear()%100,t,2)}function formatFullYear(e,t){return pad(e.getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad(t/60|0,"0",2)+pad(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,t){return pad(1+T.Z.count((0,n.Z)(e),e),t,3)}function formatUTCMilliseconds(e,t){return pad(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds(e,t){return formatUTCMilliseconds(e,t)+"000"}function formatUTCMonthNumber(e,t){return pad(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday(e){var t=e.getUTCDay();return t===0?7:t}function formatUTCWeekNumberSunday(e,t){return pad(w.Ox.count((0,n.Z)(e)-1,e),t,2)}function formatUTCWeekNumberISO(e,t){var r=e.getUTCDay();e=r>=4||r===0?(0,w.hB)(e):w.hB.ceil(e);return pad(w.hB.count((0,n.Z)(e),e)+((0,n.Z)(e).getUTCDay()===4),t,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,t){return pad(w.l6.count((0,n.Z)(e)-1,e),t,2)}function formatUTCYear(e,t){return pad(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}var l;var s;var f;var c;var d;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(e){l=formatLocale(e);s=l.format;f=l.parse;c=l.utcFormat;d=l.utcParse;return l}},2301:function(e,t,r){"use strict";r.d(t,{a:function(){return o}});var a=r(52);var n=r(4263);var i=(0,a.Z)(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*n.yB)/n.UD},function(e){return e.getDate()-1});t["Z"]=i;var o=i.range},4263:function(e,t,r){"use strict";r.d(t,{UD:function(){return o},Y2:function(){return i},Ym:function(){return a},iM:function(){return l},yB:function(){return n}});var a=1e3;var n=6e4;var i=36e5;var o=864e5;var l=6048e5},1041:function(e,t,r){"use strict";r.r(t);r.d(t,{timeDay:function(){return m.Z},timeDays:function(){return m.a},timeFriday:function(){return y.mC},timeFridays:function(){return y.b$},timeHour:function(){return p},timeHours:function(){return g},timeInterval:function(){return a.Z},timeMillisecond:function(){return i},timeMilliseconds:function(){return o},timeMinute:function(){return d},timeMinutes:function(){return v},timeMonday:function(){return y.wA},timeMondays:function(){return y.bJ},timeMonth:function(){return _},timeMonths:function(){return b},timeSaturday:function(){return y.EY},timeSaturdays:function(){return y.Ff},timeSecond:function(){return c},timeSeconds:function(){return u},timeSunday:function(){return y.OM},timeSundays:function(){return y.vm},timeThursday:function(){return y.bL},timeThursdays:function(){return y.$t},timeTuesday:function(){return y.sy},timeTuesdays:function(){return y.aU},timeWednesday:function(){return y.zg},timeWednesdays:function(){return y.Ld},timeWeek:function(){return y.OM},timeWeeks:function(){return y.vm},timeYear:function(){return w.Z},timeYears:function(){return w.g},utcDay:function(){return L.Z},utcDays:function(){return L.y},utcFriday:function(){return D.QQ},utcFridays:function(){return D.fz},utcHour:function(){return S},utcHours:function(){return C},utcMillisecond:function(){return i},utcMilliseconds:function(){return o},utcMinute:function(){return k},utcMinutes:function(){return A},utcMonday:function(){return D.l6},utcMondays:function(){return D.$3},utcMonth:function(){return P},utcMonths:function(){return I},utcSaturday:function(){return D.g4},utcSaturdays:function(){return D.Q_},utcSecond:function(){return c},utcSeconds:function(){return u},utcSunday:function(){return D.Ox},utcSundays:function(){return D.SU},utcThursday:function(){return D.hB},utcThursdays:function(){return D.xj},utcTuesday:function(){return D.J1},utcTuesdays:function(){return D.DK},utcWednesday:function(){return D.b3},utcWednesdays:function(){return D.uy},utcWeek:function(){return D.Ox},utcWeeks:function(){return D.SU},utcYear:function(){return R.Z},utcYears:function(){return R.D}});var a=r(52);var n=(0,a.Z)(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});n.every=function(r){r=Math.floor(r);if(!isFinite(r)||!(r>0))return null;if(!(r>1))return n;return(0,a.Z)(function(e){e.setTime(Math.floor(e/r)*r)},function(e,t){e.setTime(+e+t*r)},function(e,t){return(t-e)/r})};var i=n;var o=n.range;var l=r(4263);var s=(0,a.Z)(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*l.Ym)},function(e,t){return(t-e)/l.Ym},function(e){return e.getUTCSeconds()});var c=s;var u=s.range;var f=(0,a.Z)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*l.Ym)},function(e,t){e.setTime(+e+t*l.yB)},function(e,t){return(t-e)/l.yB},function(e){return e.getMinutes()});var d=f;var v=f.range;var h=(0,a.Z)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*l.Ym-e.getMinutes()*l.yB)},function(e,t){e.setTime(+e+t*l.Y2)},function(e,t){return(t-e)/l.Y2},function(e){return e.getHours()});var p=h;var g=h.range;var m=r(2301);var y=r(9879);var x=(0,a.Z)(function(e){e.setDate(1);e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});var _=x;var b=x.range;var w=r(4823);var T=(0,a.Z)(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*l.yB)},function(e,t){return(t-e)/l.yB},function(e){return e.getUTCMinutes()});var k=T;var A=T.range;var M=(0,a.Z)(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*l.Y2)},function(e,t){return(t-e)/l.Y2},function(e){return e.getUTCHours()});var S=M;var C=M.range;var L=r(8480);var D=r(8176);var O=(0,a.Z)(function(e){e.setUTCDate(1);e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});var P=O;var I=O.range;var R=r(9791)},52:function(e,t,r){"use strict";r.d(t,{Z:function(){return newInterval}});var n=new Date,l=new Date;function newInterval(i,o,r,a){function interval(e){return i(e=arguments.length===0?new Date:new Date(+e)),e}interval.floor=function(e){return i(e=new Date(+e)),e};interval.ceil=function(e){return i(e=new Date(e-1)),o(e,1),i(e),e};interval.round=function(e){var t=interval(e),r=interval.ceil(e);return e-t<r-e?t:r};interval.offset=function(e,t){return o(e=new Date(+e),t==null?1:Math.floor(t)),e};interval.range=function(e,t,r){var a=[],n;e=interval.ceil(e);r=r==null?1:Math.floor(r);if(!(e<t)||!(r>0))return a;do{a.push(n=new Date(+e)),o(e,r),i(e)}while(n<e&&e<t);return a};interval.filter=function(r){return newInterval(function(e){if(e>=e)while(i(e),!r(e))e.setTime(e-1)},function(e,t){if(e>=e){if(t<0)while(++t<=0){while(o(e,-1),!r(e)){}}else while(--t>=0){while(o(e,+1),!r(e)){}}}})};if(r){interval.count=function(e,t){n.setTime(+e),l.setTime(+t);i(n),i(l);return Math.floor(r(n,l))};interval.every=function(t){t=Math.floor(t);return!isFinite(t)||!(t>0)?null:!(t>1)?interval:interval.filter(a?function(e){return a(e)%t===0}:function(e){return interval.count(0,e)%t===0})}}return interval}},8480:function(e,t,r){"use strict";r.d(t,{y:function(){return o}});var a=r(52);var n=r(4263);var i=(0,a.Z)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/n.UD},function(e){return e.getUTCDate()-1});t["Z"]=i;var o=i.range},8176:function(e,t,r){"use strict";r.d(t,{$3:function(){return v},DK:function(){return h},J1:function(){return l},Ox:function(){return i},QQ:function(){return u},Q_:function(){return y},SU:function(){return d},b3:function(){return s},fz:function(){return m},g4:function(){return f},hB:function(){return c},l6:function(){return o},uy:function(){return p},xj:function(){return g}});var a=r(52);var n=r(4263);function utcWeekday(t){return(0,a.Z)(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7);e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t*7)},function(e,t){return(t-e)/n.iM})}var i=utcWeekday(0);var o=utcWeekday(1);var l=utcWeekday(2);var s=utcWeekday(3);var c=utcWeekday(4);var u=utcWeekday(5);var f=utcWeekday(6);var d=i.range;var v=o.range;var h=l.range;var p=s.range;var g=c.range;var m=u.range;var y=f.range},9791:function(e,t,r){"use strict";r.d(t,{D:function(){return i}});var a=r(52);var n=(0,a.Z)(function(e){e.setUTCMonth(0,1);e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});n.every=function(r){return!isFinite(r=Math.floor(r))||!(r>0)?null:(0,a.Z)(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r);e.setUTCMonth(0,1);e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t*r)})};t["Z"]=n;var i=n.range},9879:function(e,t,r){"use strict";r.d(t,{$t:function(){return g},EY:function(){return f},Ff:function(){return y},Ld:function(){return p},OM:function(){return i},aU:function(){return h},b$:function(){return m},bJ:function(){return v},bL:function(){return c},mC:function(){return u},sy:function(){return l},vm:function(){return d},wA:function(){return o},zg:function(){return s}});var a=r(52);var n=r(4263);function weekday(t){return(0,a.Z)(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7);e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t*7)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*n.yB)/n.iM})}var i=weekday(0);var o=weekday(1);var l=weekday(2);var s=weekday(3);var c=weekday(4);var u=weekday(5);var f=weekday(6);var d=i.range;var v=o.range;var h=l.range;var p=s.range;var g=c.range;var m=u.range;var y=f.range},4823:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var a=r(52);var n=(0,a.Z)(function(e){e.setMonth(0,1);e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});n.every=function(r){return!isFinite(r=Math.floor(r))||!(r>0)?null:(0,a.Z)(function(e){e.setFullYear(Math.floor(e.getFullYear()/r)*r);e.setMonth(0,1);e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t*r)})};t["Z"]=n;var i=n.range},5398:function(e){"use strict";var t=typeof Reflect==="object"?Reflect:null;var u=t&&typeof t.apply==="function"?t.apply:function u(e,t,r){return Function.prototype.apply.call(e,t,r)};var r;if(t&&typeof t.ownKeys==="function"){r=t.ownKeys}else if(Object.getOwnPropertySymbols){r=function r(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}}else{r=function r(e){return Object.getOwnPropertyNames(e)}}function ProcessEmitWarning(e){if(console&&console.warn)console.warn(e)}var a=Number.isNaN||function a(e){return e!==e};function EventEmitter(){EventEmitter.init.call(this)}e.exports=EventEmitter;e.exports.once=once;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=undefined;var n=10;function checkListener(e){if(typeof e!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:true,get:function(){return n},set:function(e){if(typeof e!=="number"||e<0||a(e)){throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".")}n=e}});EventEmitter.init=function(){if(this._events===undefined||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined};EventEmitter.prototype.setMaxListeners=function setMaxListeners(e){if(typeof e!=="number"||e<0||a(e)){throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".")}this._maxListeners=e;return this};function _getMaxListeners(e){if(e._maxListeners===undefined)return EventEmitter.defaultMaxListeners;return e._maxListeners}EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function emit(e){var t=[];for(var r=1;r<arguments.length;r++)t.push(arguments[r]);var a=e==="error";var n=this._events;if(n!==undefined)a=a&&n.error===undefined;else if(!a)return false;if(a){var i;if(t.length>0)i=t[0];if(i instanceof Error){throw i}var o=new Error("Unhandled error."+(i?" ("+i.message+")":""));o.context=i;throw o}var l=n[e];if(l===undefined)return false;if(typeof l==="function"){u(l,this,t)}else{var s=l.length;var c=arrayClone(l,s);for(var r=0;r<s;++r)u(c[r],this,t)}return true};function _addListener(e,t,r,a){var n;var i;var o;checkListener(r);i=e._events;if(i===undefined){i=e._events=Object.create(null);e._eventsCount=0}else{if(i.newListener!==undefined){e.emit("newListener",t,r.listener?r.listener:r);i=e._events}o=i[t]}if(o===undefined){o=i[t]=r;++e._eventsCount}else{if(typeof o==="function"){o=i[t]=a?[r,o]:[o,r]}else if(a){o.unshift(r)}else{o.push(r)}n=_getMaxListeners(e);if(n>0&&o.length>n&&!o.warned){o.warned=true;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners "+"added. Use emitter.setMaxListeners() to "+"increase limit");l.name="MaxListenersExceededWarning";l.emitter=e;l.type=t;l.count=o.length;ProcessEmitWarning(l)}}return e}EventEmitter.prototype.addListener=function addListener(e,t){return _addListener(this,e,t,false)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function prependListener(e,t){return _addListener(this,e,t,true)};function onceWrapper(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;if(arguments.length===0)return this.listener.call(this.target);return this.listener.apply(this.target,arguments)}}function _onceWrap(e,t,r){var a={fired:false,wrapFn:undefined,target:e,type:t,listener:r};var n=onceWrapper.bind(a);n.listener=r;a.wrapFn=n;return n}EventEmitter.prototype.once=function once(e,t){checkListener(t);this.on(e,_onceWrap(this,e,t));return this};EventEmitter.prototype.prependOnceListener=function prependOnceListener(e,t){checkListener(t);this.prependListener(e,_onceWrap(this,e,t));return this};EventEmitter.prototype.removeListener=function removeListener(e,t){var r,a,n,i,o;checkListener(t);a=this._events;if(a===undefined)return this;r=a[e];if(r===undefined)return this;if(r===t||r.listener===t){if(--this._eventsCount===0)this._events=Object.create(null);else{delete a[e];if(a.removeListener)this.emit("removeListener",e,r.listener||t)}}else if(typeof r!=="function"){n=-1;for(i=r.length-1;i>=0;i--){if(r[i]===t||r[i].listener===t){o=r[i].listener;n=i;break}}if(n<0)return this;if(n===0)r.shift();else{spliceOne(r,n)}if(r.length===1)a[e]=r[0];if(a.removeListener!==undefined)this.emit("removeListener",e,o||t)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){var t,r,a;r=this._events;if(r===undefined)return this;if(r.removeListener===undefined){if(arguments.length===0){this._events=Object.create(null);this._eventsCount=0}else if(r[e]!==undefined){if(--this._eventsCount===0)this._events=Object.create(null);else delete r[e]}return this}if(arguments.length===0){var n=Object.keys(r);var i;for(a=0;a<n.length;++a){i=n[a];if(i==="removeListener")continue;this.removeAllListeners(i)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}t=r[e];if(typeof t==="function"){this.removeListener(e,t)}else if(t!==undefined){for(a=t.length-1;a>=0;a--){this.removeListener(e,t[a])}}return this};function _listeners(e,t,r){var a=e._events;if(a===undefined)return[];var n=a[t];if(n===undefined)return[];if(typeof n==="function")return r?[n.listener||n]:[n];return r?unwrapListeners(n):arrayClone(n,n.length)}EventEmitter.prototype.listeners=function listeners(e){return _listeners(this,e,true)};EventEmitter.prototype.rawListeners=function rawListeners(e){return _listeners(this,e,false)};EventEmitter.listenerCount=function(e,t){if(typeof e.listenerCount==="function"){return e.listenerCount(t)}else{return listenerCount.call(e,t)}};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(e){var t=this._events;if(t!==undefined){var r=t[e];if(typeof r==="function"){return 1}else if(r!==undefined){return r.length}}return 0}EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?r(this._events):[]};function arrayClone(e,t){var r=new Array(t);for(var a=0;a<t;++a)r[a]=e[a];return r}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){var t=new Array(e.length);for(var r=0;r<t.length;++r){t[r]=e[r].listener||e[r]}return t}function once(r,a){return new Promise(function(e,t){function errorListener(e){r.removeListener(a,resolver);t(e)}function resolver(){if(typeof r.removeListener==="function"){r.removeListener("error",errorListener)}e([].slice.call(arguments))}eventTargetAgnosticAddListener(r,a,resolver,{once:true});if(a!=="error"){addErrorHandlerIfEventEmitter(r,errorListener,{once:true})}})}function addErrorHandlerIfEventEmitter(e,t,r){if(typeof e.on==="function"){eventTargetAgnosticAddListener(e,"error",t,r)}}function eventTargetAgnosticAddListener(t,r,a,n){if(typeof t.on==="function"){if(n.once){t.once(r,a)}else{t.on(r,a)}}else if(typeof t.addEventListener==="function"){t.addEventListener(r,function wrapListener(e){if(n.once){t.removeEventListener(r,wrapListener)}a(e)})}else{throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}}},2770:function(e,t,r){"use strict";var a=r(8546);e.exports=function(e){var t=typeof e;if(t==="string"){var r=e;e=+e;if(e===0&&a(r))return false}else if(t!=="number")return false;return e-e<1}},5400:function(e){e.exports=adjoint;function adjoint(e,t){var r=t[0],a=t[1],n=t[2],i=t[3],o=t[4],l=t[5],s=t[6],c=t[7],u=t[8],f=t[9],d=t[10],v=t[11],h=t[12],p=t[13],g=t[14],m=t[15];e[0]=l*(d*m-v*g)-f*(s*m-c*g)+p*(s*v-c*d);e[1]=-(a*(d*m-v*g)-f*(n*m-i*g)+p*(n*v-i*d));e[2]=a*(s*m-c*g)-l*(n*m-i*g)+p*(n*c-i*s);e[3]=-(a*(s*v-c*d)-l*(n*v-i*d)+f*(n*c-i*s));e[4]=-(o*(d*m-v*g)-u*(s*m-c*g)+h*(s*v-c*d));e[5]=r*(d*m-v*g)-u*(n*m-i*g)+h*(n*v-i*d);e[6]=-(r*(s*m-c*g)-o*(n*m-i*g)+h*(n*c-i*s));e[7]=r*(s*v-c*d)-o*(n*v-i*d)+u*(n*c-i*s);e[8]=o*(f*m-v*p)-u*(l*m-c*p)+h*(l*v-c*f);e[9]=-(r*(f*m-v*p)-u*(a*m-i*p)+h*(a*v-i*f));e[10]=r*(l*m-c*p)-o*(a*m-i*p)+h*(a*c-i*l);e[11]=-(r*(l*v-c*f)-o*(a*v-i*f)+u*(a*c-i*l));e[12]=-(o*(f*g-d*p)-u*(l*g-s*p)+h*(l*d-s*f));e[13]=r*(f*g-d*p)-u*(a*g-n*p)+h*(a*d-n*f);e[14]=-(r*(l*g-s*p)-o*(a*g-n*p)+h*(a*s-n*l));e[15]=r*(l*d-s*f)-o*(a*d-n*f)+u*(a*s-n*l);return e}},2331:function(e){e.exports=clone;function clone(e){var t=new Float32Array(16);t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4];t[5]=e[5];t[6]=e[6];t[7]=e[7];t[8]=e[8];t[9]=e[9];t[10]=e[10];t[11]=e[11];t[12]=e[12];t[13]=e[13];t[14]=e[14];t[15]=e[15];return t}},1042:function(e){e.exports=copy;function copy(e,t){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4];e[5]=t[5];e[6]=t[6];e[7]=t[7];e[8]=t[8];e[9]=t[9];e[10]=t[10];e[11]=t[11];e[12]=t[12];e[13]=t[13];e[14]=t[14];e[15]=t[15];return e}},1902:function(e){e.exports=create;function create(){var e=new Float32Array(16);e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=1;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=1;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}},9887:function(e){e.exports=determinant;function determinant(e){var t=e[0],r=e[1],a=e[2],n=e[3],i=e[4],o=e[5],l=e[6],s=e[7],c=e[8],u=e[9],f=e[10],d=e[11],v=e[12],h=e[13],p=e[14],g=e[15],m=t*o-r*i,y=t*l-a*i,x=t*s-n*i,_=r*l-a*o,b=r*s-n*o,w=a*s-n*l,T=c*h-u*v,k=c*p-f*v,A=c*g-d*v,M=u*p-f*h,S=u*g-d*h,C=f*g-d*p;return m*C-y*S+x*M+_*A-b*k+w*T}},7812:function(e){e.exports=fromQuat;function fromQuat(e,t){var r=t[0],a=t[1],n=t[2],i=t[3],o=r+r,l=a+a,s=n+n,c=r*o,u=a*o,f=a*l,d=n*o,v=n*l,h=n*s,p=i*o,g=i*l,m=i*s;e[0]=1-f-h;e[1]=u+m;e[2]=d-g;e[3]=0;e[4]=u-m;e[5]=1-c-h;e[6]=v+p;e[7]=0;e[8]=d+g;e[9]=v-p;e[10]=1-c-f;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}},4045:function(e){e.exports=fromRotation;function fromRotation(e,t,r){var a,n,i;var o=r[0];var l=r[1];var s=r[2];var c=Math.sqrt(o*o+l*l+s*s);if(Math.abs(c)<1e-6){return null}c=1/c;o*=c;l*=c;s*=c;a=Math.sin(t);n=Math.cos(t);i=1-n;e[0]=o*o*i+n;e[1]=l*o*i+s*a;e[2]=s*o*i-l*a;e[3]=0;e[4]=o*l*i-s*a;e[5]=l*l*i+n;e[6]=s*l*i+o*a;e[7]=0;e[8]=o*s*i+l*a;e[9]=l*s*i-o*a;e[10]=s*s*i+n;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}},5973:function(e){e.exports=fromRotationTranslation;function fromRotationTranslation(e,t,r){var a=t[0],n=t[1],i=t[2],o=t[3],l=a+a,s=n+n,c=i+i,u=a*l,f=a*s,d=a*c,v=n*s,h=n*c,p=i*c,g=o*l,m=o*s,y=o*c;e[0]=1-(v+p);e[1]=f+y;e[2]=d-m;e[3]=0;e[4]=f-y;e[5]=1-(u+p);e[6]=h+g;e[7]=0;e[8]=d+m;e[9]=h-g;e[10]=1-(u+v);e[11]=0;e[12]=r[0];e[13]=r[1];e[14]=r[2];e[15]=1;return e}},1472:function(e){e.exports=fromScaling;function fromScaling(e,t){e[0]=t[0];e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=t[1];e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=t[2];e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}},4669:function(e){e.exports=fromTranslation;function fromTranslation(e,t){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=1;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=1;e[11]=0;e[12]=t[0];e[13]=t[1];e[14]=t[2];e[15]=1;return e}},5262:function(e){e.exports=fromXRotation;function fromXRotation(e,t){var r=Math.sin(t),a=Math.cos(t);e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=a;e[6]=r;e[7]=0;e[8]=0;e[9]=-r;e[10]=a;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}},331:function(e){e.exports=fromYRotation;function fromYRotation(e,t){var r=Math.sin(t),a=Math.cos(t);e[0]=a;e[1]=0;e[2]=-r;e[3]=0;e[4]=0;e[5]=1;e[6]=0;e[7]=0;e[8]=r;e[9]=0;e[10]=a;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}},1049:function(e){e.exports=fromZRotation;function fromZRotation(e,t){var r=Math.sin(t),a=Math.cos(t);e[0]=a;e[1]=r;e[2]=0;e[3]=0;e[4]=-r;e[5]=a;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=1;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}},5195:function(e){e.exports=frustum;function frustum(e,t,r,a,n,i,o){var l=1/(r-t),s=1/(n-a),c=1/(i-o);e[0]=i*2*l;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=i*2*s;e[6]=0;e[7]=0;e[8]=(r+t)*l;e[9]=(n+a)*s;e[10]=(o+i)*c;e[11]=-1;e[12]=0;e[13]=0;e[14]=o*i*2*c;e[15]=0;return e}},1551:function(e){e.exports=identity;function identity(e){e[0]=1;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=1;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=1;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e}},9576:function(e,t,r){e.exports={create:r(1902),clone:r(2331),copy:r(1042),identity:r(1551),transpose:r(8654),invert:r(5874),adjoint:r(5400),determinant:r(9887),multiply:r(1362),translate:r(1283),scale:r(789),rotate:r(5074),rotateX:r(5545),rotateY:r(4918),rotateZ:r(5692),fromRotation:r(4045),fromRotationTranslation:r(5973),fromScaling:r(1472),fromTranslation:r(4669),fromXRotation:r(5262),fromYRotation:r(331),fromZRotation:r(1049),fromQuat:r(7812),frustum:r(5195),perspective:r(7864),perspectiveFromFieldOfView:r(5279),ortho:r(378),lookAt:r(5551),str:r(6726)}},5874:function(e){e.exports=invert;function invert(e,t){var r=t[0],a=t[1],n=t[2],i=t[3],o=t[4],l=t[5],s=t[6],c=t[7],u=t[8],f=t[9],d=t[10],v=t[11],h=t[12],p=t[13],g=t[14],m=t[15],y=r*l-a*o,x=r*s-n*o,_=r*c-i*o,b=a*s-n*l,w=a*c-i*l,T=n*c-i*s,k=u*p-f*h,A=u*g-d*h,M=u*m-v*h,S=f*g-d*p,C=f*m-v*p,L=d*m-v*g,D=y*L-x*C+_*S+b*M-w*A+T*k;if(!D){return null}D=1/D;e[0]=(l*L-s*C+c*S)*D;e[1]=(n*C-a*L-i*S)*D;e[2]=(p*T-g*w+m*b)*D;e[3]=(d*w-f*T-v*b)*D;e[4]=(s*M-o*L-c*A)*D;e[5]=(r*L-n*M+i*A)*D;e[6]=(g*_-h*T-m*x)*D;e[7]=(u*T-d*_+v*x)*D;e[8]=(o*C-l*M+c*k)*D;e[9]=(a*M-r*C-i*k)*D;e[10]=(h*w-p*_+m*y)*D;e[11]=(f*_-u*w-v*y)*D;e[12]=(l*A-o*S-s*k)*D;e[13]=(r*S-a*A+n*k)*D;e[14]=(p*x-h*b-g*y)*D;e[15]=(u*b-f*x+d*y)*D;return e}},5551:function(e,t,r){var T=r(1551);e.exports=lookAt;function lookAt(e,t,r,a){var n,i,o,l,s,c,u,f,d,v,h=t[0],p=t[1],g=t[2],m=a[0],y=a[1],x=a[2],_=r[0],b=r[1],w=r[2];if(Math.abs(h-_)<1e-6&&Math.abs(p-b)<1e-6&&Math.abs(g-w)<1e-6){return T(e)}u=h-_;f=p-b;d=g-w;v=1/Math.sqrt(u*u+f*f+d*d);u*=v;f*=v;d*=v;n=y*d-x*f;i=x*u-m*d;o=m*f-y*u;v=Math.sqrt(n*n+i*i+o*o);if(!v){n=0;i=0;o=0}else{v=1/v;n*=v;i*=v;o*=v}l=f*o-d*i;s=d*n-u*o;c=u*i-f*n;v=Math.sqrt(l*l+s*s+c*c);if(!v){l=0;s=0;c=0}else{v=1/v;l*=v;s*=v;c*=v}e[0]=n;e[1]=l;e[2]=u;e[3]=0;e[4]=i;e[5]=s;e[6]=f;e[7]=0;e[8]=o;e[9]=c;e[10]=d;e[11]=0;e[12]=-(n*h+i*p+o*g);e[13]=-(l*h+s*p+c*g);e[14]=-(u*h+f*p+d*g);e[15]=1;return e}},1362:function(e){e.exports=multiply;function multiply(e,t,r){var a=t[0],n=t[1],i=t[2],o=t[3],l=t[4],s=t[5],c=t[6],u=t[7],f=t[8],d=t[9],v=t[10],h=t[11],p=t[12],g=t[13],m=t[14],y=t[15];var x=r[0],_=r[1],b=r[2],w=r[3];e[0]=x*a+_*l+b*f+w*p;e[1]=x*n+_*s+b*d+w*g;e[2]=x*i+_*c+b*v+w*m;e[3]=x*o+_*u+b*h+w*y;x=r[4];_=r[5];b=r[6];w=r[7];e[4]=x*a+_*l+b*f+w*p;e[5]=x*n+_*s+b*d+w*g;e[6]=x*i+_*c+b*v+w*m;e[7]=x*o+_*u+b*h+w*y;x=r[8];_=r[9];b=r[10];w=r[11];e[8]=x*a+_*l+b*f+w*p;e[9]=x*n+_*s+b*d+w*g;e[10]=x*i+_*c+b*v+w*m;e[11]=x*o+_*u+b*h+w*y;x=r[12];_=r[13];b=r[14];w=r[15];e[12]=x*a+_*l+b*f+w*p;e[13]=x*n+_*s+b*d+w*g;e[14]=x*i+_*c+b*v+w*m;e[15]=x*o+_*u+b*h+w*y;return e}},378:function(e){e.exports=ortho;function ortho(e,t,r,a,n,i,o){var l=1/(t-r),s=1/(a-n),c=1/(i-o);e[0]=-2*l;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=-2*s;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=2*c;e[11]=0;e[12]=(t+r)*l;e[13]=(n+a)*s;e[14]=(o+i)*c;e[15]=1;return e}},7864:function(e){e.exports=perspective;function perspective(e,t,r,a,n){var i=1/Math.tan(t/2),o=1/(a-n);e[0]=i/r;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=i;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=(n+a)*o;e[11]=-1;e[12]=0;e[13]=0;e[14]=2*n*a*o;e[15]=0;return e}},5279:function(e){e.exports=perspectiveFromFieldOfView;function perspectiveFromFieldOfView(e,t,r,a){var n=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),l=Math.tan(t.rightDegrees*Math.PI/180),s=2/(o+l),c=2/(n+i);e[0]=s;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=c;e[6]=0;e[7]=0;e[8]=-((o-l)*s*.5);e[9]=(n-i)*c*.5;e[10]=a/(r-a);e[11]=-1;e[12]=0;e[13]=0;e[14]=a*r/(r-a);e[15]=0;return e}},5074:function(e){e.exports=rotate;function rotate(e,t,r,a){var n=a[0],i=a[1],o=a[2],l=Math.sqrt(n*n+i*i+o*o),s,c,u,f,d,v,h,p,g,m,y,x,_,b,w,T,k,A,M,S,C,L,D,O;if(Math.abs(l)<1e-6){return null}l=1/l;n*=l;i*=l;o*=l;s=Math.sin(r);c=Math.cos(r);u=1-c;f=t[0];d=t[1];v=t[2];h=t[3];p=t[4];g=t[5];m=t[6];y=t[7];x=t[8];_=t[9];b=t[10];w=t[11];T=n*n*u+c;k=i*n*u+o*s;A=o*n*u-i*s;M=n*i*u-o*s;S=i*i*u+c;C=o*i*u+n*s;L=n*o*u+i*s;D=i*o*u-n*s;O=o*o*u+c;e[0]=f*T+p*k+x*A;e[1]=d*T+g*k+_*A;e[2]=v*T+m*k+b*A;e[3]=h*T+y*k+w*A;e[4]=f*M+p*S+x*C;e[5]=d*M+g*S+_*C;e[6]=v*M+m*S+b*C;e[7]=h*M+y*S+w*C;e[8]=f*L+p*D+x*O;e[9]=d*L+g*D+_*O;e[10]=v*L+m*D+b*O;e[11]=h*L+y*D+w*O;if(t!==e){e[12]=t[12];e[13]=t[13];e[14]=t[14];e[15]=t[15]}return e}},5545:function(e){e.exports=rotateX;function rotateX(e,t,r){var a=Math.sin(r),n=Math.cos(r),i=t[4],o=t[5],l=t[6],s=t[7],c=t[8],u=t[9],f=t[10],d=t[11];if(t!==e){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[12]=t[12];e[13]=t[13];e[14]=t[14];e[15]=t[15]}e[4]=i*n+c*a;e[5]=o*n+u*a;e[6]=l*n+f*a;e[7]=s*n+d*a;e[8]=c*n-i*a;e[9]=u*n-o*a;e[10]=f*n-l*a;e[11]=d*n-s*a;return e}},4918:function(e){e.exports=rotateY;function rotateY(e,t,r){var a=Math.sin(r),n=Math.cos(r),i=t[0],o=t[1],l=t[2],s=t[3],c=t[8],u=t[9],f=t[10],d=t[11];if(t!==e){e[4]=t[4];e[5]=t[5];e[6]=t[6];e[7]=t[7];e[12]=t[12];e[13]=t[13];e[14]=t[14];e[15]=t[15]}e[0]=i*n-c*a;e[1]=o*n-u*a;e[2]=l*n-f*a;e[3]=s*n-d*a;e[8]=i*a+c*n;e[9]=o*a+u*n;e[10]=l*a+f*n;e[11]=s*a+d*n;return e}},5692:function(e){e.exports=rotateZ;function rotateZ(e,t,r){var a=Math.sin(r),n=Math.cos(r),i=t[0],o=t[1],l=t[2],s=t[3],c=t[4],u=t[5],f=t[6],d=t[7];if(t!==e){e[8]=t[8];e[9]=t[9];e[10]=t[10];e[11]=t[11];e[12]=t[12];e[13]=t[13];e[14]=t[14];e[15]=t[15]}e[0]=i*n+c*a;e[1]=o*n+u*a;e[2]=l*n+f*a;e[3]=s*n+d*a;e[4]=c*n-i*a;e[5]=u*n-o*a;e[6]=f*n-l*a;e[7]=d*n-s*a;return e}},789:function(e){e.exports=scale;function scale(e,t,r){var a=r[0],n=r[1],i=r[2];e[0]=t[0]*a;e[1]=t[1]*a;e[2]=t[2]*a;e[3]=t[3]*a;e[4]=t[4]*n;e[5]=t[5]*n;e[6]=t[6]*n;e[7]=t[7]*n;e[8]=t[8]*i;e[9]=t[9]*i;e[10]=t[10]*i;e[11]=t[11]*i;e[12]=t[12];e[13]=t[13];e[14]=t[14];e[15]=t[15];return e}},6726:function(e){e.exports=str;function str(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},1283:function(e){e.exports=translate;function translate(e,t,r){var a=r[0],n=r[1],i=r[2],o,l,s,c,u,f,d,v,h,p,g,m;if(t===e){e[12]=t[0]*a+t[4]*n+t[8]*i+t[12];e[13]=t[1]*a+t[5]*n+t[9]*i+t[13];e[14]=t[2]*a+t[6]*n+t[10]*i+t[14];e[15]=t[3]*a+t[7]*n+t[11]*i+t[15]}else{o=t[0];l=t[1];s=t[2];c=t[3];u=t[4];f=t[5];d=t[6];v=t[7];h=t[8];p=t[9];g=t[10];m=t[11];e[0]=o;e[1]=l;e[2]=s;e[3]=c;e[4]=u;e[5]=f;e[6]=d;e[7]=v;e[8]=h;e[9]=p;e[10]=g;e[11]=m;e[12]=o*a+u*n+h*i+t[12];e[13]=l*a+f*n+p*i+t[13];e[14]=s*a+d*n+g*i+t[14];e[15]=c*a+v*n+m*i+t[15]}return e}},8654:function(e){e.exports=transpose;function transpose(e,t){if(e===t){var r=t[1],a=t[2],n=t[3],i=t[6],o=t[7],l=t[11];e[1]=t[4];e[2]=t[8];e[3]=t[12];e[4]=r;e[6]=t[9];e[7]=t[13];e[8]=a;e[9]=i;e[11]=t[14];e[12]=n;e[13]=o;e[14]=l}else{e[0]=t[0];e[1]=t[4];e[2]=t[8];e[3]=t[12];e[4]=t[1];e[5]=t[5];e[6]=t[9];e[7]=t[13];e[8]=t[2];e[9]=t[6];e[10]=t[10];e[11]=t[14];e[12]=t[3];e[13]=t[7];e[14]=t[11];e[15]=t[15]}return e}},7035:function(e,t,r){"use strict";var a=r(4404);var n;if(typeof r.g.matchMedia==="function"){n=!r.g.matchMedia("(hover: none)").matches}else{n=a}e.exports=n},8520:function(e,t,r){"use strict";var a=r(4404);function detect(){var e=false;try{var t=Object.defineProperty({},"passive",{get:function(){e=true}});window.addEventListener("test",null,t);window.removeEventListener("test",null,t)}catch(r){e=false}return e}e.exports=a&&detect()},4404:function(e){e.exports=true},8546:function(e){"use strict";e.exports=function(e){var t=e.length,r;for(var a=0;a<t;a++){r=e.charCodeAt(a);if((r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279){return false}}return true}},8956:function(e){var t={left:0,top:0};e.exports=mouseEventOffset;function mouseEventOffset(e,t,r){t=t||e.currentTarget||e.srcElement;if(!Array.isArray(r)){r=[0,0]}var a=e.clientX||0;var n=e.clientY||0;var i=getBoundingClientOffset(t);r[0]=a-i.left;r[1]=n-i.top;return r}function getBoundingClientOffset(e){if(e===window||e===document||e===document.body){return t}else{return e.getBoundingClientRect()}}},7417:function(a,n,i){var o;(function UMD(e,t,r){t[e]=t[e]||r();if(true&&a.exports){a.exports=t[e]}else if(true){!(o=function $AMD$(){return t[e]}.call(n,i,n,a),o!==undefined&&(a.exports=o))}})("Promise",typeof i.g!="undefined"?i.g:this,function DEF(){"use strict";var n,i,r,e=Object.prototype.toString,a=typeof setImmediate!="undefined"?function a(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{});n=function n(e,t,r,a){return Object.defineProperty(e,t,{value:r,writable:true,configurable:a!==false})}}catch(o){n=function n(e,t,r){e[t]=r;return e}}r=function Queue(){var r,a,n;function Item(e,t){this.fn=e;this.self=t;this.next=void 0}return{add:function add(e,t){n=new Item(e,t);if(a){a.next=n}else{r=n}a=n;n=void 0},drain:function drain(){var e=r;r=a=i=void 0;while(e){e.fn.call(e.self);e=e.next}}}}();function schedule(e,t){r.add(e,t);if(!i){i=a(r.drain)}}function isThenable(e){var t,r=typeof e;if(e!=null&&(r=="object"||r=="function")){t=e.then}return typeof t=="function"?t:false}function notify(){for(var e=0;e<this.chain.length;e++){notifyIsolated(this,this.state===1?this.chain[e].success:this.chain[e].failure,this.chain[e])}this.chain.length=0}function notifyIsolated(e,t,r){var a,n;try{if(t===false){r.reject(e.msg)}else{if(t===true){a=e.msg}else{a=t.call(void 0,e.msg)}if(a===r.promise){r.reject(TypeError("Promise-chain cycle"))}else if(n=isThenable(a)){n.call(a,r.resolve,r.reject)}else{r.resolve(a)}}}catch(o){r.reject(o)}}function resolve(t){var r,a=this;if(a.triggered){return}a.triggered=true;if(a.def){a=a.def}try{if(r=isThenable(t)){schedule(function(){var e=new MakeDefWrapper(a);try{r.call(t,function $resolve$(){resolve.apply(e,arguments)},function $reject$(){reject.apply(e,arguments)})}catch(o){reject.call(e,o)}})}else{a.msg=t;a.state=1;if(a.chain.length>0){schedule(notify,a)}}}catch(o){reject.call(new MakeDefWrapper(a),o)}}function reject(e){var t=this;if(t.triggered){return}t.triggered=true;if(t.def){t=t.def}t.msg=e;t.state=2;if(t.chain.length>0){schedule(notify,t)}}function iteratePromises(e,r,a,n){for(var t=0;t<r.length;t++){(function IIFE(t){e.resolve(r[t]).then(function $resolver$(e){a(t,e)},n)})(t)}}function MakeDefWrapper(e){this.def=e;this.triggered=false}function MakeDef(e){this.promise=e;this.state=0;this.triggered=false;this.chain=[];this.msg=void 0}function Promise(e){if(typeof e!="function"){throw TypeError("Not a function")}if(this.__NPO__!==0){throw TypeError("Not a promise")}this.__NPO__=1;var a=new MakeDef(this);this["then"]=function then(e,t){var r={success:typeof e=="function"?e:true,failure:typeof t=="function"?t:false};r.promise=new this.constructor(function extractChain(e,t){if(typeof e!="function"||typeof t!="function"){throw TypeError("Not a function")}r.resolve=e;r.reject=t});a.chain.push(r);if(a.state!==0){schedule(notify,a)}return r.promise};this["catch"]=function $catch$(e){return this.then(void 0,e)};try{e.call(void 0,function publicResolve(e){resolve.call(a,e)},function publicReject(e){reject.call(a,e)})}catch(o){reject.call(a,o)}}var t=n({},"constructor",Promise,false);Promise.prototype=t;n(t,"__NPO__",0,false);n(Promise,"resolve",function Promise$resolve(r){var e=this;if(r&&typeof r=="object"&&r.__NPO__===1){return r}return new e(function executor(e,t){if(typeof e!="function"||typeof t!="function"){throw TypeError("Not a function")}e(r)})});n(Promise,"reject",function Promise$reject(r){return new this(function executor(e,t){if(typeof e!="function"||typeof t!="function"){throw TypeError("Not a function")}t(r)})});n(Promise,"all",function Promise$all(t){var o=this;if(e.call(t)!="[object Array]"){return o.reject(TypeError("Not an array"))}if(t.length===0){return o.resolve([])}return new o(function executor(r,e){if(typeof r!="function"||typeof e!="function"){throw TypeError("Not a function")}var a=t.length,n=Array(a),i=0;iteratePromises(o,t,function resolver(e,t){n[e]=t;if(++i===a){r(n)}},e)})});n(Promise,"race",function Promise$race(t){var a=this;if(e.call(t)!="[object Array]"){return a.reject(TypeError("Not an array"))}return new a(function executor(r,e){if(typeof r!="function"||typeof e!="function"){throw TypeError("Not a function")}iteratePromises(a,t,function resolver(e,t){r(t)},e)})});return Promise})},6131:function(e){"use strict";var s=Object.getOwnPropertySymbols;var c=Object.prototype.hasOwnProperty;var u=Object.prototype.propertyIsEnumerable;function toObject(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function shouldUseNative(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var t={};for(var r=0;r<10;r++){t["_"+String.fromCharCode(r)]=r}var a=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(a.join("")!=="0123456789"){return false}var n={};"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e});if(Object.keys(Object.assign({},n)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(i){return false}}e.exports=shouldUseNative()?Object.assign:function(e,t){var r;var a=toObject(e);var n;for(var i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var o in r){if(c.call(r,o)){a[o]=r[o]}}if(s){n=s(r);for(var l=0;l<n.length;l++){if(u.call(r,n[l])){a[n[l]]=r[n[l]]}}}}return a}},5616:function(e){e.exports=parse;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0};var t=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function parse(e){var n=[];e.replace(t,function(e,t,r){var a=t.toLowerCase();r=parseValues(r);if(a=="m"&&r.length>2){n.push([t].concat(r.splice(0,2)));a="l";t=t=="m"?"l":"L"}while(true){if(r.length==i[a]){r.unshift(t);return n.push(r)}if(r.length<i[a])throw new Error("malformed path data");n.push([t].concat(r.splice(0,i[a])))}});return n}var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function parseValues(e){var t=e.match(r);return t?t.map(Number):[]}},8258:function(e){e.exports=function pointInPolygonNested(e,t,r,a){var n=e[0],i=e[1];var o=false;if(r===undefined)r=0;if(a===undefined)a=t.length;var l=a-r;for(var s=0,c=l-1;s<l;c=s++){var u=t[s+r][0],f=t[s+r][1];var d=t[c+r][0],v=t[c+r][1];var h=f>i!==v>i&&n<(d-u)*(i-f)/(v-f)+u;if(h)o=!o}return o}},2142:function(e,t,r){var a=r(9444);var n=r(9023);var i=r(7263);var o=r(1328);var l=r(5968);var s=r(670);var c=false;var u=n();var f;f={buildLog:function(e){if(e===true)c=a();else if(e===false)c=false;return c===false?false:c.list},epsilon:function(e){return u.epsilon(e)},segments:function(e){var t=i(true,u,c);e.regions.forEach(t.addRegion);return{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){var r=i(false,u,c);return{combined:r.calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:l.union(e.combined,c),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:l.intersect(e.combined,c),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:l.difference(e.combined,c),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:l.differenceRev(e.combined,c),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:l.xor(e.combined,c),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:o(e.segments,u,c),inverted:e.inverted}},polygonFromGeoJSON:function(e){return s.toPolygon(f,e)},polygonToGeoJSON:function(e){return s.fromPolygon(f,u,e)},union:function(e,t){return operate(e,t,f.selectUnion)},intersect:function(e,t){return operate(e,t,f.selectIntersect)},difference:function(e,t){return operate(e,t,f.selectDifference)},differenceRev:function(e,t){return operate(e,t,f.selectDifferenceRev)},xor:function(e,t){return operate(e,t,f.selectXor)}};function operate(e,t,r){var a=f.segments(e);var n=f.segments(t);var i=f.combine(a,n);var o=r(i);return f.polygon(o)}if(typeof window==="object")window.PolyBool=f;e.exports=f},9444:function(e){function BuildLog(){var r;var e=0;var t=false;function push(e,t){r.list.push({type:e,data:t?JSON.parse(JSON.stringify(t)):void 0});return r}r={list:[],segmentId:function(){return e++},checkIntersection:function(e,t){return push("check",{seg1:e,seg2:t})},segmentChop:function(e,t){push("div_seg",{seg:e,pt:t});return push("chop",{seg:e,pt:t})},statusRemove:function(e){return push("pop_seg",{seg:e})},segmentUpdate:function(e){return push("seg_update",{seg:e})},segmentNew:function(e,t){return push("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return push("rem_seg",{seg:e})},tempStatus:function(e,t,r){return push("temp_status",{seg:e,above:t,below:r})},rewind:function(e){return push("rewind",{seg:e})},status:function(e,t,r){return push("status",{seg:e,above:t,below:r})},vert:function(e){if(e===t)return r;t=e;return push("vert",{x:e})},log:function(e){if(typeof e!=="string")e=JSON.stringify(e,false,"  ");return push("log",{txt:e})},reset:function(){return push("reset")},selected:function(e){return push("selected",{segs:e})},chainStart:function(e){return push("chain_start",{seg:e})},chainRemoveHead:function(e,t){return push("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return push("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return push("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return push("chain_match",{index:e})},chainClose:function(e){return push("chain_close",{index:e})},chainAddHead:function(e,t){return push("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return push("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return push("chain_con",{index1:e,index2:t})},chainReverse:function(e){return push("chain_rev",{index:e})},chainJoin:function(e,t){return push("chain_join",{index1:e,index2:t})},done:function(){return push("done")}};return r}e.exports=BuildLog},9023:function(e){function Epsilon(h){if(typeof h!=="number")h=1e-10;var r={epsilon:function(e){if(typeof e==="number")h=e;return h},pointAboveOrOnLine:function(e,t,r){var a=t[0];var n=t[1];var i=r[0];var o=r[1];var l=e[0];var s=e[1];return(i-a)*(s-n)-(o-n)*(l-a)>=-h},pointBetween:function(e,t,r){var a=e[1]-t[1];var n=r[0]-t[0];var i=e[0]-t[0];var o=r[1]-t[1];var l=i*n+a*o;if(l<h)return false;var s=n*n+o*o;if(l-s>-h)return false;return true},pointsSameX:function(e,t){return Math.abs(e[0]-t[0])<h},pointsSameY:function(e,t){return Math.abs(e[1]-t[1])<h},pointsSame:function(e,t){return r.pointsSameX(e,t)&&r.pointsSameY(e,t)},pointsCompare:function(e,t){if(r.pointsSameX(e,t))return r.pointsSameY(e,t)?0:e[1]<t[1]?-1:1;return e[0]<t[0]?-1:1},pointsCollinear:function(e,t,r){var a=e[0]-t[0];var n=e[1]-t[1];var i=t[0]-r[0];var o=t[1]-r[1];return Math.abs(a*o-i*n)<h},linesIntersect:function(e,t,r,a){var n=t[0]-e[0];var i=t[1]-e[1];var o=a[0]-r[0];var l=a[1]-r[1];var s=n*l-i*o;if(Math.abs(s)<h)return false;var c=e[0]-r[0];var u=e[1]-r[1];var f=(o*u-l*c)/s;var d=(n*u-i*c)/s;var v={alongA:0,alongB:0,pt:[e[0]+f*n,e[1]+f*i]};if(f<=-h)v.alongA=-2;else if(f<h)v.alongA=-1;else if(f-1<=-h)v.alongA=0;else if(f-1<h)v.alongA=1;else v.alongA=2;if(d<=-h)v.alongB=-2;else if(d<h)v.alongB=-1;else if(d-1<=-h)v.alongB=0;else if(d-1<h)v.alongB=1;else v.alongB=2;return v},pointInsideRegion:function(e,t){var r=e[0];var a=e[1];var n=t[t.length-1][0];var i=t[t.length-1][1];var o=false;for(var l=0;l<t.length;l++){var s=t[l][0];var c=t[l][1];if(c-a>h!=i-a>h&&(n-s)*(a-c)/(i-c)+s-r>h)o=!o;n=s;i=c}return o}};return r}e.exports=Epsilon},670:function(e){var t={toPolygon:function(a,e){function GeoPoly(e){if(e.length<=0)return a.segments({inverted:false,regions:[]});function LineString(e){var t=e.slice(0,e.length-1);return a.segments({inverted:false,regions:[t]})}var t=LineString(e[0]);for(var r=1;r<e.length;r++)t=a.selectDifference(a.combine(t,LineString(e[r])));return t}if(e.type==="Polygon"){return a.polygon(GeoPoly(e.coordinates))}else if(e.type==="MultiPolygon"){var t=a.segments({inverted:false,regions:[]});for(var r=0;r<e.coordinates.length;r++)t=a.selectUnion(a.combine(t,GeoPoly(e.coordinates[r])));return a.polygon(t)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,r,t){t=e.polygon(e.segments(t));function regionInsideRegion(e,t){return r.pointInsideRegion([(e[0][0]+e[1][0])*.5,(e[0][1]+e[1][1])*.5],t)}function newNode(e){return{region:e,children:[]}}var a=newNode(null);function addChild(e,t){for(var r=0;r<e.children.length;r++){var a=e.children[r];if(regionInsideRegion(t,a.region)){addChild(a,t);return}}var n=newNode(t);for(var r=0;r<e.children.length;r++){var a=e.children[r];if(regionInsideRegion(a.region,t)){n.children.push(a);e.children.splice(r,1);r--}}e.children.push(n)}for(var n=0;n<t.regions.length;n++){var i=t.regions[n];if(i.length<3)continue;addChild(a,i)}function forceWinding(e,t){var r=0;var a=e[e.length-1][0];var n=e[e.length-1][1];var i=[];for(var o=0;o<e.length;o++){var l=e[o][0];var s=e[o][1];i.push([l,s]);r+=s*a-l*n;a=l;n=s}var c=r<0;if(c!==t)i.reverse();i.push([i[0][0],i[0][1]]);return i}var o=[];function addExterior(e){var t=[forceWinding(e.region,false)];o.push(t);for(var r=0;r<e.children.length;r++)t.push(getInterior(e.children[r]))}function getInterior(e){for(var t=0;t<e.children.length;t++)addExterior(e.children[t]);return forceWinding(e.region,true)}for(var n=0;n<a.children.length;n++)addExterior(a.children[n]);if(o.length<=0)return{type:"Polygon",coordinates:[]};if(o.length==1)return{type:"Polygon",coordinates:o[0]};return{type:"MultiPolygon",coordinates:o}}};e.exports=t},7263:function(e,t,r){var m=r(6859);function Intersecter(v,h,p){function segmentNew(e,t){return{id:p?p.segmentId():-1,start:e,end:t,myFill:{above:null,below:null},otherFill:null}}function segmentCopy(e,t,r){return{id:p?p.segmentId():-1,start:e,end:t,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var g=m.create();function eventCompare(e,t,r,a,n,i){var o=h.pointsCompare(t,n);if(o!==0)return o;if(h.pointsSame(r,i))return 0;if(e!==a)return e?1:-1;return h.pointAboveOrOnLine(r,a?n:i,a?i:n)?1:-1}function eventAdd(r,a){g.insertBefore(r,function(e){var t=eventCompare(r.isStart,r.pt,a,e.isStart,e.pt,e.other.pt);return t<0})}function eventAddSegmentStart(e,t){var r=m.node({isStart:true,pt:e.start,seg:e,primary:t,other:null,status:null});eventAdd(r,e.end);return r}function eventAddSegmentEnd(e,t,r){var a=m.node({isStart:false,pt:t.end,seg:t,primary:r,other:e,status:null});e.other=a;eventAdd(a,e.pt)}function eventAddSegment(e,t){var r=eventAddSegmentStart(e,t);eventAddSegmentEnd(r,e,t);return r}function eventUpdateEnd(e,t){if(p)p.segmentChop(e.seg,t);e.other.remove();e.seg.end=t;e.other.pt=t;eventAdd(e.other,e.pt)}function eventDivide(e,t){var r=segmentCopy(t,e.seg.end,e.seg);eventUpdateEnd(e,t);return eventAddSegment(r,e.primary)}function calculate(e,t){var a=m.create();function statusCompare(e,t){var r=e.seg.start;var a=e.seg.end;var n=t.seg.start;var i=t.seg.end;if(h.pointsCollinear(r,n,i)){if(h.pointsCollinear(a,n,i))return 1;return h.pointAboveOrOnLine(a,n,i)?1:-1}return h.pointAboveOrOnLine(r,n,i)?1:-1}function statusFindSurrounding(r){return a.findTransition(function(e){var t=statusCompare(r,e.ev);return t>0})}function checkIntersection(e,t){var r=e.seg;var a=t.seg;var n=r.start;var i=r.end;var o=a.start;var l=a.end;if(p)p.checkIntersection(r,a);var s=h.linesIntersect(n,i,o,l);if(s===false){if(!h.pointsCollinear(n,i,o))return false;if(h.pointsSame(n,l)||h.pointsSame(i,o))return false;var c=h.pointsSame(n,o);var u=h.pointsSame(i,l);if(c&&u)return t;var f=!c&&h.pointBetween(n,o,l);var d=!u&&h.pointBetween(i,o,l);if(c){if(d){eventDivide(t,i)}else{eventDivide(e,l)}return t}else if(f){if(!u){if(d){eventDivide(t,i)}else{eventDivide(e,l)}}eventDivide(t,n)}}else{if(s.alongA===0){if(s.alongB===-1)eventDivide(e,o);else if(s.alongB===0)eventDivide(e,s.pt);else if(s.alongB===1)eventDivide(e,l)}if(s.alongB===0){if(s.alongA===-1)eventDivide(t,n);else if(s.alongA===0)eventDivide(t,s.pt);else if(s.alongA===1)eventDivide(t,i)}}return false}var r=[];while(!g.isEmpty()){var n=g.getHead();if(p)p.vert(n.pt[0]);if(n.isStart){if(p)p.segmentNew(n.seg,n.primary);var i=statusFindSurrounding(n);var o=i.before?i.before.ev:null;var l=i.after?i.after.ev:null;if(p){p.tempStatus(n.seg,o?o.seg:false,l?l.seg:false)}function checkBothIntersections(){if(o){var e=checkIntersection(n,o);if(e)return e}if(l)return checkIntersection(n,l);return false}var s=checkBothIntersections();if(s){if(v){var c;if(n.seg.myFill.below===null)c=true;else c=n.seg.myFill.above!==n.seg.myFill.below;if(c)s.seg.myFill.above=!s.seg.myFill.above}else{s.seg.otherFill=n.seg.myFill}if(p)p.segmentUpdate(s.seg);n.other.remove();n.remove()}if(g.getHead()!==n){if(p)p.rewind(n.seg);continue}if(v){var c;if(n.seg.myFill.below===null)c=true;else c=n.seg.myFill.above!==n.seg.myFill.below;if(!l){n.seg.myFill.below=e}else{n.seg.myFill.below=l.seg.myFill.above}if(c)n.seg.myFill.above=!n.seg.myFill.below;else n.seg.myFill.above=n.seg.myFill.below}else{if(n.seg.otherFill===null){var u;if(!l){u=n.primary?t:e}else{if(n.primary===l.primary)u=l.seg.otherFill.above;else u=l.seg.myFill.above}n.seg.otherFill={above:u,below:u}}}if(p){p.status(n.seg,o?o.seg:false,l?l.seg:false)}n.other.status=i.insert(m.node({ev:n}))}else{var f=n.status;if(f===null){throw new Error("PolyBool: Zero-length segment detected; your epsilon is "+"probably too small or too large")}if(a.exists(f.prev)&&a.exists(f.next))checkIntersection(f.prev.ev,f.next.ev);if(p)p.statusRemove(f.ev.seg);f.remove();if(!n.primary){var d=n.seg.myFill;n.seg.myFill=n.seg.otherFill;n.seg.otherFill=d}r.push(n.seg)}g.getHead().remove()}if(p)p.done();return r}if(!v){return{calculate:function(e,t,r,a){e.forEach(function(e){eventAddSegment(segmentCopy(e.start,e.end,e),true)});r.forEach(function(e){eventAddSegment(segmentCopy(e.start,e.end,e),false)});return calculate(t,a)}}}return{addRegion:function(e){var t;var r=e[e.length-1];for(var a=0;a<e.length;a++){t=r;r=e[a];var n=h.pointsCompare(t,r);if(n===0)continue;eventAddSegment(segmentNew(n<0?t:r,n<0?r:t),true)}},calculate:function(e){return calculate(e,false)}}}e.exports=Intersecter},6859:function(e){var t={create:function(){var n={root:{root:true,next:null},exists:function(e){if(e===null||e===n.root)return false;return true},isEmpty:function(){return n.root.next===null},getHead:function(){return n.root.next},insertBefore:function(e,t){var r=n.root;var a=n.root.next;while(a!==null){if(t(a)){e.prev=a.prev;e.next=a;a.prev.next=e;a.prev=e;return}r=a;a=a.next}r.next=e;e.prev=r;e.next=null},findTransition:function(e){var t=n.root;var r=n.root.next;while(r!==null){if(e(r))break;t=r;r=r.next}return{before:t===n.root?null:t,after:r,insert:function(e){e.prev=t;e.next=r;t.next=e;if(r!==null)r.prev=e;return e}}}};return n},node:function(e){e.prev=null;e.next=null;e.remove=function(){e.prev.next=e.next;if(e.next)e.next.prev=e.prev;e.prev=null;e.next=null};return e}};e.exports=t},1328:function(e){function SegmentChainer(e,w,T){var k=[];var A=[];e.forEach(function(e){var t=e.start;var r=e.end;if(w.pointsSame(t,r)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is "+"probably too small or too large");return}if(T)T.chainStart(e);var a={index:0,matches_head:false,matches_pt1:false};var n={index:0,matches_head:false,matches_pt1:false};var i=a;function setMatch(e,t,r){i.index=e;i.matches_head=t;i.matches_pt1=r;if(i===a){i=n;return false}i=null;return true}for(var o=0;o<k.length;o++){var l=k[o];var s=l[0];var c=l[1];var u=l[l.length-1];var f=l[l.length-2];if(w.pointsSame(s,t)){if(setMatch(o,true,true))break}else if(w.pointsSame(s,r)){if(setMatch(o,true,false))break}else if(w.pointsSame(u,t)){if(setMatch(o,false,true))break}else if(w.pointsSame(u,r)){if(setMatch(o,false,false))break}}if(i===a){k.push([t,r]);if(T)T.chainNew(t,r);return}if(i===n){if(T)T.chainMatch(a.index);var d=a.index;var v=a.matches_pt1?r:t;var h=a.matches_head;var l=k[d];var p=h?l[0]:l[l.length-1];var g=h?l[1]:l[l.length-2];var m=h?l[l.length-1]:l[0];var y=h?l[l.length-2]:l[1];if(w.pointsCollinear(g,p,v)){if(h){if(T)T.chainRemoveHead(a.index,v);l.shift()}else{if(T)T.chainRemoveTail(a.index,v);l.pop()}p=g}if(w.pointsSame(m,v)){k.splice(d,1);if(w.pointsCollinear(y,m,p)){if(h){if(T)T.chainRemoveTail(a.index,p);l.pop()}else{if(T)T.chainRemoveHead(a.index,p);l.shift()}}if(T)T.chainClose(a.index);A.push(l);return}if(h){if(T)T.chainAddHead(a.index,v);l.unshift(v)}else{if(T)T.chainAddTail(a.index,v);l.push(v)}return}function reverseChain(e){if(T)T.chainReverse(e);k[e].reverse()}function appendChain(e,t){var r=k[e];var a=k[t];var n=r[r.length-1];var i=r[r.length-2];var o=a[0];var l=a[1];if(w.pointsCollinear(i,n,o)){if(T)T.chainRemoveTail(e,n);r.pop();n=i}if(w.pointsCollinear(n,o,l)){if(T)T.chainRemoveHead(t,o);a.shift()}if(T)T.chainJoin(e,t);k[e]=r.concat(a);k.splice(t,1)}var x=a.index;var _=n.index;if(T)T.chainConnect(x,_);var b=k[x].length<k[_].length;if(a.matches_head){if(n.matches_head){if(b){reverseChain(x);appendChain(x,_)}else{reverseChain(_);appendChain(_,x)}}else{appendChain(_,x)}}else{if(n.matches_head){appendChain(x,_)}else{if(b){reverseChain(x);appendChain(_,x)}else{reverseChain(_);appendChain(x,_)}}}});return A}e.exports=SegmentChainer},5968:function(e){function select(e,r,a){var n=[];e.forEach(function(e){var t=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);if(r[t]!==0){n.push({id:a?a.segmentId():-1,start:e.start,end:e.end,myFill:{above:r[t]===1,below:r[t]===2},otherFill:null})}});if(a)a.selected(n);return n}var t={union:function(e,t){return select(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return select(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return select(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return select(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return select(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};e.exports=t},4267:function(r,f,v){var h;(function(d){var a=/^\s+/,n=/\s+$/,i=0,o=d.round,c=d.min,u=d.max,e=d.random;function tinycolor(e,t){e=e?e:"";t=t||{};if(e instanceof tinycolor){return e}if(!(this instanceof tinycolor)){return new tinycolor(e,t)}var r=inputToRGB(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=o(100*this._a)/100,this._format=t.format||r.format;this._gradientType=t.gradientType;if(this._r<1){this._r=o(this._r)}if(this._g<1){this._g=o(this._g)}if(this._b<1){this._b=o(this._b)}this._ok=r.ok;this._tc_id=i++}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb();var t,r,a,n,i,o;t=e.r/255;r=e.g/255;a=e.b/255;if(t<=.03928){n=t/12.92}else{n=d.pow((t+.055)/1.055,2.4)}if(r<=.03928){i=r/12.92}else{i=d.pow((r+.055)/1.055,2.4)}if(a<=.03928){o=a/12.92}else{o=d.pow((a+.055)/1.055,2.4)}return.2126*n+.7152*i+.0722*o},setAlpha:function(e){this._a=boundAlpha(e);this._roundA=o(100*this._a)/100;return this},toHsv:function(){var e=rgbToHsv(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=rgbToHsv(this._r,this._g,this._b);var t=o(e.h*360),r=o(e.s*100),a=o(e.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+a+"%)":"hsva("+t+", "+r+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var e=rgbToHsl(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=rgbToHsl(this._r,this._g,this._b);var t=o(e.h*360),r=o(e.s*100),a=o(e.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+a+"%)":"hsla("+t+", "+r+"%, "+a+"%, "+this._roundA+")"},toHex:function(e){return rgbToHex(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return rgbaToHex(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(bound01(this._r,255)*100)+"%",g:o(bound01(this._g,255)*100)+"%",b:o(bound01(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+o(bound01(this._r,255)*100)+"%, "+o(bound01(this._g,255)*100)+"%, "+o(bound01(this._b,255)*100)+"%)":"rgba("+o(bound01(this._r,255)*100)+"%, "+o(bound01(this._g,255)*100)+"%, "+o(bound01(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){if(this._a===0){return"transparent"}if(this._a<1){return false}return t[rgbToHex(this._r,this._g,this._b,true)]||false},toFilter:function(e){var t="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a);var r=t;var a=this._gradientType?"GradientType = 1, ":"";if(e){var n=tinycolor(e);r="#"+rgbaToArgbHex(n._r,n._g,n._b,n._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=false;var a=this._a<1&&this._a>=0;var n=!t&&a&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");if(n){if(e==="name"&&this._a===0){return this.toName()}return this.toRgbString()}if(e==="rgb"){r=this.toRgbString()}if(e==="prgb"){r=this.toPercentageRgbString()}if(e==="hex"||e==="hex6"){r=this.toHexString()}if(e==="hex3"){r=this.toHexString(true)}if(e==="hex4"){r=this.toHex8String(true)}if(e==="hex8"){r=this.toHex8String()}if(e==="name"){r=this.toName()}if(e==="hsl"){r=this.toHslString()}if(e==="hsv"){r=this.toHsvString()}return r||this.toHexString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));this._r=r._r;this._g=r._g;this._b=r._b;this.setAlpha(r._a);return this},lighten:function(){return this._applyModification(lighten,arguments)},brighten:function(){return this._applyModification(brighten,arguments)},darken:function(){return this._applyModification(darken,arguments)},desaturate:function(){return this._applyModification(desaturate,arguments)},saturate:function(){return this._applyModification(saturate,arguments)},greyscale:function(){return this._applyModification(greyscale,arguments)},spin:function(){return this._applyModification(spin,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(analogous,arguments)},complement:function(){return this._applyCombination(complement,arguments)},monochromatic:function(){return this._applyCombination(monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments)},triad:function(){return this._applyCombination(triad,arguments)},tetrad:function(){return this._applyCombination(tetrad,arguments)}};tinycolor.fromRatio=function(e,t){if(typeof e=="object"){var r={};for(var a in e){if(e.hasOwnProperty(a)){if(a==="a"){r[a]=e[a]}else{r[a]=convertToPercentage(e[a])}}}e=r}return tinycolor(e,t)};function inputToRGB(e){var t={r:0,g:0,b:0};var r=1;var a=null;var n=null;var i=null;var o=false;var l=false;if(typeof e=="string"){e=stringInputToObject(e)}if(typeof e=="object"){if(isValidCSSUnit(e.r)&&isValidCSSUnit(e.g)&&isValidCSSUnit(e.b)){t=rgbToRgb(e.r,e.g,e.b);o=true;l=String(e.r).substr(-1)==="%"?"prgb":"rgb"}else if(isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.v)){a=convertToPercentage(e.s);n=convertToPercentage(e.v);t=hsvToRgb(e.h,a,n);o=true;l="hsv"}else if(isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.l)){a=convertToPercentage(e.s);i=convertToPercentage(e.l);t=hslToRgb(e.h,a,i);o=true;l="hsl"}if(e.hasOwnProperty("a")){r=e.a}}r=boundAlpha(r);return{ok:o,format:e.format||l,r:c(255,u(t.r,0)),g:c(255,u(t.g,0)),b:c(255,u(t.b,0)),a:r}}function rgbToRgb(e,t,r){return{r:bound01(e,255)*255,g:bound01(t,255)*255,b:bound01(r,255)*255}}function rgbToHsl(e,t,r){e=bound01(e,255);t=bound01(t,255);r=bound01(r,255);var a=u(e,t,r),n=c(e,t,r);var i,o,l=(a+n)/2;if(a==n){i=o=0}else{var s=a-n;o=l>.5?s/(2-a-n):s/(a+n);switch(a){case e:i=(t-r)/s+(t<r?6:0);break;case t:i=(r-e)/s+2;break;case r:i=(e-t)/s+4;break}i/=6}return{h:i,s:o,l:l}}function hslToRgb(e,t,r){var a,n,i;e=bound01(e,360);t=bound01(t,100);r=bound01(r,100);function hue2rgb(e,t,r){if(r<0)r+=1;if(r>1)r-=1;if(r<1/6)return e+(t-e)*6*r;if(r<1/2)return t;if(r<2/3)return e+(t-e)*(2/3-r)*6;return e}if(t===0){a=n=i=r}else{var o=r<.5?r*(1+t):r+t-r*t;var l=2*r-o;a=hue2rgb(l,o,e+1/3);n=hue2rgb(l,o,e);i=hue2rgb(l,o,e-1/3)}return{r:a*255,g:n*255,b:i*255}}function rgbToHsv(e,t,r){e=bound01(e,255);t=bound01(t,255);r=bound01(r,255);var a=u(e,t,r),n=c(e,t,r);var i,o,l=a;var s=a-n;o=a===0?0:s/a;if(a==n){i=0}else{switch(a){case e:i=(t-r)/s+(t<r?6:0);break;case t:i=(r-e)/s+2;break;case r:i=(e-t)/s+4;break}i/=6}return{h:i,s:o,v:l}}function hsvToRgb(e,t,r){e=bound01(e,360)*6;t=bound01(t,100);r=bound01(r,100);var a=d.floor(e),n=e-a,i=r*(1-t),o=r*(1-n*t),l=r*(1-(1-n)*t),s=a%6,c=[r,o,i,i,l,r][s],u=[l,r,r,o,i,i][s],f=[i,i,l,r,r,o][s];return{r:c*255,g:u*255,b:f*255}}function rgbToHex(e,t,r,a){var n=[pad2(o(e).toString(16)),pad2(o(t).toString(16)),pad2(o(r).toString(16))];if(a&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)){return n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0)}return n.join("")}function rgbaToHex(e,t,r,a,n){var i=[pad2(o(e).toString(16)),pad2(o(t).toString(16)),pad2(o(r).toString(16)),pad2(convertDecimalToHex(a))];if(n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)){return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0)}return i.join("")}function rgbaToArgbHex(e,t,r,a){var n=[pad2(convertDecimalToHex(a)),pad2(o(e).toString(16)),pad2(o(t).toString(16)),pad2(o(r).toString(16))];return n.join("")}tinycolor.equals=function(e,t){if(!e||!t){return false}return tinycolor(e).toRgbString()==tinycolor(t).toRgbString()};tinycolor.random=function(){return tinycolor.fromRatio({r:e(),g:e(),b:e()})};function desaturate(e,t){t=t===0?0:t||10;var r=tinycolor(e).toHsl();r.s-=t/100;r.s=clamp01(r.s);return tinycolor(r)}function saturate(e,t){t=t===0?0:t||10;var r=tinycolor(e).toHsl();r.s+=t/100;r.s=clamp01(r.s);return tinycolor(r)}function greyscale(e){return tinycolor(e).desaturate(100)}function lighten(e,t){t=t===0?0:t||10;var r=tinycolor(e).toHsl();r.l+=t/100;r.l=clamp01(r.l);return tinycolor(r)}function brighten(e,t){t=t===0?0:t||10;var r=tinycolor(e).toRgb();r.r=u(0,c(255,r.r-o(255*-(t/100))));r.g=u(0,c(255,r.g-o(255*-(t/100))));r.b=u(0,c(255,r.b-o(255*-(t/100))));return tinycolor(r)}function darken(e,t){t=t===0?0:t||10;var r=tinycolor(e).toHsl();r.l-=t/100;r.l=clamp01(r.l);return tinycolor(r)}function spin(e,t){var r=tinycolor(e).toHsl();var a=(r.h+t)%360;r.h=a<0?360+a:a;return tinycolor(r)}function complement(e){var t=tinycolor(e).toHsl();t.h=(t.h+180)%360;return tinycolor(t)}function triad(e){var t=tinycolor(e).toHsl();var r=t.h;return[tinycolor(e),tinycolor({h:(r+120)%360,s:t.s,l:t.l}),tinycolor({h:(r+240)%360,s:t.s,l:t.l})]}function tetrad(e){var t=tinycolor(e).toHsl();var r=t.h;return[tinycolor(e),tinycolor({h:(r+90)%360,s:t.s,l:t.l}),tinycolor({h:(r+180)%360,s:t.s,l:t.l}),tinycolor({h:(r+270)%360,s:t.s,l:t.l})]}function splitcomplement(e){var t=tinycolor(e).toHsl();var r=t.h;return[tinycolor(e),tinycolor({h:(r+72)%360,s:t.s,l:t.l}),tinycolor({h:(r+216)%360,s:t.s,l:t.l})]}function analogous(e,t,r){t=t||6;r=r||30;var a=tinycolor(e).toHsl();var n=360/r;var i=[tinycolor(e)];for(a.h=(a.h-(n*t>>1)+720)%360;--t;){a.h=(a.h+n)%360;i.push(tinycolor(a))}return i}function monochromatic(e,t){t=t||6;var r=tinycolor(e).toHsv();var a=r.h,n=r.s,i=r.v;var o=[];var l=1/t;while(t--){o.push(tinycolor({h:a,s:n,v:i}));i=(i+l)%1}return o}tinycolor.mix=function(e,t,r){r=r===0?0:r||50;var a=tinycolor(e).toRgb();var n=tinycolor(t).toRgb();var i=r/100;var o={r:(n.r-a.r)*i+a.r,g:(n.g-a.g)*i+a.g,b:(n.b-a.b)*i+a.b,a:(n.a-a.a)*i+a.a};return tinycolor(o)};tinycolor.readability=function(e,t){var r=tinycolor(e);var a=tinycolor(t);return(d.max(r.getLuminance(),a.getLuminance())+.05)/(d.min(r.getLuminance(),a.getLuminance())+.05)};tinycolor.isReadable=function(e,t,r){var a=tinycolor.readability(e,t);var n,i;i=false;n=validateWCAG2Parms(r);switch(n.level+n.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7;break}return i};tinycolor.mostReadable=function(e,t,r){var a=null;var n=0;var i;var o,l,s;r=r||{};o=r.includeFallbackColors;l=r.level;s=r.size;for(var c=0;c<t.length;c++){i=tinycolor.readability(e,t[c]);if(i>n){n=i;a=tinycolor(t[c])}}if(tinycolor.isReadable(e,a,{level:l,size:s})||!o){return a}else{r.includeFallbackColors=false;return tinycolor.mostReadable(e,["#fff","#000"],r)}};var l=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var t=tinycolor.hexNames=flip(l);function flip(e){var t={};for(var r in e){if(e.hasOwnProperty(r)){t[e[r]]=r}}return t}function boundAlpha(e){e=parseFloat(e);if(isNaN(e)||e<0||e>1){e=1}return e}function bound01(e,t){if(isOnePointZero(e)){e="100%"}var r=isPercentage(e);e=c(t,u(0,parseFloat(e)));if(r){e=parseInt(e*t,10)/100}if(d.abs(e-t)<1e-6){return 1}return e%t/parseFloat(t)}function clamp01(e){return c(1,u(0,e))}function parseIntFromHex(e){return parseInt(e,16)}function isOnePointZero(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function isPercentage(e){return typeof e==="string"&&e.indexOf("%")!=-1}function pad2(e){return e.length==1?"0"+e:""+e}function convertToPercentage(e){if(e<=1){e=e*100+"%"}return e}function convertDecimalToHex(e){return d.round(parseFloat(e)*255).toString(16)}function convertHexToDecimal(e){return parseIntFromHex(e)/255}var s=function(){var e="[-\\+]?\\d+%?";var t="[-\\+]?\\d*\\.\\d+%?";var r="(?:"+t+")|(?:"+e+")";var a="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";var n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+a),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+a),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+a),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function isValidCSSUnit(e){return!!s.CSS_UNIT.exec(e)}function stringInputToObject(e){e=e.replace(a,"").replace(n,"").toLowerCase();var t=false;if(l[e]){e=l[e];t=true}else if(e=="transparent"){return{r:0,g:0,b:0,a:0,format:"name"}}var r;if(r=s.rgb.exec(e)){return{r:r[1],g:r[2],b:r[3]}}if(r=s.rgba.exec(e)){return{r:r[1],g:r[2],b:r[3],a:r[4]}}if(r=s.hsl.exec(e)){return{h:r[1],s:r[2],l:r[3]}}if(r=s.hsla.exec(e)){return{h:r[1],s:r[2],l:r[3],a:r[4]}}if(r=s.hsv.exec(e)){return{h:r[1],s:r[2],v:r[3]}}if(r=s.hsva.exec(e)){return{h:r[1],s:r[2],v:r[3],a:r[4]}}if(r=s.hex8.exec(e)){return{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),a:convertHexToDecimal(r[4]),format:t?"name":"hex8"}}if(r=s.hex6.exec(e)){return{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),format:t?"name":"hex"}}if(r=s.hex4.exec(e)){return{r:parseIntFromHex(r[1]+""+r[1]),g:parseIntFromHex(r[2]+""+r[2]),b:parseIntFromHex(r[3]+""+r[3]),a:convertHexToDecimal(r[4]+""+r[4]),format:t?"name":"hex8"}}if(r=s.hex3.exec(e)){return{r:parseIntFromHex(r[1]+""+r[1]),g:parseIntFromHex(r[2]+""+r[2]),b:parseIntFromHex(r[3]+""+r[3]),format:t?"name":"hex"}}return false}function validateWCAG2Parms(e){var t,r;e=e||{level:"AA",size:"small"};t=(e.level||"AA").toUpperCase();r=(e.size||"small").toLowerCase();if(t!=="AA"&&t!=="AAA"){t="AA"}if(r!=="small"&&r!=="large"){r="small"}return{level:t,size:r}}if(true&&r.exports){r.exports=tinycolor}else if(true){!(h=function(){return tinycolor}.call(f,v,f,r),h!==undefined&&(r.exports=h))}else{}})(Math)},3961:function(e,t,r){var u=r(3489);var a=r(6131);var f=u.instance();function ChineseCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}ChineseCalendar.prototype=new u.baseCalendar;a(ChineseCalendar.prototype,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:false,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(e,t){if(typeof e==="string"){var r=e.match(o);return r?r[0]:""}var a=this._validateYear(e);var n=e.month();var i=""+this.toChineseMonth(a,n);if(t&&i.length<2){i="0"+i}if(this.isIntercalaryMonth(a,n)){i+="i"}return i},monthNames:function(e){if(typeof e==="string"){var t=e.match(s);return t?t[0]:""}var r=this._validateYear(e);var a=e.month();var n=this.toChineseMonth(r,a);var i=["","","","","","","","","","","",""][n-1];if(this.isIntercalaryMonth(r,a)){i=""+i}return i},monthNamesShort:function(e){if(typeof e==="string"){var t=e.match(c);return t?t[0]:""}var r=this._validateYear(e);var a=e.month();var n=this.toChineseMonth(r,a);var i=["","","","","","","","","","","",""][n-1];if(this.isIntercalaryMonth(r,a)){i=""+i}return i},parseMonth:function(e,t){e=this._validateYear(e);var r=parseInt(t);var a;if(!isNaN(r)){var n=t[t.length-1];a=n==="i"||n==="I"}else{if(t[0]===""){a=true;t=t.substring(1)}if(t[t.length-1]===""){t=t.substring(0,t.length-1)}r=1+["","","","","","","","","","","",""].indexOf(t)}var i=this.toMonthIndex(e,r,a);return i},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:false}},_validateYear:function(e,t){if(e.year){e=e.year()}if(typeof e!=="number"||e<1888||e>2111){throw t.replace(/\{0\}/,this.local.name)}return e},toMonthIndex:function(e,t,r){var a=this.intercalaryMonth(e);var n=r&&t!==a;if(n||t<1||t>12){throw u.local.invalidMonth.replace(/\{0\}/,this.local.name)}var i;if(!a){i=t-1}else if(!r&&t<=a){i=t-1}else{i=t}return i},toChineseMonth:function(e,t){if(e.year){e=e.year();t=e.month()}var r=this.intercalaryMonth(e);var a=r?12:11;if(t<0||t>a){throw u.local.invalidMonth.replace(/\{0\}/,this.local.name)}var n;if(!r){n=t+1}else if(t<r){n=t+1}else{n=t}return n},intercalaryMonth:function(e){e=this._validateYear(e);var t=w[e-w[0]];var r=t>>13;return r},isIntercalaryMonth:function(e,t){if(e.year){e=e.year();t=e.month()}var r=this.intercalaryMonth(e);return!!r&&r===t},leapYear:function(e){return this.intercalaryMonth(e)!==0},weekOfYear:function(e,t,r){var a=this._validateYear(e,u.local.invalidyear);var n=T[a-T[0]];var i=n>>9&4095;var o=n>>5&15;var l=n&31;var s;s=f.newDate(i,o,l);s.add(4-(s.dayOfWeek()||7),"d");var c=this.toJD(e,t,r)-s.toJD();return 1+Math.floor(c/7)},monthsInYear:function(e){return this.leapYear(e)?13:12},daysInMonth:function(e,t){if(e.year){t=e.month();e=e.year()}e=this._validateYear(e);var r=w[e-w[0]];var a=r>>13;var n=a?12:11;if(t>n){throw u.local.invalidMonth.replace(/\{0\}/,this.local.name)}var i=r&1<<12-t?30:29;return i},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(e,t,r){var a=this._validate(e,i,r,u.local.invalidDate);e=this._validateYear(a.year());t=a.month();r=a.day();var n=this.isIntercalaryMonth(e,t);var i=this.toChineseMonth(e,t);var o=toSolar(e,i,r,n);return f.toJD(o.year,o.month,o.day)},fromJD:function(e){var t=f.fromJD(e);var r=toLunar(t.year(),t.month(),t.day());var a=this.toMonthIndex(r.year,r.month,r.isIntercalary);return this.newDate(r.year,a,r.day)},fromString:function(e){var t=e.match(l);var r=this._validateYear(+t[1]);var a=+t[2];var n=!!t[3];var i=this.toMonthIndex(r,a,n);var o=+t[4];return this.newDate(r,i,o)},add:function(e,t,r){var a=e.year();var n=e.month();var i=this.isIntercalaryMonth(a,n);var o=this.toChineseMonth(a,n);var l=Object.getPrototypeOf(ChineseCalendar.prototype).add.call(this,e,t,r);if(r==="y"){var s=l.year();var c=l.month();var u=this.isIntercalaryMonth(s,o);var f=i&&u?this.toMonthIndex(s,o,true):this.toMonthIndex(s,o,false);if(f!==c){l.month(f)}}return l}});var l=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m;var o=/^\d?\d[iI]?/m;var s=/^??[]?/m;var c=/^??[]?/m;u.calendars.chinese=ChineseCalendar;var w=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548];var T=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function toLunar(e,t,r,a){var n;var i;if(typeof e==="object"){n=e;i=t||{}}else{var o=typeof e==="number"&&e>=1888&&e<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var l=typeof t==="number"&&t>=1&&t<=12;if(!l)throw new Error("Solar month outside range 1 - 12");var s=typeof r==="number"&&r>=1&&r<=31;if(!s)throw new Error("Solar day outside range 1 - 31");n={year:e,month:t,day:r};i=a||{}}var c=T[n.year-T[0]];var u=n.year<<9|n.month<<5|n.day;i.year=u>=c?n.year:n.year-1;c=T[i.year-T[0]];var f=c>>9&4095;var d=c>>5&15;var v=c&31;var h;var p=new Date(f,d-1,v);var g=new Date(n.year,n.month-1,n.day);h=Math.round((g-p)/(24*3600*1e3));var m=w[i.year-w[0]];var y;for(y=0;y<13;y++){var x=m&1<<12-y?30:29;if(h<x){break}h-=x}var _=m>>13;if(!_||y<_){i.isIntercalary=false;i.month=1+y}else if(y===_){i.isIntercalary=true;i.month=y}else{i.isIntercalary=false;i.month=y}i.day=1+h;return i}function toSolar(e,t,r,a,n){var i;var o;if(typeof e==="object"){o=e;i=t||{}}else{var l=typeof e==="number"&&e>=1888&&e<=2111;if(!l)throw new Error("Lunar year outside range 1888-2111");var s=typeof t==="number"&&t>=1&&t<=12;if(!s)throw new Error("Lunar month outside range 1 - 12");var c=typeof r==="number"&&r>=1&&r<=30;if(!c)throw new Error("Lunar day outside range 1 - 30");var u;if(typeof a==="object"){u=false;i=a}else{u=!!a;i=n||{}}o={year:e,month:t,day:r,isIntercalary:u}}var f;f=o.day-1;var d=w[o.year-w[0]];var v=d>>13;var h;if(!v){h=o.month-1}else if(o.month>v){h=o.month}else if(o.isIntercalary){h=o.month}else{h=o.month-1}for(var p=0;p<h;p++){var g=d&1<<12-p?30:29;f+=g}var m=T[o.year-T[0]];var y=m>>9&4095;var x=m>>5&15;var _=m&31;var b=new Date(y,x-1,_+f);i.year=b.getFullYear();i.month=1+b.getMonth();i.day=b.getDate();return i}},8751:function(e,t,r){var n=r(3489);var a=r(6131);function CopticCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}CopticCalendar.prototype=new n.baseCalendar;a(CopticCalendar.prototype,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:false,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:false}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,n.local.invalidYear);var e=t.year()+(t.year()<0?1:0);return e%4===3||e%4===-1},monthsInYear:function(e){this._validate(e,this.minMonth,this.minDay,n.local.invalidYear||n.regionalOptions[""].invalidYear);return 13},weekOfYear:function(e,t,r){var a=this.newDate(e,t,r);a.add(-a.dayOfWeek(),"d");return Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,n.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===13&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(e,t,r){var a=this._validate(e,t,r,n.local.invalidDate);e=a.year();if(e<0){e++}return a.day()+(a.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch;var r=Math.floor((t-Math.floor((t+366)/1461))/365)+1;if(r<=0){r--}t=Math.floor(e)+.5-this.newDate(r,1,1).toJD();var a=Math.floor(t/30)+1;var n=t-(a-1)*30+1;return this.newDate(r,a,n)}});n.calendars.coptic=CopticCalendar},6825:function(e,t,r){var n=r(3489);var a=r(6131);function DiscworldCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}DiscworldCalendar.prototype=new n.baseCalendar;a(DiscworldCalendar.prototype,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:false,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:false}},leapYear:function(e){this._validate(e,this.minMonth,this.minDay,n.local.invalidYear);return false},monthsInYear:function(e){this._validate(e,this.minMonth,this.minDay,n.local.invalidYear);return 13},daysInYear:function(e){this._validate(e,this.minMonth,this.minDay,n.local.invalidYear);return 400},weekOfYear:function(e,t,r){var a=this.newDate(e,t,r);a.add(-a.dayOfWeek(),"d");return Math.floor((a.dayOfYear()-1)/8)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,n.local.invalidMonth);return this.daysPerMonth[r.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,t,r){var a=this._validate(e,t,r,n.local.invalidDate);return(a.day()+1)%8},weekDay:function(e,t,r){var a=this.dayOfWeek(e,t,r);return a>=2&&a<=6},extraInfo:function(e,t,r){var a=this._validate(e,t,r,n.local.invalidDate);return{century:i[Math.floor((a.year()-1)/100)+1]||""}},toJD:function(e,t,r){var a=this._validate(e,t,r,n.local.invalidDate);e=a.year()+(a.year()<0?1:0);t=a.month();r=a.day();return r+(t>1?16:0)+(t>2?(t-2)*32:0)+(e-1)*400+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var t=Math.floor(e/400)+1;e-=(t-1)*400;e+=e>15?16:0;var r=Math.floor(e/32)+1;var a=e-(r-1)*32+1;return this.newDate(t<=0?t-1:t,r,a)}});var i={20:"Fruitbat",21:"Anchovy"};n.calendars.discworld=DiscworldCalendar},7715:function(e,t,r){var n=r(3489);var a=r(6131);function EthiopianCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}EthiopianCalendar.prototype=new n.baseCalendar;a(EthiopianCalendar.prototype,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:false,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:false}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,n.local.invalidYear);var e=t.year()+(t.year()<0?1:0);return e%4===3||e%4===-1},monthsInYear:function(e){this._validate(e,this.minMonth,this.minDay,n.local.invalidYear||n.regionalOptions[""].invalidYear);return 13},weekOfYear:function(e,t,r){var a=this.newDate(e,t,r);a.add(-a.dayOfWeek(),"d");return Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,n.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===13&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(e,t,r){var a=this._validate(e,t,r,n.local.invalidDate);e=a.year();if(e<0){e++}return a.day()+(a.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch;var r=Math.floor((t-Math.floor((t+366)/1461))/365)+1;if(r<=0){r--}t=Math.floor(e)+.5-this.newDate(r,1,1).toJD();var a=Math.floor(t/30)+1;var n=t-(a-1)*30+1;return this.newDate(r,a,n)}});n.calendars.ethiopian=EthiopianCalendar},9384:function(e,t,r){var l=r(3489);var a=r(6131);function HebrewCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}HebrewCalendar.prototype=new l.baseCalendar;a(HebrewCalendar.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:false,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:false}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,l.local.invalidYear);return this._leapYear(t.year())},_leapYear:function(e){e=e<0?e+1:e;return mod(e*7+1,19)<7},monthsInYear:function(e){this._validate(e,this.minMonth,this.minDay,l.local.invalidYear);return this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,t,r){var a=this.newDate(e,t,r);a.add(-a.dayOfWeek(),"d");return Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,l.local.invalidYear);e=t.year();return this.toJD(e===-1?+1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,t){if(e.year){t=e.month();e=e.year()}this._validate(e,t,this.minDay,l.local.invalidMonth);return t===12&&this.leapYear(e)?30:t===8&&mod(this.daysInYear(e),10)===5?30:t===9&&mod(this.daysInYear(e),10)===3?29:this.daysPerMonth[t-1]},weekDay:function(e,t,r){return this.dayOfWeek(e,t,r)!==6},extraInfo:function(e,t,r){var a=this._validate(e,t,r,l.local.invalidDate);return{yearType:(this.leapYear(a)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(a)%10-3]}},toJD:function(e,t,r){var a=this._validate(e,t,r,l.local.invalidDate);e=a.year();t=a.month();r=a.day();var n=e<=0?e+1:e;var i=this.jdEpoch+this._delay1(n)+this._delay2(n)+r+1;if(t<7){for(var o=7;o<=this.monthsInYear(e);o++){i+=this.daysInMonth(e,o)}for(var o=1;o<t;o++){i+=this.daysInMonth(e,o)}}else{for(var o=7;o<t;o++){i+=this.daysInMonth(e,o)}}return i},_delay1:function(e){var t=Math.floor((235*e-234)/19);var r=12084+13753*t;var a=t*29+Math.floor(r/25920);if(mod(3*(a+1),7)<3){a++}return a},_delay2:function(e){var t=this._delay1(e-1);var r=this._delay1(e);var a=this._delay1(e+1);return a-r===356?2:r-t===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;var t=Math.floor((e-this.jdEpoch)*98496/35975351)-1;while(e>=this.toJD(t===-1?+1:t+1,7,1)){t++}var r=e<this.toJD(t,1,1)?7:1;while(e>this.toJD(t,r,this.daysInMonth(t,r))){r++}var a=e-this.toJD(t,r,1)+1;return this.newDate(t,r,a)}});function mod(e,t){return e-t*Math.floor(e/t)}l.calendars.hebrew=HebrewCalendar},3805:function(e,t,r){var n=r(3489);var a=r(6131);function IslamicCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}IslamicCalendar.prototype=new n.baseCalendar;a(IslamicCalendar.prototype,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:false,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:false}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,n.local.invalidYear);return(t.year()*11+14)%30<11},weekOfYear:function(e,t,r){var a=this.newDate(e,t,r);a.add(-a.dayOfWeek(),"d");return Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,n.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===12&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return this.dayOfWeek(e,t,r)!==5},toJD:function(e,t,r){var a=this._validate(e,t,r,n.local.invalidDate);e=a.year();t=a.month();r=a.day();e=e<=0?e+1:e;return r+Math.ceil(29.5*(t-1))+(e-1)*354+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var t=Math.floor((30*(e-this.jdEpoch)+10646)/10631);t=t<=0?t-1:t;var r=Math.min(12,Math.ceil((e-29-this.toJD(t,1,1))/29.5)+1);var a=e-this.toJD(t,r,1)+1;return this.newDate(t,r,a)}});n.calendars.islamic=IslamicCalendar},8874:function(e,t,r){var n=r(3489);var a=r(6131);function JulianCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}JulianCalendar.prototype=new n.baseCalendar;a(JulianCalendar.prototype,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:false,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:false}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,n.local.invalidYear);var e=t.year()<0?t.year()+1:t.year();return e%4===0},weekOfYear:function(e,t,r){var a=this.newDate(e,t,r);a.add(4-(a.dayOfWeek()||7),"d");return Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,n.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(e,t,r){var a=this._validate(e,t,r,n.local.invalidDate);e=a.year();t=a.month();r=a.day();if(e<0){e++}if(t<=2){e--;t+=12}return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+r-1524.5},fromJD:function(e){var t=Math.floor(e+.5);var r=t+1524;var a=Math.floor((r-122.1)/365.25);var n=Math.floor(365.25*a);var i=Math.floor((r-n)/30.6001);var o=i-Math.floor(i<14?1:13);var l=a-Math.floor(o>2?4716:4715);var s=r-n-Math.floor(30.6001*i);if(l<=0){l--}return this.newDate(l,o,s)}});n.calendars.julian=JulianCalendar},3290:function(e,t,r){var l=r(3489);var a=r(6131);function MayanCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}MayanCalendar.prototype=new l.baseCalendar;a(MayanCalendar.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:true,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:false,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(e){this._validate(e,this.minMonth,this.minDay,l.local.invalidYear);return false},formatYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,l.local.invalidYear);e=t.year();var r=Math.floor(e/400);e=e%400;e+=e<0?400:0;var a=Math.floor(e/20);return r+"."+a+"."+e%20},forYear:function(e){e=e.split(".");if(e.length<3){throw"Invalid Mayan year"}var t=0;for(var r=0;r<e.length;r++){var a=parseInt(e[r],10);if(Math.abs(a)>19||r>0&&a<0){throw"Invalid Mayan year"}t=t*20+a}return t},monthsInYear:function(e){this._validate(e,this.minMonth,this.minDay,l.local.invalidYear);return 18},weekOfYear:function(e,t,r){this._validate(e,t,r,l.local.invalidDate);return 0},daysInYear:function(e){this._validate(e,this.minMonth,this.minDay,l.local.invalidYear);return 360},daysInMonth:function(e,t){this._validate(e,t,this.minDay,l.local.invalidMonth);return 20},daysInWeek:function(){return 5},dayOfWeek:function(e,t,r){var a=this._validate(e,t,r,l.local.invalidDate);return a.day()},weekDay:function(e,t,r){this._validate(e,t,r,l.local.invalidDate);return true},extraInfo:function(e,t,r){var a=this._validate(e,t,r,l.local.invalidDate);var n=a.toJD();var i=this._toHaab(n);var o=this._toTzolkin(n);return{haabMonthName:this.local.haabMonths[i[0]-1],haabMonth:i[0],haabDay:i[1],tzolkinDayName:this.local.tzolkinMonths[o[0]-1],tzolkinDay:o[0],tzolkinTrecena:o[1]}},_toHaab:function(e){e-=this.jdEpoch;var t=mod(e+8+(18-1)*20,365);return[Math.floor(t/20)+1,mod(t,20)]},_toTzolkin:function(e){e-=this.jdEpoch;return[amod(e+20,20),amod(e+4,13)]},toJD:function(e,t,r){var a=this._validate(e,t,r,l.local.invalidDate);return a.day()+a.month()*20+a.year()*360+this.jdEpoch},fromJD:function(e){e=Math.floor(e)+.5-this.jdEpoch;var t=Math.floor(e/360);e=e%360;e+=e<0?360:0;var r=Math.floor(e/20);var a=e%20;return this.newDate(t,r,a)}});function mod(e,t){return e-t*Math.floor(e/t)}function amod(e,t){return mod(e-1,t)+1}l.calendars.mayan=MayanCalendar},9108:function(e,t,r){var o=r(3489);var a=r(6131);function NanakshahiCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}NanakshahiCalendar.prototype=new o.baseCalendar;var l=o.instance("gregorian");a(NanakshahiCalendar.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:false,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:false}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return l.leapYear(t.year()+(t.year()<1?1:0)+1469)},weekOfYear:function(e,t,r){var a=this.newDate(e,t,r);a.add(1-(a.dayOfWeek()||7),"d");return Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,o.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===12&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(e,t,r){var a=this._validate(e,t,r,o.local.invalidMonth);var e=a.year();if(e<0){e++}var n=a.day();for(var i=1;i<a.month();i++){n+=this.daysPerMonth[i-1]}return n+l.toJD(e+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);var t=Math.floor((e-(this.jdEpoch-1))/366);while(e>=this.toJD(t+1,1,1)){t++}var r=e-Math.floor(this.toJD(t,1,1)+.5)+1;var a=1;while(r>this.daysInMonth(t,a)){r-=this.daysInMonth(t,a);a++}return this.newDate(t,a,r)}});o.calendars.nanakshahi=NanakshahiCalendar},5422:function(e,t,r){var u=r(3489);var a=r(6131);function NepaliCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}NepaliCalendar.prototype=new u.baseCalendar;a(NepaliCalendar.prototype,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:false,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:false}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,t,r){var a=this.newDate(e,t,r);a.add(-a.dayOfWeek(),"d");return Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,u.local.invalidYear);e=t.year();if(typeof this.NEPALI_CALENDAR_DATA[e]==="undefined"){return this.daysPerYear}var r=0;for(var a=this.minMonth;a<=12;a++){r+=this.NEPALI_CALENDAR_DATA[e][a]}return r},daysInMonth:function(e,t){if(e.year){t=e.month();e=e.year()}this._validate(e,t,this.minDay,u.local.invalidMonth);return typeof this.NEPALI_CALENDAR_DATA[e]==="undefined"?this.daysPerMonth[t-1]:this.NEPALI_CALENDAR_DATA[e][t]},weekDay:function(e,t,r){return this.dayOfWeek(e,t,r)!==6},toJD:function(e,t,r){var a=this._validate(e,t,r,u.local.invalidDate);e=a.year();t=a.month();r=a.day();var n=u.instance();var i=0;var o=t;var l=e;this._createMissingCalendarData(e);var s=e-(o>9||o===9&&r>=this.NEPALI_CALENDAR_DATA[l][0]?56:57);if(t!==9){i=r;o--}while(o!==9){if(o<=0){o=12;l--}i+=this.NEPALI_CALENDAR_DATA[l][o];o--}if(t===9){i+=r-this.NEPALI_CALENDAR_DATA[l][0];if(i<0){i+=n.daysInYear(s)}}else{i+=this.NEPALI_CALENDAR_DATA[l][9]-this.NEPALI_CALENDAR_DATA[l][0]}return n.newDate(s,1,1).add(i,"d").toJD()},fromJD:function(e){var t=u.instance();var r=t.fromJD(e);var a=r.year();var n=r.dayOfYear();var i=a+56;this._createMissingCalendarData(i);var o=9;var l=this.NEPALI_CALENDAR_DATA[i][0];var s=this.NEPALI_CALENDAR_DATA[i][o]-l+1;while(n>s){o++;if(o>12){o=1;i++}s+=this.NEPALI_CALENDAR_DATA[i][o]}var c=this.NEPALI_CALENDAR_DATA[i][o]-(s-n);return this.newDate(i,o,c)},_createMissingCalendarData:function(e){var t=this.daysPerMonth.slice(0);t.unshift(17);for(var r=e-1;r<e+2;r++){if(typeof this.NEPALI_CALENDAR_DATA[r]==="undefined"){this.NEPALI_CALENDAR_DATA[r]=t}}},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}});u.calendars.nepali=NepaliCalendar},4320:function(e,t,r){var o=r(3489);var a=r(6131);function PersianCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}PersianCalendar.prototype=new o.baseCalendar;a(PersianCalendar.prototype,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:false,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:false}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,o.local.invalidYear);return((t.year()-(t.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(e,t,r){var a=this.newDate(e,t,r);a.add(-((a.dayOfWeek()+1)%7),"d");return Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,o.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===12&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return this.dayOfWeek(e,t,r)!==5},toJD:function(e,t,r){var a=this._validate(e,t,r,o.local.invalidDate);e=a.year();t=a.month();r=a.day();var n=e-(e>=0?474:473);var i=474+mod(n,2820);return r+(t<=7?(t-1)*31:(t-1)*30+6)+Math.floor((i*682-110)/2816)+(i-1)*365+Math.floor(n/2820)*1029983+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var t=e-this.toJD(475,1,1);var r=Math.floor(t/1029983);var a=mod(t,1029983);var n=2820;if(a!==1029982){var i=Math.floor(a/366);var o=mod(a,366);n=Math.floor((2134*i+2816*o+2815)/1028522)+i+1}var l=n+2820*r+474;l=l<=0?l-1:l;var s=e-this.toJD(l,1,1)+1;var c=s<=186?Math.ceil(s/31):Math.ceil((s-6)/30);var u=e-this.toJD(l,c,1)+1;return this.newDate(l,c,u)}});function mod(e,t){return e-t*Math.floor(e/t)}o.calendars.persian=PersianCalendar;o.calendars.jalali=PersianCalendar},1320:function(e,t,r){var n=r(3489);var a=r(6131);var i=n.instance();function TaiwanCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}TaiwanCalendar.prototype=new n.baseCalendar;a(TaiwanCalendar.prototype,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:false,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:false}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,n.local.invalidYear);var e=this._t2gYear(t.year());return i.leapYear(e)},weekOfYear:function(e,t,r){var a=this._validate(e,this.minMonth,this.minDay,n.local.invalidYear);var e=this._t2gYear(a.year());return i.weekOfYear(e,a.month(),a.day())},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,n.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(e,t,r){var a=this._validate(e,t,r,n.local.invalidDate);var e=this._t2gYear(a.year());return i.toJD(e,a.month(),a.day())},fromJD:function(e){var t=i.fromJD(e);var r=this._g2tYear(t.year());return this.newDate(r,t.month(),t.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}});n.calendars.taiwan=TaiwanCalendar},1367:function(e,t,r){var n=r(3489);var a=r(6131);var i=n.instance();function ThaiCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}ThaiCalendar.prototype=new n.baseCalendar;a(ThaiCalendar.prototype,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:false,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:false}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,n.local.invalidYear);var e=this._t2gYear(t.year());return i.leapYear(e)},weekOfYear:function(e,t,r){var a=this._validate(e,this.minMonth,this.minDay,n.local.invalidYear);var e=this._t2gYear(a.year());return i.weekOfYear(e,a.month(),a.day())},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,n.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(e,t,r){var a=this._validate(e,t,r,n.local.invalidDate);var e=this._t2gYear(a.year());return i.toJD(e,a.month(),a.day())},fromJD:function(e){var t=i.fromJD(e);var r=this._g2tYear(t.year());return this.newDate(r,t.month(),t.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}});n.calendars.thai=ThaiCalendar},1457:function(e,t,r){var o=r(3489);var a=r(6131);function UmmAlQuraCalendar(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}UmmAlQuraCalendar.prototype=new o.baseCalendar;a(UmmAlQuraCalendar.prototype,{name:"UmmAlQura",hasYearZero:false,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:true}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,o.local.invalidYear);return this.daysInYear(t.year())===355},weekOfYear:function(e,t,r){var a=this.newDate(e,t,r);a.add(-a.dayOfWeek(),"d");return Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){var t=0;for(var r=1;r<=12;r++){t+=this.daysInMonth(e,r)}return t},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,o.local.invalidMonth);var a=r.toJD()-24e5+.5;var n=0;for(var i=0;i<c.length;i++){if(c[i]>a){return c[n]-c[n-1]}n++}return 30},weekDay:function(e,t,r){return this.dayOfWeek(e,t,r)!==5},toJD:function(e,t,r){var a=this._validate(e,t,r,o.local.invalidDate);var n=12*(a.year()-1)+a.month()-15292;var i=a.day()+c[n-1]-1;return i+24e5-.5},fromJD:function(e){var t=e-24e5+.5;var r=0;for(var a=0;a<c.length;a++){if(c[a]>t)break;r++}var n=r+15292;var i=Math.floor((n-1)/12);var o=i+1;var l=n-12*i;var s=t-c[r-1]+1;return this.newDate(o,l,s)},isValid:function(e,t,r){var a=o.baseCalendar.prototype.isValid.apply(this,arguments);if(a){e=e.year!=null?e.year:e;a=e>=1276&&e<=1500}return a},_validate:function(e,t,r,a){var n=o.baseCalendar.prototype._validate.apply(this,arguments);if(n.year<1276||n.year>1500){throw a.replace(/\{0\}/,this.local.name)}return n}});o.calendars.ummalqura=UmmAlQuraCalendar;var c=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},3489:function(e,t,r){var a=r(6131);function Calendars(){this.regionalOptions=[];this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"};this.local=this.regionalOptions[""];this.calendars={};this._localCals={}}a(Calendars.prototype,{instance:function(e,t){e=(e||"gregorian").toLowerCase();t=t||"";var r=this._localCals[e+"-"+t];if(!r&&this.calendars[e]){r=new this.calendars[e](t);this._localCals[e+"-"+t]=r}if(!r){throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e)}return r},newDate:function(e,t,r,a,n){a=(e!=null&&e.year?e.calendar():typeof a==="string"?this.instance(a,n):a)||this.instance();return a.newDate(e,t,r)},substituteDigits:function(t){return function(e){return(e+"").replace(/[0-9]/g,function(e){return t[e]})}},substituteChineseDigits:function(n,i){return function(e){var t="";var r=0;while(e>0){var a=e%10;t=(a===0?"":n[a]+i[r])+t;r++;e=Math.floor(e/10)}if(t.indexOf(n[1]+i[1])===0){t=t.substr(1)}return t||n[0]}}});function CDate(e,t,r,a){this._calendar=e;this._year=t;this._month=r;this._day=a;if(this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day)){throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}}function pad(e,t){e=""+e;return"000000".substring(0,t-e.length)+e}a(CDate.prototype,{newDate:function(e,t,r){return this._calendar.newDate(e==null?this:e,t,r)},year:function(e){return arguments.length===0?this._year:this.set(e,"y")},month:function(e){return arguments.length===0?this._month:this.set(e,"m")},day:function(e){return arguments.length===0?this._day:this.set(e,"d")},date:function(e,t,r){if(!this._calendar.isValid(e,t,r)){throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}this._year=e;this._month=t;this._day=r;return this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,t){return this._calendar.add(this,e,t)},set:function(e,t){return this._calendar.set(this,e,t)},compareTo:function(e){if(this._calendar.name!==e._calendar.name){throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name)}var t=this._year!==e._year?this._year-e._year:this._month!==e._month?this.monthOfYear()-e.monthOfYear():this._day-e._day;return t===0?0:t<0?-1:+1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?"-":"")+pad(Math.abs(this.year()),4)+"-"+pad(this.month(),2)+"-"+pad(this.day(),2)}});function BaseCalendar(){this.shortYearCutoff="+10"}a(BaseCalendar.prototype,{_validateLevel:0,newDate:function(e,t,r){if(e==null){return this.today()}if(e.year){this._validate(e,t,r,o.local.invalidDate||o.regionalOptions[""].invalidDate);r=e.day();t=e.month();e=e.year()}return new CDate(this,e,t,r)},today:function(){return this.fromJSDate(new Date)},epoch:function(e){var t=this._validate(e,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+pad(Math.abs(t.year()),4)},monthsInYear:function(e){this._validate(e,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return 12},monthOfYear:function(e,t){var r=this._validate(e,t,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return(r.month()+this.monthsInYear(r)-this.firstMonth)%this.monthsInYear(r)+this.minMonth},fromMonthOfYear:function(e,t){var r=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;this._validate(e,r,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return r},daysInYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(e,t,r){var a=this._validate(e,t,r,o.local.invalidDate||o.regionalOptions[""].invalidDate);return a.toJD()-this.newDate(a.year(),this.fromMonthOfYear(a.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,t,r){var a=this._validate(e,t,r,o.local.invalidDate||o.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(a))+2)%this.daysInWeek()},extraInfo:function(e,t,r){this._validate(e,t,r,o.local.invalidDate||o.regionalOptions[""].invalidDate);return{}},add:function(e,t,r){this._validate(e,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate);return this._correctAdd(e,this._add(e,t,r),t,r)},_add:function(e,t,r){this._validateLevel++;if(r==="d"||r==="w"){var a=e.toJD()+t*(r==="w"?this.daysInWeek():1);var n=e.calendar().fromJD(a);this._validateLevel--;return[n.year(),n.month(),n.day()]}try{var i=e.year()+(r==="y"?t:0);var o=e.monthOfYear()+(r==="m"?t:0);var n=e.day();var l=function(e){while(o<e.minMonth){i--;o+=e.monthsInYear(i)}var t=e.monthsInYear(i);while(o>t-1+e.minMonth){i++;o-=t;t=e.monthsInYear(i)}};if(r==="y"){if(e.month()!==this.fromMonthOfYear(i,o)){o=this.newDate(i,e.month(),this.minDay).monthOfYear()}o=Math.min(o,this.monthsInYear(i));n=Math.min(n,this.daysInMonth(i,this.fromMonthOfYear(i,o)))}else if(r==="m"){l(this);n=Math.min(n,this.daysInMonth(i,this.fromMonthOfYear(i,o)))}var s=[i,this.fromMonthOfYear(i,o),n];this._validateLevel--;return s}catch(c){this._validateLevel--;throw c}},_correctAdd:function(e,t,r,a){if(!this.hasYearZero&&(a==="y"||a==="m")){if(t[0]===0||e.year()>0!==t[0]>0){var n={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[a];var i=r<0?-1:+1;t=this._add(e,r*n[0]+i*n[1],n[2])}}return e.date(t[0],t[1],t[2])},set:function(e,t,r){this._validate(e,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate);var a=r==="y"?t:e.year();var n=r==="m"?t:e.month();var i=r==="d"?t:e.day();if(r==="y"||r==="m"){i=Math.min(i,this.daysInMonth(a,n))}return e.date(a,n,i)},isValid:function(e,t,r){this._validateLevel++;var a=this.hasYearZero||e!==0;if(a){var n=this.newDate(e,t,this.minDay);a=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(n)&&(r>=this.minDay&&r-this.minDay<this.daysInMonth(n))}this._validateLevel--;return a},toJSDate:function(e,t,r){var a=this._validate(e,t,r,o.local.invalidDate||o.regionalOptions[""].invalidDate);return o.instance().fromJD(this.toJD(a)).toJSDate()},fromJSDate:function(e){return this.fromJD(o.instance().fromJSDate(e).toJD())},_validate:function(e,t,r,a){if(e.year){if(this._validateLevel===0&&this.name!==e.calendar().name){throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name)}return e}try{this._validateLevel++;if(this._validateLevel===1&&!this.isValid(e,t,r)){throw a.replace(/\{0\}/,this.local.name)}var n=this.newDate(e,t,r);this._validateLevel--;return n}catch(i){this._validateLevel--;throw i}}});function GregorianCalendar(e){this.local=this.regionalOptions[e]||this.regionalOptions[""]}GregorianCalendar.prototype=new BaseCalendar;a(GregorianCalendar.prototype,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:false,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:false}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);var e=t.year()+(t.year()<0?1:0);return e%4===0&&(e%100!==0||e%400===0)},weekOfYear:function(e,t,r){var a=this.newDate(e,t,r);a.add(4-(a.dayOfWeek()||7),"d");return Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var r=this._validate(e,t,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6},toJD:function(e,t,r){var a=this._validate(e,t,r,o.local.invalidDate||o.regionalOptions[""].invalidDate);e=a.year();t=a.month();r=a.day();if(e<0){e++}if(t<3){t+=12;e--}var n=Math.floor(e/100);var i=2-n+Math.floor(n/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+r+i-1524.5},fromJD:function(e){var t=Math.floor(e+.5);var r=Math.floor((t-1867216.25)/36524.25);r=t+1+r-Math.floor(r/4);var a=r+1524;var n=Math.floor((a-122.1)/365.25);var i=Math.floor(365.25*n);var o=Math.floor((a-i)/30.6001);var l=a-i-Math.floor(o*30.6001);var s=o-(o>13.5?13:1);var c=n-(s>2.5?4716:4715);if(c<=0){c--}return this.newDate(c,s,l)},toJSDate:function(e,t,r){var a=this._validate(e,t,r,o.local.invalidDate||o.regionalOptions[""].invalidDate);var n=new Date(a.year(),a.month()-1,a.day());n.setHours(0);n.setMinutes(0);n.setSeconds(0);n.setMilliseconds(0);n.setHours(n.getHours()>12?n.getHours()+2:0);return n},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var o=e.exports=new Calendars;o.cdate=CDate;o.baseCalendar=BaseCalendar;o.calendars.gregorian=GregorianCalendar},4338:function(e,t,r){var a=r(6131);var C=r(3489);a(C.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"});C.local=C.regionalOptions[""];a(C.cdate.prototype,{formatDate:function(e,t){if(typeof e!=="string"){t=e;e=""}return this._calendar.formatDate(e||"",this,t)}});a(C.baseCalendar.prototype,{UNIX_EPOCH:C.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:C.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,e,t){if(typeof a!=="string"){t=e;e=a;a=""}if(!e){return""}if(e.calendar()!==this){throw C.local.invalidFormat||C.regionalOptions[""].invalidFormat}a=a||this.local.dateFormat;t=t||{};var r=t.dayNamesShort||this.local.dayNamesShort;var n=t.dayNames||this.local.dayNames;var i=t.monthNumbers||this.local.monthNumbers;var o=t.monthNamesShort||this.local.monthNamesShort;var l=t.monthNames||this.local.monthNames;var s=t.calculateWeek||this.local.calculateWeek;var c=function(e,t){var r=1;while(x+r<a.length&&a.charAt(x+r)===e){r++}x+=r-1;return Math.floor(r/(t||1))>1};var u=function(e,t,r,a){var n=""+t;if(c(e,a)){while(n.length<r){n="0"+n}}return n};var f=function(e,t,r,a){return c(e)?a[t]:r[t]};var d=this;var v=function(e){return typeof i==="function"?i.call(d,e,c("m")):g(u("m",e.month(),2))};var h=function(e,t){if(t){return typeof l==="function"?l.call(d,e):l[e.month()-d.minMonth]}else{return typeof o==="function"?o.call(d,e):o[e.month()-d.minMonth]}};var p=this.local.digits;var g=function(e){return t.localNumbers&&p?p(e):e};var m="";var y=false;for(var x=0;x<a.length;x++){if(y){if(a.charAt(x)==="'"&&!c("'")){y=false}else{m+=a.charAt(x)}}else{switch(a.charAt(x)){case"d":m+=g(u("d",e.day(),2));break;case"D":m+=f("D",e.dayOfWeek(),r,n);break;case"o":m+=u("o",e.dayOfYear(),3);break;case"w":m+=u("w",e.weekOfYear(),2);break;case"m":m+=v(e);break;case"M":m+=h(e,c("M"));break;case"y":m+=c("y",2)?e.year():(e.year()%100<10?"0":"")+e.year()%100;break;case"Y":c("Y",2);m+=e.formatYear();break;case"J":m+=e.toJD();break;case"@":m+=(e.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":m+=(e.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":if(c("'")){m+="'"}else{y=true}break;default:m+=a.charAt(x)}}}return m},parseDate:function(a,o,e){if(o==null){throw C.local.invalidArguments||C.regionalOptions[""].invalidArguments}o=typeof o==="object"?o.toString():o+"";if(o===""){return null}a=a||this.local.dateFormat;e=e||{};var t=e.shortYearCutoff||this.shortYearCutoff;t=typeof t!=="string"?t:this.today().year()%100+parseInt(t,10);var r=e.dayNamesShort||this.local.dayNamesShort;var n=e.dayNames||this.local.dayNames;var i=e.parseMonth||this.local.parseMonth;var l=e.monthNumbers||this.local.monthNumbers;var s=e.monthNamesShort||this.local.monthNamesShort;var c=e.monthNames||this.local.monthNames;var u=-1;var f=-1;var d=-1;var v=-1;var h=-1;var p=false;var g=false;var m=function(e,t){var r=1;while(A+r<a.length&&a.charAt(A+r)===e){r++}A+=r-1;return Math.floor(r/(t||1))>1};var y=function(e,t){var r=m(e,t);var a=[2,3,r?4:2,r?4:2,10,11,20]["oyYJ@!".indexOf(e)+1];var n=new RegExp("^-?\\d{1,"+a+"}");var i=o.substring(k).match(n);if(!i){throw(C.local.missingNumberAt||C.regionalOptions[""].missingNumberAt).replace(/\{0\}/,k)}k+=i[0].length;return parseInt(i[0],10)};var x=this;var _=function(){if(typeof l==="function"){m("m");var e=l.call(x,o.substring(k));k+=e.length;return e}return y("m")};var b=function(e,t,r,a){var n=m(e,a)?r:t;for(var i=0;i<n.length;i++){if(o.substr(k,n[i].length).toLowerCase()===n[i].toLowerCase()){k+=n[i].length;return i+x.minMonth}}throw(C.local.unknownNameAt||C.regionalOptions[""].unknownNameAt).replace(/\{0\}/,k)};var w=function(){if(typeof c==="function"){var e=m("M")?c.call(x,o.substring(k)):s.call(x,o.substring(k));k+=e.length;return e}return b("M",s,c)};var T=function(){if(o.charAt(k)!==a.charAt(A)){throw(C.local.unexpectedLiteralAt||C.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,k)}k++};var k=0;for(var A=0;A<a.length;A++){if(g){if(a.charAt(A)==="'"&&!m("'")){g=false}else{T()}}else{switch(a.charAt(A)){case"d":v=y("d");break;case"D":b("D",r,n);break;case"o":h=y("o");break;case"w":y("w");break;case"m":d=_();break;case"M":d=w();break;case"y":var M=A;p=!m("y",2);A=M;f=y("y",2);break;case"Y":f=y("Y",2);break;case"J":u=y("J")+.5;if(o.charAt(k)==="."){k++;y("J")}break;case"@":u=y("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=y("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":k=o.length;break;case"'":if(m("'")){T()}else{g=true}break;default:T()}}}if(k<o.length){throw C.local.unexpectedText||C.regionalOptions[""].unexpectedText}if(f===-1){f=this.today().year()}else if(f<100&&p){f+=t===-1?1900:this.today().year()-this.today().year()%100-(f<=t?0:100)}if(typeof d==="string"){d=i.call(this,f,d)}if(h>-1){d=1;v=h;for(var S=this.daysInMonth(f,d);v>S;S=this.daysInMonth(f,d)){d++;v-=S}}return u>-1?this.fromJD(u):this.newDate(f,d,v)},determineDate:function(e,t,i,o,l){if(i&&typeof i!=="object"){l=o;o=i;i=null}if(typeof o!=="string"){l=o;o=""}var s=this;var r=function(e){try{return s.parseDate(o,e,l)}catch(n){}e=e.toLowerCase();var t=(e.match(/^c/)&&i?i.newDate():null)||s.today();var r=/([+-]?[0-9]+)\s*(d|w|m|y)?/g;var a=r.exec(e);while(a){t.add(parseInt(a[1],10),a[2]||"d");a=r.exec(e)}return t};t=t?t.newDate():null;e=e==null?t:typeof e==="string"?r(e):typeof e==="number"?isNaN(e)||e===Infinity||e===-Infinity?t:s.today().add(e,"d"):s.newDate(e);return e}})}};var n={};function __webpack_require__(e){var t=n[e];if(t!==undefined){return t.exports}var r=n[e]={exports:{}};a[e].call(r.exports,r,r.exports,__webpack_require__);return r.exports}!function(){__webpack_require__.d=function(e,t){for(var r in t){if(__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)){Object.defineProperty(e,r,{enumerable:true,get:t[r]})}}}}();!function(){__webpack_require__.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()}();!function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();!function(){__webpack_require__.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}}();var e=__webpack_require__(2576);return e}()});